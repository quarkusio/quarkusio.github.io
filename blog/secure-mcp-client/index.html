<!DOCTYPE html>
<html lang="en">







<head>
  <title>Use Quarkus MCP client to access secure MCP HTTP servers - Quarkus</title>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <meta http-equiv="Content-Security-Policy" content="
  connect-src 'self' https://dpm.demdex.net https://adobedc.demdex.net https://analytics.ossupstream.org/ https://search.quarkus.io https://smetrics.redhat.com https://ajax.googleapis.com; 
  script-src 'self' 'unsafe-inline' 'unsafe-eval'
      
      https://assets.adobedtm.com
      js.bizographics.com
      https://www.redhat.com
      https://static.redhat.com
      https://app.requestly.io/
      jsonip.com
      https://ajax.googleapis.com
      https://use.fontawesome.com
      http://www.youtube.com
      http://www.googleadservices.com
      https://googleads.g.doubleclick.net
      https://giscus.app
      https://analytics.ossupstream.org/
      https://app.mailjet.com;

  style-src 'self' https://fonts.googleapis.com https://use.fontawesome.com; 
  img-src 'self' * data:; 
  media-src 'self'; 
  frame-src https://redhat.demdex.net https://www.youtube.com https://player.restream.io https://app.mailjet.com http://xy0p2.mjt.lu https://mj.quarkus.io https://giscus.app; 
  base-uri 'none'; 
  object-src 'none'; 
  form-action 'none'; 
  font-src 'self' https://use.fontawesome.com https://fonts.gstatic.com;" />

  <script id="adobe_dtm" src="https://www.redhat.com/dtm.js" type="text/javascript"></script>
  <script src="/assets/javascript/highlight.pack.js" type="text/javascript"></script>
  <META HTTP-EQUIV='X-XSS-Protection' CONTENT="1; mode=block">
  <META HTTP-EQUIV='X-Content-Type-Options' CONTENT="nosniff">
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <meta name="description" content="Quarkus: Supersonic Subatomic Java">
  <meta name="twitter:card" content="summary_large_image">
  <meta name="twitter:site" content="@QuarkusIO"> 
  <meta name="twitter:creator" content="@QuarkusIO">
  <meta property="og:url" content="https://quarkus.io/blog/secure-mcp-client/" />
  <meta property="og:title" content="Use Quarkus MCP client to access secure MCP HTTP servers" />
  <meta property="og:description" content="Quarkus: Supersonic Subatomic Java" />
  <meta property="og:image" content="https://quarkus.io/assets/images/quarkus_card.png" />
  
  <link rel="canonical" href="https://quarkus.io/blog/secure-mcp-client/">
  <link rel="shortcut icon" type="image/png" href="/favicon.ico" >
  <link rel="stylesheet" href="/guides/stylesheet/config.css" />
  <link rel="stylesheet" href="/assets/css/main.css?2021-07-29" />
  <link rel="stylesheet" href="https://use.fontawesome.com/releases/v6.5.2/css/all.css" crossorigin="anonymous">
  <link rel="alternate" type="application/rss+xml"  href="/feed.xml" title="Quarkus">
  <script src="/assets/javascript/hl.js" type="text/javascript"></script>
  
  
  
  
  <link rel="alternate" hreflang="en" href="https://quarkus.io/blog/secure-mcp-client/" />
  
  <link rel="alternate" hreflang="pt-br" href="https://pt.quarkus.io/blog/secure-mcp-client/" />
  
  <link rel="alternate" hreflang="es" href="https://es.quarkus.io/blog/secure-mcp-client/" />
  
  <link rel="alternate" hreflang="zh" href="https://cn.quarkus.io/blog/secure-mcp-client/" />
  
  <link rel="alternate" hreflang="ja" href="https://ja.quarkus.io/blog/secure-mcp-client/" />
  
  <link rel="alternate" hreflang="x-default" href="https://quarkus.io/" />  
  <script src="/assets/javascript/tracking.js"></script>
  
  <script src="/assets/javascript/colormode.js" type="text/javascript"></script>

</head>

<body class="post">

  
  <div class="nav-wrapper">
  <div class="grid-wrapper">
    <div class="width-12-12">
      <input type="checkbox" id="checkbox" />
      <nav id="main-nav" class="main-nav">
        <div class="logo-wrapper">
           <a href="/"><img src="/assets/images/quarkus_logo_horizontal_rgb_600px_reverse.png" class="project-logo" title="Quarkus"></a>
        </div>
    <label class="nav-toggle" for="checkbox">
      <i class="fa fa-bars"></i>
    </label>
    <ul id="menu" class="menu">
      <li class="dropdown">
        <span href="#">Why<i class="fas fa-chevron-down firsti"></i></span>
        <ul class="submenu">
          <li><a href="/about" class="">WHAT IS QUARKUS?</a></li>
          <li><a href="/developer-joy" class="">DEVELOPER JOY</a></li>
          <li><a href="/performance" class="">PERFORMANCE</a></li>
          <li><a href="/kubernetes-native" class="">KUBERNETES NATIVE</a></li>
          <li><a href="/standards" class="">STANDARDS</a></li>
          <li><a href="/versatility" class="">VERSATILITY</a></li>
          <li><a href="/container-first" class="">CONTAINER FIRST</a></li>
          <li><a href="/spring" class="">USING SPRING?</a></li>
          <li class="tertiarydropdown">
            <span href="#">AI<i class="fas fa-chevron-down"></i></span>
            <ul class="tertiarymenu">
              <li><a href="/ai" class="">AI OVERVIEW</a></li>
              <li><a href="/java-for-ai" class="">JAVA FOR AI</a></li>
              <li><a href="/quarkus-for-ai" class="">WHY QUARKUS FOR AI</a></li>
              <li><a href="/ai-blueprints" class="">AI BLUEPRINTS</a></li>
            </ul>
          </li>
        </ul>
      </li>
      <li class="dropdown">
        <span href="#">Learn<i class="fas fa-chevron-down firsti"></i></span>
        <ul class="submenu">
          <li><a href="/get-started" class="">GET STARTED</a></li>
          <li><a href="/guides" class="">DOCUMENTATION</a></li>
          <li><a href="/userstories/" class="">USER STORIES</a></li>  
          <li><a href="/qtips" class="">"Q" TIP VIDEOS</a></li>          
          <li><a href="/books" class="">BOOKS</a></li>
          </ul>
      </li>
      <li class="dropdown">
        <span href="#">Extensions<i class="fas fa-chevron-down firsti"></i></span>
        <ul class="submenu">
          <!-- Note that quarkus.io is hardcoded here, because it is the only url which supports extensions -->
          <li><a href="https://quarkus.io/extensions/" class="">BROWSE EXTENSIONS</a></li>
          <li><a href="/faq/#what-is-a-quarkus-extension" class="">USE EXTENSIONS</a></li>
          <li><a href="/guides/writing-extensions" class="">CREATE EXTENSIONS</a></li>
          <li><a href="https://hub.quarkiverse.io" class="">SHARE EXTENSIONS</a></li>
        </ul>
      </li>
      <li class="dropdown">
        <span href="#">Community<i class="fas fa-chevron-down firsti"></i></span>
        <ul class="submenu">
          <li><a href="/support/" class="">SUPPORT</a></li>
          <li><a href="/blog" class="active">BLOG</a></li>
          <li><a href="/discussion" class="">DISCUSSION</a></li>
          <li><a href="/working-groups" class="">WORKING GROUPS</a></li>
          <li><a href="/insights" class="">PODCAST</a></li>
          <li><a href="/events" class="">EVENTS</a></li>
          <li><a href="/newsletter" class="">NEWSLETTER</a></li>
          <li><a href="https://github.com/orgs/quarkusio/projects/13/views/1" class="">ROADMAP</a></li>
          <li><a href="/benefactors" class="">BENEFACTORS</a></li>
          </ul>
      </li>
      <li>
        <a href="https://code.quarkus.io" class="button-cta secondary white">START CODING</a>
      </li>
      <li class="dropdown">
        <span href="/language/"><div class="fas fa-globe langicon"></div><i class="fas fa-chevron-down"></i></span>
        <ul class="submenu">
          <li><a href="https://quarkus.io/blog/secure-mcp-client/" >OFFICIAL (ENGLISH)</a></li>
          <li><a href="https://pt.quarkus.io/blog/secure-mcp-client/">PORTUGUÊS (BR)</a></li>
          <li><a href="https://es.quarkus.io/blog/secure-mcp-client/">ESPAÑOL</a></li>
          <li><a href="https://cn.quarkus.io/blog/secure-mcp-client/">简体中文</a></li>
          <li><a href="https://ja.quarkus.io/blog/secure-mcp-client/">日本語</a></li>
          </ul>
      </li>
      <li>
        <span href="#" class="modeswitcher" id='theme-toggle'><i class="fas fa-sun"></i><i class="fas fa-moon"></i><i class="fas fa-cog"></i></span>
      </li>
    </ul>
      </nav>
    </div>
  </div>
</div>

  <div class="content">
    <div class="full-width-breadcrumb-bg align-self">
  <div class="width-12-12">
      <p class="returnlink"><a href="/blog">Blog</a> <i class="fas fa-chevron-right"></i> Use Quarkus MCP client to access secure MCP HTTP servers</p>
  </div>
</div>

<div class="post-page grid-wrapper">
  <div class="width-8-12 width-12-12-m doc-content">
    <div class="grid-wrapper">
      <div class="width-12-12">
        <div class="post-date">
          May 21, 2025 
          
            <span class="tags"><a href="/blog/tag/ai">#ai</a><a href="/blog/tag/mcp">#mcp</a><a href="/blog/tag/security">#security</a></span>
          
        </div>
        <h1 class="post-title">Use Quarkus MCP client to access secure MCP HTTP servers</h1>
        <div class="grid-wrapper">
          <div class="width-8-12 width-12-12-m byline-wrapper">
            <p class="byline">
              By 
              
              

              
              
              
                
                
                
                  <img class="headshot" src="https://www.gravatar.com/avatar/7941c5788c2e02a4f7f51409afca3090">
                
                  <a href="/author/sberyozkin">Sergey Beryozkin</a>
                  
              
            </p>
          </div>
          <div class="width-12-12">
              <div class="sect1">
<h2 id="introduction"><a class="anchor" href="#introduction"></a>Introduction</h2>
<div class="sectionbody">
<div class="paragraph">
<p>MCP servers that use the <em>Streamable HTTP</em> or HTTP/SSE transports may require MCP client authentication.</p>
</div>
<div class="paragraph">
<p>In the <a href="https://quarkus.io/blog/secure-mcp-sse-server/">Getting ready for secure MCP with Quarkus MCP Server</a> blog post, we explained how to enforce MCP client authentication with the <a href="https://github.com/quarkiverse/quarkus-mcp-server">Quarkus MCP Server</a> and demonstrated how <a href="https://quarkus.io/blog/secure-mcp-sse-server/#mcp-server-devui">MCP Server DevUI</a> can use Keycloak access tokens to access the MCP server in dev mode and how <a href="https://quarkus.io/blog/secure-mcp-sse-server/#mcp-inspector">MCP Inspector</a> and <a href="https://quarkus.io/blog/secure-mcp-sse-server/#use-curl-to-access-the-mcp-server">curl</a> can use GitHub access tokens to access the MCP server in prod mode.</p>
</div>
<div class="paragraph">
<p>In this blog post, we will explain how <a href="https://docs.quarkiverse.io/quarkus-langchain4j/dev/mcp.html">Quarkus MCP Client</a> can use access tokens to access secure MCP servers.</p>
</div>
<div class="paragraph">
<p>We will show how to log in to Quarkus LangChain4j AI <code>Poem Service</code> application with GitHub OAuth2 and have Google AI Gemini use tools with the help from Quarkus MCP Client that can propagate the GitHub access token to the secure Quarkus MCP Server.</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="demo-architecture"><a class="anchor" href="#demo-architecture"></a>Demo architecture</h2>
<div class="sectionbody">
<div class="imageblock text-center">
<div class="content">
<img src="/assets/images/posts/secure_mcp_client/poem_service_architecture.png" alt="Poem Service Architecture">
</div>
</div>
<div class="paragraph">
<p>As you can see in the diagram above, the user logs in into the Quarkus REST <code>Poem Service</code> application endpoint. To support the user request to create a poem, the <code>Poem Service</code> uses <code>AI Gemini</code> and requests <code>MCP Client</code> to complete a tool call to help <code>AI Gemini</code> to find out the name of the logged-in user.</p>
</div>
<div class="paragraph">
<p>An essential point is that both <code>Poem Service</code> and <code>MCP Client</code> are part of the same single Quarkus REST application that only users who logged in with GitHub can access. The users do not login to <code>MCP Client</code>, they login to the <code>Poem Service</code> application, using the <code>MCP client</code> is an implementation detail of how this application completes the user request.</p>
</div>
<div class="paragraph">
<p>Therefore, this demo does not demonstrate an implementation of the <a href="https://modelcontextprotocol.io/specification/2025-03-26/basic/authorization">MCP Authorization</a> flow which is primarily of interest to public MCP clients implemented as Single-page applications (SPA), such as as Anthropic Claude, that will be able to initiate a user login into an imported MCP server.</p>
</div>
<div class="paragraph">
<p>This demo shows a typical <code>OAuth2</code> authorization code flow where a user logs-in to a REST endpoint and authorizes it to access another service on the user&#8217;s behalf. It also strengthens the message about the <a href="https://quarkus.io/blog/gemini-personal-assistant/#integrated-ai-security">AI security being an integral part of your application security</a>.</p>
</div>
<div class="paragraph">
<p>For example, let&#8217;s temporarily update the diagram by removing the <code>AI Gemini</code>, replacing <code>MCP Client</code> with <code>REST Client</code>, <code>MCP Server</code> with <code>Poem Creator service</code> and <code>GitHub</code> with <code>OAuth2</code>:</p>
</div>
<div class="imageblock text-center">
<div class="content">
<img src="/assets/images/posts/secure_mcp_client/typical_oauth2_authorization.png" alt="Typical OAuth2 Authorization">
</div>
</div>
<div class="paragraph">
<p>You will very likely find similarities between this diagram and what you do in your projects. It is the OAuth2 authorization code flow in action: the user logs in to the application and authorizes it to access another service offering a poem creation on the user&#8217;s behalf.</p>
</div>
<div class="paragraph">
<p>The demo shows that Quarkus MCP Client can work effectively in such architectures by being able to use access tokens acquired during the user login, without you having to write any custom code.</p>
</div>
<div class="paragraph">
<p>We are now ready to start working on the <code>Secure MCP Client Server</code> demo.</p>
</div>
<div class="paragraph">
<p>You can find the complete project source in the <a href="https://github.com/quarkiverse/quarkus-langchain4j/tree/main/samples/secure-mcp-sse-client-server">Quarkus LangChain4j Secure MCP Client Server sample</a>.</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="create-mcp-server"><a class="anchor" href="#create-mcp-server"></a>Step 1 - Create and start MCP server</h2>
<div class="sectionbody">
<div class="paragraph">
<p>First, let&#8217;s create a secure Quarkus MCP SSE server.</p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
<div class="paragraph">
<p>If you already created the MCP server <a href="https://quarkus.io/blog/secure-mcp-sse-server/#initial-mcp-server">as described</a> in the the <a href="https://quarkus.io/blog/secure-mcp-sse-server/">Getting ready for secure MCP with Quarkus MCP Server</a> blog post, then you will find instructions below familiar and should be able to reuse the project you created earlier with minor updates.</p>
</div>
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>MCP server requires authentication to establish Server-Sent Events (SSE) connection and also when invoking the tools. Additionally, the MCP server endpoint that provides access to tools requires that the security identity has a <code>read:name</code> permission.</p>
</div>
<div class="sect2">
<h3 id="mcp-server-dependencies"><a class="anchor" href="#mcp-server-dependencies"></a>MCP server maven dependencies</h3>
<div class="paragraph">
<p>Add the following dependencies:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-xml hljs" data-lang="xml">&lt;dependency&gt;
    &lt;groupId&gt;io.quarkiverse.mcp&lt;/groupId&gt;
    &lt;artifactId&gt;quarkus-mcp-server-sse&lt;/artifactId&gt; <i class="conum" data-value="1"></i><b>(1)</b>
    &lt;version&gt;1.1.1&lt;/version&gt;
&lt;/dependency&gt;
&lt;dependency&gt;
    &lt;groupId&gt;io.quarkus&lt;/groupId&gt;
    &lt;artifactId&gt;quarkus-oidc&lt;/artifactId&gt; <i class="conum" data-value="2"></i><b>(2)</b>
&lt;/dependency&gt;
&lt;dependency&gt;
    &lt;groupId&gt;io.quarkus&lt;/groupId&gt;
    &lt;artifactId&gt;quarkus-hibernate-orm-panache&lt;/artifactId&gt; <i class="conum" data-value="3"></i><b>(3)</b>
&lt;/dependency&gt;
&lt;dependency&gt;
    &lt;groupId&gt;io.quarkus&lt;/groupId&gt;
    &lt;artifactId&gt;quarkus-jdbc-postgresql&lt;/artifactId&gt; <i class="conum" data-value="3"></i><b>(3)</b>
&lt;/dependency&gt;</code></pre>
</div>
</div>
<div class="colist arabic">
<table>
<tr>
<td><i class="conum" data-value="1"></i><b>1</b></td>
<td><code>quarkus-mcp-server-sse</code> is required to support MCP SSE transport.</td>
</tr>
<tr>
<td><i class="conum" data-value="2"></i><b>2</b></td>
<td><code>quarkus-oidc</code> is required to secure access to MCP SSE endpoints. Its version is defined in the Quarkus BOM.</td>
</tr>
<tr>
<td><i class="conum" data-value="3"></i><b>3</b></td>
<td><code>quarkus-hibernate-orm-panache</code> and <code>quarkus-jdbc-postgresql</code> are required to support the <a href="#security-identity-augmentation">Security Identity Augmentation</a>. Their versions are defined in the Quarkus BOM.</td>
</tr>
</table>
</div>
</div>
<div class="sect2">
<h3 id="mcp-server-tool"><a class="anchor" href="#mcp-server-tool"></a>MCP server tool</h3>
<div class="paragraph">
<p>Let&#8217;s create a tool that can return the name of the currently logged-in user. It can be invoked only if the current MCP request is authenticated but also if the security identity has a <code>read:name</code> permission:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-java hljs" data-lang="java">package io.quarkiverse.langchain4j.sample;

import io.quarkiverse.mcp.server.TextContent;
import io.quarkiverse.mcp.server.Tool;
import io.quarkus.security.PermissionsAllowed;
import io.quarkus.security.identity.SecurityIdentity;
import jakarta.inject.Inject;

public class UserNameProvider {

    @Inject
    SecurityIdentity securityIdentity;

    @Tool(name = "user-name-provider", description = "Provides a name of the currently logged-in user") <i class="conum" data-value="1"></i><b>(1)</b>
    @PermissionsAllowed("read:name") <i class="conum" data-value="2"></i><b>(2)</b>
    TextContent provideUserName() {
        return new TextContent(securityIdentity.getPrincipal().getName()); <i class="conum" data-value="3"></i><b>(3)</b>
    }
}</code></pre>
</div>
</div>
<div class="colist arabic">
<table>
<tr>
<td><i class="conum" data-value="1"></i><b>1</b></td>
<td>Provide a tool that can return the name of the current user.</td>
</tr>
<tr>
<td><i class="conum" data-value="2"></i><b>2</b></td>
<td>Require authenticated tool access with an additional authorization <code>read:name</code> permission constraint - yes, the only difference with an unauthenticated MCP server tool is <code>@PermissionsAllowed("read:name")</code>, that&#8217;s it!
See also how the main MCP SSE endpoint is secured in the <a href="#mcp-server-configuration">MCP Server Configuration</a> section below.</td>
</tr>
<tr>
<td><i class="conum" data-value="3"></i><b>3</b></td>
<td>Use the injected <code>SecurityIdentity</code> to return the current user&#8217;s name. Alternatively, it can be acquired from the injected <code>quarkus.oidc.UserInfo</code>.</td>
</tr>
</table>
</div>
</div>
<div class="sect2">
<h3 id="security-identity-augmentation"><a class="anchor" href="#security-identity-augmentation"></a>Security Identity Augmentation</h3>
<div class="paragraph">
<p>To meet the <code>@PermissionsAllowed("read:name")</code> authorization constraint, the security identity created after verifying the GitHub access token must be augmented to have a <code>read:name</code> permission.</p>
</div>
<div class="paragraph">
<p>The demo expects that a database has a record with a GitHub account name and the assigned permission. The security identity augmentor uses the identity name to retrieve this record and enhance the identity with the discovered permission.</p>
</div>
<div class="paragraph">
<p>Let&#8217;s see how this rather complex task can be easily achieved in Quarkus.</p>
</div>
<div class="paragraph">
<p>First, we create a Panache entity that keeps the account name and permission values:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-java hljs" data-lang="java">package io.quarkiverse.langchain4j.sample;

import io.quarkus.hibernate.orm.panache.PanacheEntity;
import jakarta.persistence.Column;
import jakarta.persistence.Entity;

@Entity
public class Identity extends PanacheEntity {
    @Column(unique = true)
    public String name;
    public String permission;

    public static Identity findByName(String name) { <i class="conum" data-value="1"></i><b>(1)</b>
        return find("name", name).firstResult();
    }
}</code></pre>
</div>
</div>
<div class="colist arabic">
<table>
<tr>
<td><i class="conum" data-value="1"></i><b>1</b></td>
<td>Utility method to find an identity record with a matching GitHub account name.</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>Second, we create an <code>import.sql</code> script to have a demo record added to the database:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-properties hljs" data-lang="properties">INSERT INTO identity(id, name, permission) VALUES (1, '${user.name}', 'read:name'); <i class="conum" data-value="1"></i><b>(1)</b></code></pre>
</div>
</div>
<div class="colist arabic">
<table>
<tr>
<td><i class="conum" data-value="1"></i><b>1</b></td>
<td>Insert a demo record. You will provide your GitHub account name when starting MCP server.</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>Finally, we create a security identity augmentor:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-java hljs" data-lang="java">package io.quarkiverse.langchain4j.sample;

import io.quarkus.security.identity.AuthenticationRequestContext;
import io.quarkus.security.identity.SecurityIdentity;
import io.quarkus.security.identity.SecurityIdentityAugmentor;
import io.quarkus.security.runtime.QuarkusSecurityIdentity;
import io.smallrye.mutiny.Uni;
import jakarta.enterprise.context.ApplicationScoped;
import jakarta.enterprise.context.control.ActivateRequestContext;
import jakarta.inject.Inject;

@ApplicationScoped
public class SecurityIdentityPermissionAugmentor implements SecurityIdentityAugmentor { <i class="conum" data-value="1"></i><b>(1)</b>

    @Inject
    HibernateBlockingAugmentor hibernateBlockingAugmentor;

    @Override
    public Uni&lt;SecurityIdentity&gt; augment(SecurityIdentity identity, AuthenticationRequestContext context) {
        return context.runBlocking(() -&gt; hibernateBlockingAugmentor.augment(identity)); <i class="conum" data-value="2"></i><b>(2)</b>
    }

    @ApplicationScoped
    static class HibernateBlockingAugmentor {

        @ActivateRequestContext
        public SecurityIdentity augment(SecurityIdentity securityIdentity) {
            Identity identity = Identity.findByName(securityIdentity.getPrincipal().getName()); <i class="conum" data-value="3"></i><b>(3)</b>

            QuarkusSecurityIdentity.Builder builder = QuarkusSecurityIdentity.builder(securityIdentity); <i class="conum" data-value="4"></i><b>(4)</b>
            return builder.addPermissionAsString(identity.permission).build(); <i class="conum" data-value="5"></i><b>(5)</b>
        }
    }
}</code></pre>
</div>
</div>
<div class="colist arabic">
<table>
<tr>
<td><i class="conum" data-value="1"></i><b>1</b></td>
<td>Custom <code>SecurityIdentityAugmentor</code> can augment the already verified security identity.</td>
</tr>
<tr>
<td><i class="conum" data-value="2"></i><b>2</b></td>
<td>Run the augmentation in a blocking mode because it requires access to the database.</td>
</tr>
<tr>
<td><i class="conum" data-value="3"></i><b>3</b></td>
<td>Find the recorded <code>Identity</code> matching the current user&#8217;s name.</td>
</tr>
<tr>
<td><i class="conum" data-value="4"></i><b>4</b></td>
<td>Initialize a security identity builder from the current identity.</td>
</tr>
<tr>
<td><i class="conum" data-value="5"></i><b>5</b></td>
<td>Add the permission allocated to this user and create an updated <code>SecurityIdentity</code>.</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>This is all, the augmentation step is done with a few lines of code only.</p>
</div>
</div>
<div class="sect2">
<h3 id="mcp-server-configuration"><a class="anchor" href="#mcp-server-configuration"></a>MCP Server Configuration</h3>
<div class="paragraph">
<p>Let&#8217;s configure our secure MCP server:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-properties hljs" data-lang="properties">quarkus.mcp.server.traffic-logging.enabled=true <i class="conum" data-value="1"></i><b>(1)</b>
quarkus.mcp.server.traffic-logging.text-limit=1000

quarkus.http.auth.permission.authenticated.paths=/mcp/sse <i class="conum" data-value="2"></i><b>(2)</b>
quarkus.http.auth.permission.authenticated.policy=authenticated

quarkus.oidc.provider=github <i class="conum" data-value="3"></i><b>(3)</b>
quarkus.oidc.application-type=service <i class="conum" data-value="4"></i><b>(4)</b>

quarkus.hibernate-orm.database.generation=drop-and-create <i class="conum" data-value="5"></i><b>(5)</b>
quarkus.hibernate-orm.log.sql=true
quarkus.hibernate-orm.sql-load-script=import.sql

quarkus.http.port=8081 <i class="conum" data-value="6"></i><b>(6)</b></code></pre>
</div>
</div>
<div class="colist arabic">
<table>
<tr>
<td><i class="conum" data-value="1"></i><b>1</b></td>
<td>Enable MCP server traffic logging</td>
</tr>
<tr>
<td><i class="conum" data-value="2"></i><b>2</b></td>
<td>Enforce an authenticated access to the main MCP SSE endpoint during the initial handshake. See also how the tool is secured with an annotation in the <a href="#mcp-server-tool">MCP server tool</a> section above, though you can also secure access to the tool by listing both main and tools endpoints in the configuration, for example: <code>quarkus.http.auth.permission.authenticated.paths=/mcp/sse,/mcp/messages/*</code>.</td>
</tr>
<tr>
<td><i class="conum" data-value="3"></i><b>3</b></td>
<td>Requires that only GitHub access tokens can be used to access MCP server.</td>
</tr>
<tr>
<td><i class="conum" data-value="4"></i><b>4</b></td>
<td>By default, <code>quarkus.oidc.provider=github</code> supports an authorization code flow only. <code>quarkus.oidc.application-type=service</code> overrides it and requires the use of bearer tokens.</td>
</tr>
<tr>
<td><i class="conum" data-value="5"></i><b>5</b></td>
<td>Database that keeps the identity records is supported by the PostgreSQL DevService.</td>
</tr>
<tr>
<td><i class="conum" data-value="6"></i><b>6</b></td>
<td>Start MCP server on port <code>8081</code> - this is done for the Quarkus LangChain4j <code>Poem Service</code> application that uses an MCP client to be able to start on the default <code>8080</code> port.</td>
</tr>
</table>
</div>
</div>
<div class="sect2">
<h3 id="start-mcp-server"><a class="anchor" href="#start-mcp-server"></a>Start the MCP server in dev mode</h3>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-shell hljs" data-lang="shell">mvn quarkus:dev -Duser.name="Your GitHub account name" <i class="conum" data-value="1"></i><b>(1)</b></code></pre>
</div>
</div>
<div class="colist arabic">
<table>
<tr>
<td><i class="conum" data-value="1"></i><b>1</b></td>
<td>Use your GitHub account name, for example, <code>mvn quarkus:dev -Duser.name="John Doe"</code>. It is required to correctly import the user name and permission data to the database.</td>
</tr>
</table>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
<div class="paragraph">
<p>The MCP server&#8217;s security-related configuration remains exactly the same in prod mode, therefore we are not going to talk about running the MCP server in prod to save some blog post space. Please check the <a href="https://github.com/quarkiverse/quarkus-langchain4j/tree/main/samples/secure-mcp-sse-client-server">Quarkus LangChain4j Secure MCP Client Server sample</a> if you would like to run MCP server in prod mode - you will only need to make sure PostresSQL is available in prod mode too.</p>
</div>
</td>
</tr>
</table>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="create-poem-service"><a class="anchor" href="#create-poem-service"></a>Step 2 - Create and start Poem Service that uses AI Gemini and MCP client</h2>
<div class="sectionbody">
<div class="paragraph">
<p>The MCP server is now running and ready to accept tool calls. Let&#8217;s create an AI <code>Poem Service</code> that will work with AI Gemini and use an MCP client to complete tool calls.</p>
</div>
<div class="sect2">
<h3 id="poem-service-maven-dependencies"><a class="anchor" href="#poem-service-maven-dependencies"></a>Poem Service Maven dependencies</h3>
<div class="paragraph">
<p>Add the following dependencies:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-xml hljs" data-lang="xml">&lt;dependency&gt;
    &lt;groupId&gt;io.quarkiverse.langchain4j&lt;/groupId&gt;
    &lt;artifactId&gt;quarkus-langchain4j-ai-gemini&lt;/artifactId&gt; <i class="conum" data-value="1"></i><b>(1)</b>
&lt;/dependency&gt;
&lt;dependency&gt;
    &lt;groupId&gt;io.quarkiverse.langchain4j&lt;/groupId&gt;
    &lt;artifactId&gt;quarkus-langchain4j-mcp&lt;/artifactId&gt; <i class="conum" data-value="2"></i><b>(2)</b>
&lt;/dependency&gt;
&lt;dependency&gt;
    &lt;groupId&gt;io.quarkiverse.langchain4j&lt;/groupId&gt;
    &lt;artifactId&gt;quarkus-langchain4j-oidc-mcp-auth-provider&lt;/artifactId&gt; <i class="conum" data-value="3"></i><b>(3)</b>
&lt;/dependency&gt;
&lt;dependency&gt;
    &lt;groupId&gt;io.quarkus&lt;/groupId&gt;
    &lt;artifactId&gt;quarkus-oidc&lt;/artifactId&gt; <i class="conum" data-value="4"></i><b>(4)</b>
&lt;/dependency&gt;
&lt;dependency&gt;
    &lt;groupId&gt;io.quarkus&lt;/groupId&gt;
    &lt;artifactId&gt;quarkus-rest-qute&lt;/artifactId&gt; <i class="conum" data-value="5"></i><b>(5)</b>
&lt;/dependency&gt;</code></pre>
</div>
</div>
<div class="colist arabic">
<table>
<tr>
<td><i class="conum" data-value="1"></i><b>1</b></td>
<td><code>quarkus-langchain4j-ai-gemini</code> brings support for AI Gemini.</td>
</tr>
<tr>
<td><i class="conum" data-value="2"></i><b>2</b></td>
<td><code>quarkus-langchain4j-mcp</code> provides core MCP Client support.</td>
</tr>
<tr>
<td><i class="conum" data-value="3"></i><b>3</b></td>
<td><code>quarkus-langchain4j-oidc-mcp-auth-provider</code> provides an implementation of <a href="https://docs.quarkiverse.io/quarkus-langchain4j/dev/mcp.html#_authorization">McpClientAuthProvider</a> that can supply access tokens acquired during the GitHub OAuth2 authorization code flow.</td>
</tr>
<tr>
<td><i class="conum" data-value="4"></i><b>4</b></td>
<td><code>quarkus-oidc</code> supports GitHub OAuth2 login to secure access to <code>Poem Service</code>. Its version is defined in the Quarkus BOM.</td>
</tr>
<tr>
<td><i class="conum" data-value="5"></i><b>5</b></td>
<td><code>quarkus-rest-qute</code> generates an HTML page to welcome the logged-in user. Its version is defined in the Quarkus BOM.</td>
</tr>
</table>
</div>
</div>
<div class="sect2">
<h3 id="register-github-application"><a class="anchor" href="#register-github-application"></a>Register GitHub OAuth2 application</h3>
<div class="paragraph">
<p>Register a GitHub OAuth2 application that you will authorize when logging in to the <code>Poem Service</code> application.</p>
</div>
<div class="paragraph">
<p>Follow the <a href="https://quarkus.io/guides/security-openid-connect-providers#github">GitHub OAuth2 registration</a> process, and make sure to register the <code><a href="http://localhost:8080/login" class="bare">http://localhost:8080/login</a></code> callback URL.</p>
</div>
<div class="paragraph">
<p>Use the generated GitHub client id and secret to either set <code>GITHUB_CLIENT_ID</code> and <code>GITHUB_CLIENT_SECRET</code> environment properties or update the <code>quarkus.oidc.client-id=${github_client_id}</code> and <code>quarkus.oidc.credentials.secret=${github_client_secret}</code> properties in application.properties by replacing <code>${github_client_id}</code> with the generated client id and <code>${github_client_secret}</code> with the generated client secret.</p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
<div class="paragraph">
<p>By default, Quarkus GitHub provider submits the client id and secret in the HTTP Authorization header. However, GitHub may require that both client id and secret are submitted as form parameters instead.</p>
</div>
<div class="paragraph">
<p>If you get HTTP 401 error after logging in to GitHub and being redirected back to Quarkus MCP server, try to replace <code>quarkus.oidc.credentials.secret=${github.client.secret}</code> property with the following two properties instead:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-properties hljs" data-lang="properties">quarkus.oidc.credentials.client-secret.method=post
quarkus.oidc.credentials.client-secret.value=${github.client.secret}</code></pre>
</div>
</div>
</td>
</tr>
</table>
</div>
</div>
<div class="sect2">
<h3 id="ai-gemini-key"><a class="anchor" href="#ai-gemini-key"></a>AI Gemini API key</h3>
<div class="paragraph">
<p><code>Poem Service</code> relies on AI Gemini to create a poem for the logged-in user.</p>
</div>
<div class="paragraph">
<p>Get <a href="https://aistudio.google.com/app/apikey">AI Gemini API key</a> and either set an <code>AI_GEMINI_API_KEY</code> environment property or update the <code>quarkus.langchain4j.ai.gemini.api-key=${ai_gemini_api_key}</code> property in <code>application.properties</code> by replacing <code>${ai_gemini_api_key}</code> with the API key value.</p>
</div>
</div>
<div class="sect2">
<h3 id="github-login-endpoint"><a class="anchor" href="#github-login-endpoint"></a>GitHub Login Endpoint</h3>
<div class="paragraph">
<p>The <code>Poem Service</code> needs to have an endpoint that manages a GitHub OAuth2 login. Typically, such an endpoint welcomes the logged-in user and offers links for the user to navigate to the rest of the secured application.</p>
</div>
<div class="paragraph">
<p>Let&#8217;s implement this login endpoint:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-java hljs" data-lang="java">package io.quarkiverse.langchain4j.sample;

import io.quarkus.qute.Template;
import io.quarkus.qute.TemplateInstance;
import io.quarkus.oidc.UserInfo;
import io.quarkus.security.Authenticated;
import jakarta.inject.Inject;
import jakarta.ws.rs.GET;
import jakarta.ws.rs.Path;
import jakarta.ws.rs.PathParam;
import jakarta.ws.rs.Produces;

/**
 * Login resource which returns a poem welcome page to the authenticated user
 */
@Path("/login")
@Authenticated <i class="conum" data-value="1"></i><b>(1)</b>
public class LoginResource {

    @Inject
    UserInfo userInfo; <i class="conum" data-value="2"></i><b>(2)</b>

    @Inject
    Template poem;

    @GET
    @Produces("text/html")
    public TemplateInstance poem() {
        return poem.data("name", userInfo.getName()); <i class="conum" data-value="3"></i><b>(3)</b>
    }
}</code></pre>
</div>
</div>
<div class="colist arabic">
<table>
<tr>
<td><i class="conum" data-value="1"></i><b>1</b></td>
<td>Require an authenticated access. It forces an authorization code flow for users who did not login with GitHub yet and a session verification for the already authenticated users.</td>
</tr>
<tr>
<td><i class="conum" data-value="2"></i><b>2</b></td>
<td>GitHub access tokens are binary and Quarkus OIDC indirectly verifies them by using them to request GitHub specific <code>UserInfo</code> representation.</td>
</tr>
<tr>
<td><i class="conum" data-value="3"></i><b>3</b></td>
<td>After the user logs in to GitHub and is redirected to this endpoint, an HTML page with a user name and a link to the <a href="#jaxrs-poem-resource">Poem Resource endpoint</a> is generated with a simple <a href="https://github.com/quarkiverse/quarkus-langchain4j/blob/main/samples/secure-mcp-sse-client-server/secure-mcp-client/src/main/resources/templates/poem.html">Qute template</a> and returned to the user.</td>
</tr>
</table>
</div>
</div>
<div class="sect2">
<h3 id="jaxrs-poem-resource"><a class="anchor" href="#jaxrs-poem-resource"></a>Create Poem Resource endpoint</h3>
<div class="paragraph">
<p>The <code>Poem Resource</code> endpoint accepts poem requests from authenticated users and delegates these requests to AI <code>Poem Service</code> that uses <code>AI Gemini</code>. <code>AI Gemini</code> relies on the MCP client to get the name of the logged-in user.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-java hljs" data-lang="java">package io.quarkiverse.langchain4j.sample;

import dev.langchain4j.agent.tool.Tool;
import dev.langchain4j.service.UserMessage;
import io.quarkiverse.langchain4j.RegisterAiService;
import io.quarkiverse.langchain4j.mcp.runtime.McpToolBox;
import io.quarkus.security.Authenticated;
import jakarta.inject.Inject;
import jakarta.inject.Singleton;
import jakarta.ws.rs.GET;
import jakarta.ws.rs.Path;

@Path("/poem")
@Authenticated <i class="conum" data-value="1"></i><b>(1)</b>
public class PoemResource {

    static final String USER_MESSAGE = """
            Write a short 1 paragraph poem about a Java programming language.
            Please start by greeting the currently logged in user by name and asking to enjoy reading the poem.""";

    @RegisterAiService
    public interface PoemService { <i class="conum" data-value="2"></i><b>(2)</b>
        @UserMessage(USER_MESSAGE)
        @McpToolBox("user-name") <i class="conum" data-value="3"></i><b>(3)</b>
        String writePoem();
    }

    @Inject
    PoemService poemService;

    @GET
    public String getPoem() {
        return poemService.writePoem(); <i class="conum" data-value="4"></i><b>(4)</b>
    }
}</code></pre>
</div>
</div>
<div class="colist arabic">
<table>
<tr>
<td><i class="conum" data-value="1"></i><b>1</b></td>
<td>Require authenticated poem requests.</td>
</tr>
<tr>
<td><i class="conum" data-value="2"></i><b>2</b></td>
<td>AI Poem Service interface.</td>
</tr>
<tr>
<td><i class="conum" data-value="3"></i><b>3</b></td>
<td>Refer to the MCP client <code>user-name</code> configuration, see the <a href="#poem-service-configuration">Poem Service Configuration</a> section below.</td>
</tr>
</table>
</div>
</div>
<div class="sect2">
<h3 id="poem-service-configuration"><a class="anchor" href="#poem-service-configuration"></a>Poem Service Configuration</h3>
<div class="paragraph">
<p>Let&#8217;s see how the <code>Poem Service</code> configuration looks like:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-properties hljs" data-lang="properties">quarkus.langchain4j.mcp.user-name.transport-type=http <i class="conum" data-value="1"></i><b>(1)</b>
quarkus.langchain4j.mcp.user-name.url=http://localhost:8081/mcp/sse/ <i class="conum" data-value="2"></i><b>(2)</b>

quarkus.oidc.provider=github <i class="conum" data-value="3"></i><b>(3)</b>
quarkus.oidc.client-id=${github_client_id} <i class="conum" data-value="4"></i><b>(4)</b>
quarkus.oidc.credentials.secret=${github_client_secret} <i class="conum" data-value="4"></i><b>(4)</b>

quarkus.langchain4j.ai.gemini.api-key=${ai_gemini_api_key} <i class="conum" data-value="5"></i><b>(5)</b>
quarkus.langchain4j.ai.gemini.log-requests=true <i class="conum" data-value="6"></i><b>(6)</b>
quarkus.langchain4j.ai.gemini.log-responses=true</code></pre>
</div>
</div>
<div class="colist arabic">
<table>
<tr>
<td><i class="conum" data-value="1"></i><b>1</b></td>
<td>Enable MCP client HTTP transport. In this demo we use SSE, with <code>Streamable HTTP</code> to be supported in the future.</td>
</tr>
<tr>
<td><i class="conum" data-value="2"></i><b>2</b></td>
<td>Point to the Quarkus MCP server endpoint that you started in the <a href="#start-mcp-server">Start the MCP server in dev mode</a> step.</td>
</tr>
<tr>
<td><i class="conum" data-value="3"></i><b>3</b></td>
<td>Require GitHub OAuth2 login.</td>
</tr>
<tr>
<td><i class="conum" data-value="4"></i><b>4</b></td>
<td>GitHub client id and secret that were generated during the <a href="#register-github-application">Register GitHub OAuth2 application</a> step.</td>
</tr>
<tr>
<td><i class="conum" data-value="5"></i><b>5</b></td>
<td>AI Gemini key that you acquired during the <a href="#ai-gemini-key">AI Gemini API key</a> step.</td>
</tr>
<tr>
<td><i class="conum" data-value="6"></i><b>6</b></td>
<td>Enable AI Gemini request and response logging</td>
</tr>
</table>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
<div class="paragraph">
<p>Please pay attention to the fact that the MCP client configuration has a <code>user-name</code> name. You referred to this configuration with the <code>@McpToolBox("user-name")</code> annotation in the <a href="#jaxrs-poem-resource">Create Poem Resource endpoint</a> step.</p>
</div>
</td>
</tr>
</table>
</div>
</div>
<div class="sect2">
<h3 id="start-poem-service"><a class="anchor" href="#start-poem-service"></a>Start Poem Service in dev mode</h3>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-shell hljs" data-lang="shell">mvn quarkus:dev</code></pre>
</div>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
<div class="paragraph">
<p>All the Poem Service configuration remains exactly the same in prod mode, therefore we are not going to talk about running it in prod to save some blog post space. Please check the <a href="https://github.com/quarkiverse/quarkus-langchain4j/tree/main/samples/secure-mcp-sse-client-server">Quarkus LangChain4j Secure MCP Client Server sample</a> if you would like to run it in prod mode.</p>
</div>
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>We are ready to test our AI <code>Poem Service</code> application.</p>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="step-3-test-poem-service"><a class="anchor" href="#step-3-test-poem-service"></a>Step 3 - Test Poem Service</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Access <a href="http://localhost:8080" class="bare">http://localhost:8080</a> and login to <code>Poem Service</code>:</p>
</div>
<div class="imageblock text-center">
<div class="content">
<img src="/assets/images/posts/secure_mcp_client/login_to_poem_service.png" alt="Login to Poem Service">
</div>
</div>
<div class="paragraph">
<p>You should get a response with your name and a link to the <code>Poem Service</code> endpoint:</p>
</div>
<div class="imageblock text-center">
<div class="content">
<img src="/assets/images/posts/secure_mcp_client/poem_service_welcome_page.png" alt="Poem Service Welcome Page">
</div>
</div>
<div class="paragraph">
<p>At this point, Quarkus MCP Client was not involved in getting your name produced, it was done by the <a href="#github-login-endpoint">GitHub Login Endpoint</a>.</p>
</div>
<div class="paragraph">
<p>Click on the link to get a poem created and have AI Gemini producing a poem about Java for you:</p>
</div>
<div class="imageblock text-center">
<div class="content">
<img src="/assets/images/posts/secure_mcp_client/poem_service_response.png" alt="Poem Service Response">
</div>
</div>
<div class="paragraph">
<p>This time, Quarkus MCP Client helped AI Gemini to get your name from the secure Quarkus MCP server.</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="access-token-delegation-considerations"><a class="anchor" href="#access-token-delegation-considerations"></a>Access token delegation considerations</h2>
<div class="sectionbody">
<div class="paragraph">
<p>In general, access tokens issued by social providers such as GitHub are not designed to be used in your distributed application architecture, with a service such as <code>Poem Service</code> accessing GitHub API indirectly through another service such as <code>Quarkus MCP server</code>.</p>
</div>
<div class="paragraph">
<p>Quarkus REST service that has users logged in with GitHub can access GitHub API directly. For example, <code>Poem Service</code> can use a great Quarkus LangChain4j capability to mark REST Clients as tools to access GitHub API. See how <a href="https://quarkus.io/blog/gemini-personal-assistant/#implementation">it was done with the Google Calendar service</a>.</p>
</div>
<div class="paragraph">
<p>In this demo, we show the <a href="https://docs.quarkiverse.io/quarkus-langchain4j/dev/mcp.html">Quarkus MCP Client</a>'s capability to interoperate with MCP servers and use access tokens to access secure MCP servers. We use GitHub OAuth2 because it is easily accessible to most developers.</p>
</div>
<div class="paragraph">
<p>Providers such as <code>Keycloak</code> and <code>Auth0</code> can create access tokens that are meant to be propagated from one service to another one. You will quite likely have your Quarkus MCP server implementations dealing with such tokens in the enterprise. Alternatively, when possible, the AI service application which accepts an authenticated user can request the token issuer to exchange its access token for another token that will be used to access the downstream MCP Server instead.</p>
</div>
<div class="paragraph">
<p>Quarkus AI Service applications may have to and can support a delegation flow such as <code>GitHub access token &#8594; Poem Service &#8594; MCP Client &#8594; MCP Server tool &#8594; GitHub API</code> with additional security measures that the Quarkus team wil discuss in the future blog posts and the identity augmentation like the one shown in this demo.</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="conclusion"><a class="anchor" href="#conclusion"></a>Conclusion</h2>
<div class="sectionbody">
<div class="paragraph">
<p>In this blog post, we demonstrated how <a href="https://docs.quarkiverse.io/quarkus-langchain4j/dev/mcp.html">Quarkus MCP Client</a> can access secure MCP servers by propagating access tokens available to the Quarkus LangChain4j AI Service application after the OAuth2 authorization code flow is complete.</p>
</div>
<div class="paragraph">
<p>Stay tuned for more upcoming blog posts about using MCP securely with Quarkus MCP client and MCP Server.</p>
</div>
<div class="paragraph">
<p>Enjoy !</p>
</div>
</div>
</div>
              
          </div>
          <div class="width-12-12"><div class="share-page">
  <a class="share-linkedin" href="https://www.linkedin.com/shareArticle?mini=true&url=https://quarkus.io/blog/secure-mcp-client/&title=Use Quarkus MCP client to access secure MCP HTTP servers" rel="nofollow" target="_blank" title="Share on LinkedIn">
    <i class="fa-brands fa-linkedin fa-xl"></i>
  </a>
  <a class="share-x" href="https://x.com/intent/tweet?text=Use Quarkus MCP client to access secure MCP HTTP servers&url=https://quarkus.io/blog/secure-mcp-client/&via=quarkusio&related=quarkusio" rel="nofollow" target="_blank" title="Share on X">
    <i class="fa-brands fa-square-x-twitter fa-xl"></i>
  </a>
  <a class="share-facebook" href="https://facebook.com/sharer.php?u=https://quarkus.io/blog/secure-mcp-client/" rel="nofollow" target="_blank" title="Share on Facebook">
    <i class="fa-brands fa-square-facebook fa-xl"></i>
  </a>
  <a class="share-reddit" href="http://www.reddit.com/submit?url=https://quarkus.io/blog/secure-mcp-client/" onclick="window.open(this.href, 'pop-up', 'left=20,top=20,width=900,height=500,toolbar=1,resizable=0'); return false;" title="Share on Reddit" >
    <i class="fa-brands fa-square-reddit fa-xl"></i>
  </a>
  <a class="share-email" href="mailto:?subject=Use Quarkus MCP client to access secure MCP HTTP servers&amp;body=Use Quarkus MCP client to access secure MCP HTTP servers https://quarkus.io/blog/secure-mcp-client/" title="Share via Email" >
    <i class="fa-solid fa-envelope fa-xl"></i>
  </a>
</div>
</div>
        </div>
      </div>
    </div>
  </div>
</div>
<div class="post-page grid-wrapper">
  <div class="width-8-12 width-12-12-m doc-content">
  <script src="https://giscus.app/client.js"
        data-repo="quarkusio/quarkus"
        data-repo-id="MDEwOlJlcG9zaXRvcnkxMzk5MTQ5MzI="
        data-category="Quarkus Blog/Website"
        data-category-id="DIC_kwDOCFbutM4CAFFV"
        data-mapping="og:title"
        data-reactions-enabled="1"
        data-emit-metadata="0"
        data-theme="preferred_color_scheme"
        data-lang="en"
        crossorigin="anonymous"
        async>
  </script>
  </div>
</div>

  </div>

  <div class="content project-footer">
  <div class="footer-section">
    <div class="logo-wrapper">
      <a href="/"><img src="/assets/images/quarkus_logo_horizontal_rgb_reverse.svg" class="project-logo" title="Quarkus"></a>
    </div>
  </div>
  <div class="grid-wrapper">
    <p class="grid__item width-3-12">Quarkus is open. All dependencies of this project are available under the <a href='https://www.apache.org/licenses/LICENSE-2.0' target='_blank'>Apache Software License 2.0</a> or compatible license. <i class='fab fa-creative-commons'></i><i class='fab fa-creative-commons-by'></i> <a href='https://creativecommons.org/licenses/by/3.0/' target='_blank'>CC by 3.0</a><br /><br />This website was built with <a href='https://jekyllrb.com/' target='_blank'>Jekyll</a>, is hosted on <a href='https://pages.github.com/' target='_blank'>GitHub Pages</a> and is completely open source. If you want to make it better, <a href='https://github.com/quarkusio/quarkusio.github.io' target='_blank'>fork the website</a> and show us what you’ve got.</p>

    
      <div class="width-1-12 project-links">
        <span>Navigation</span>
        <ul class="footer-links">
          
          
            <li><a href="/" target="_blank">Home</a></li>
          
          
          
            <li><a href="/about" target="_blank">About</a></li>
          
          
          
            <li><a href="/blog" target="_blank">Blog</a></li>
          
          
          
            <li><a href="/insights" target="_blank">Podcast</a></li>
          
          
          
            <li><a href="/events" target="_blank">Events</a></li>
          
          
          
            <li><a href="/newsletter" target="_blank">Newsletter</a></li>
          
          
          
            <li><a href="/userstories" target="_blank">User Stories</a></li>
          
          
          
            <li><a href="https://github.com/orgs/quarkusio/projects/13/views/1" target="_blank">Roadmap</a></li>
          
          
          
            <li><a href="/security" target="_blank">Security&nbsp;policy</a></li>
          
          
          
            <li><a href="/usage" target="_blank">Usage</a></li>
          
          
          
            <li><a href="https://github.com/commonhaus/artwork/tree/main/projects/quarkus" target="_blank">Brand</a></li>
          
          
          
            <li><a href="/desktopwallpapers" target="_blank">Wallpapers</a></li>
          
          
          
            <li><a href="https://www.redhat.com/en/about/privacy-policy" target="_blank">Privacy Policy</a></li>
          
          
        </ul>
      </div>
    
      <div class="width-1-12 project-links">
        <span>Follow Us</span>
        <ul class="footer-links">
          
          
            <li><a href="https://x.com/quarkusio" target="_blank">X</a></li>
          
          
          
            <li><a href="https://bsky.app/profile/quarkus.io" target="_blank">Bluesky</a></li>
          
          
          
            <li><a rel="me" href="https://fosstodon.org/@quarkusio" target="_blank">Mastodon</a></li>
            
          
          
            <li><a href="https://www.threads.com/@quarkusio" target="_blank">Threads</a></li>
          
          
          
            <li><a href="https://www.facebook.com/quarkusio" target="_blank">Facebook</a></li>
          
          
          
            <li><a href="https://www.linkedin.com/company/quarkusio/" target="_blank">Linkedin</a></li>
          
          
          
            <li><a href="https://www.youtube.com/channel/UCaW8QG_QoIk_FnjLgr5eOqg" target="_blank">Youtube</a></li>
          
          
          
            <li><a href="https://github.com/quarkusio" target="_blank">GitHub</a></li>
          
          
        </ul>
      </div>
    
      <div class="width-2-12 project-links">
        <span>Get Help</span>
        <ul class="footer-links">
          
          
            <li><a href="/support" target="_blank">Support</a></li>
          
          
          
            <li><a href="/guides" target="_blank">Guides</a></li>
          
          
          
            <li><a href="/faq" target="_blank">FAQ</a></li>
          
          
          
            <li><a href="/get-started" target="_blank">Get Started</a></li>
          
          
          
            <li><a href="https://stackoverflow.com/questions/tagged/quarkus" target="_blank">Stack Overflow</a></li>
          
          
          
            <li><a href="https://github.com/quarkusio/quarkus/discussions" target="_blank">Discussions</a></li>
          
          
          
            <li><a href="https://groups.google.com/forum/#!forum/quarkus-dev" target="_blank">Development mailing list</a></li>
          
          
          
            <li><a href="https://stats.uptimerobot.com/ze1PfweT2p" target="_blank">Quarkus Service Status</a></li>
          
          
        </ul>
      </div>
    
      <div class="width-1-12 project-links">
        <span>Languages</span>
        <ul class="footer-links">
          
          
            <li><a href="https://quarkus.io/" target="_blank">English</a></li>
          
          
          
            <li><a href="https://pt.quarkus.io/" target="_blank">Português&nbsp;(Brasileiro)</a></li>
          
          
          
            <li><a href="https://es.quarkus.io/" target="_blank">Español</a></li>
          
          
          
            <li><a href="https://cn.quarkus.io/" target="_blank">简体中文</a></li>
          
          
          
            <li><a href="https://ja.quarkus.io/" target="_blank">日本語</a></li>
          
          
        </ul>
      </div>
    

    
      <div class="width-4-12 more-links">
        <span>Quarkus is made of community projects</span>
        <ul class="footer-links">
          
            <li><a blah href="https://vertx.io/" target="_blank">Eclipse Vert.x</a></li>
          
            <li><a blah href="https://smallrye.io" target="_blank">SmallRye</a></li>
          
            <li><a blah href="https://hibernate.org" target="_blank">Hibernate</a></li>
          
            <li><a blah href="https://netty.io" target="_blank">Netty</a></li>
          
            <li><a blah href="https://resteasy.github.io" target="_blank">RESTEasy</a></li>
          
            <li><a blah href="https://camel.apache.org" target="_blank">Apache Camel</a></li>
          
            <li><a blah href="https://microprofile.io" target="_blank">Eclipse MicroProfile</a></li>
          
            <li><a blah href="https://code.quarkus.io/" target="_blank">And many more...</a></li>
          
        </ul>
      </div>
    
  </div>
</div>

  <div class="content cf-footer">
  <div class="flexcontainer">
    <div class="cf-logo">
      <a class="cf-logo" href="https://www.commonhaus.org/" target="_blank"><img src="https://raw.githubusercontent.com/commonhaus/artwork/main/foundation/brand/svg/CF_logo_horizontal_single_reverse.svg"/></a>
    </div>
    <div class="license">
      Copyright © Quarkus. All rights reserved. For details on our trademarks, please visit our <a href="https://www.commonhaus.org/policies/trademark-policy/">Trademark Policy</a> and <a href="https://www.commonhaus.org/trademarks/">Trademark List</a>. Trademarks of third parties are owned by their respective holders and their mention here does not suggest any endorsement or association.
    </div>
  </div>
</div>


  <script src="https://ajax.googleapis.com/ajax/libs/jquery/2.1.4/jquery.min.js" integrity="sha384-8gBf6Y4YYq7Jx97PIqmTwLPin4hxIzQw5aDmUg/DDhul9fFpbbLcLh3nTIIDJKhx" crossorigin="anonymous"></script>
  <script type="text/javascript" src="/assets/javascript/mobile-nav.js"></script>
  <script type="text/javascript" src="/assets/javascript/scroll-down.js"></script>
  <script src="/assets/javascript/satellite.js" type="text/javascript"></script>
  <script src="/guides/javascript/config.js" type="text/javascript"></script>
  <script src="/assets/javascript/guides-version-dropdown.js" type="text/javascript"></script>
  <script src="/assets/javascript/back-to-top.js" type="text/javascript"></script>
  <script src="/assets/javascript/clipboard.min.js" type="text/javascript"></script>
  <script src="/assets/javascript/copy.js" type="text/javascript"></script>
  <script src="/assets/javascript/asciidoc-tabs.js" type="text/javascript"></script>
  <script src="/assets/javascript/future-date.js" type="text/javascript"></script>
  <script src="/assets/javascript/randomize.js" type="text/javascript"></script>
  <script src="/assets/javascript/time.js" type="text/javascript"></script>
</body>

</html>
