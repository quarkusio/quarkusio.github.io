<!DOCTYPE html>
<html lang="en">







<head>
  <title>Indexing rollover with Quarkus and Hibernate Search - Quarkus</title>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <meta http-equiv="Content-Security-Policy" content="
  connect-src 'self' https://dpm.demdex.net https://adobedc.demdex.net https://analytics.ossupstream.org/ https://search.quarkus.io https://smetrics.redhat.com; 
  script-src 'self' 'unsafe-inline' 'unsafe-eval'
      
      https://assets.adobedtm.com
      js.bizographics.com
      https://www.redhat.com
      https://static.redhat.com
      https://app.requestly.io/
      jsonip.com
      https://ajax.googleapis.com
      https://use.fontawesome.com
      http://www.youtube.com
      http://www.googleadservices.com
      https://googleads.g.doubleclick.net
      https://giscus.app
      https://analytics.ossupstream.org/
      https://app.mailjet.com;

  style-src 'self' https://fonts.googleapis.com https://use.fontawesome.com; 
  img-src 'self' * data:; 
  media-src 'self'; 
  frame-src https://redhat.demdex.net https://www.youtube.com https://player.restream.io https://app.mailjet.com http://xy0p2.mjt.lu https://mj.quarkus.io https://giscus.app; 
  base-uri 'none'; 
  object-src 'none'; 
  form-action 'none'; 
  font-src 'self' https://use.fontawesome.com https://fonts.gstatic.com;" />
  <script id="adobe_dtm" src="https://www.redhat.com/dtm.js" type="text/javascript"></script>
  <script src="/assets/javascript/highlight.pack.js" type="text/javascript"></script>
  <META HTTP-EQUIV='X-XSS-Protection' CONTENT="1; mode=block">
  <META HTTP-EQUIV='X-Content-Type-Options' CONTENT="nosniff">
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <meta name="description" content="Quarkus: Supersonic Subatomic Java">
  <meta name="twitter:card" content="summary_large_image">
  <meta name="twitter:site" content="@QuarkusIO"> 
  <meta name="twitter:creator" content="@QuarkusIO">
  <meta property="og:url" content="https://quarkus.io/blog/search-indexing-rollover/" />
  <meta property="og:title" content="Indexing rollover with Quarkus and Hibernate Search" />
  <meta property="og:description" content="Quarkus: Supersonic Subatomic Java" />
  <meta property="og:image" content="https://quarkus.io/assets/images/quarkus_card.png" />
  
  <link rel="canonical" href="https://quarkus.io/blog/search-indexing-rollover/">
  <link rel="shortcut icon" type="image/png" href="/favicon.ico" >
  <link rel="stylesheet" href="/guides/stylesheet/config.css" />
  <link rel="stylesheet" href="/assets/css/main.css?2021-07-29" />
  <link rel="stylesheet" href="https://use.fontawesome.com/releases/v6.5.2/css/all.css" crossorigin="anonymous">
  <link rel="alternate" type="application/rss+xml"  href="/feed.xml" title="Quarkus">
  <script src="/assets/javascript/hl.js" type="text/javascript"></script>
  
  
  
  
  <link rel="alternate" hreflang="en" href="https://quarkus.io/blog/search-indexing-rollover/" />
  
  <link rel="alternate" hreflang="pt-br" href="https://pt.quarkus.io/blog/search-indexing-rollover/" />
  
  <link rel="alternate" hreflang="es" href="https://es.quarkus.io/blog/search-indexing-rollover/" />
  
  <link rel="alternate" hreflang="zh" href="https://cn.quarkus.io/blog/search-indexing-rollover/" />
  
  <link rel="alternate" hreflang="ja" href="https://ja.quarkus.io/blog/search-indexing-rollover/" />
  
  <link rel="alternate" hreflang="x-default" href="https://quarkus.io/" />  
  <script src="/assets/javascript/tracking.js"></script>
  
  <script src="/assets/javascript/colormode.js" type="text/javascript"></script>

</head>

<body class="post">

  
  <div class="nav-wrapper">
  <div class="grid-wrapper">
    <div class="width-12-12">
      <input type="checkbox" id="checkbox" />
      <nav id="main-nav" class="main-nav">
        <div class="logo-wrapper">
           <a href="/"><img src="/assets/images/quarkus_logo_horizontal_rgb_600px_reverse.png" class="project-logo" title="Quarkus"></a>
        </div>
    <label class="nav-toggle" for="checkbox">
      <i class="fa fa-bars"></i>
    </label>
    <ul id="menu" class="menu">
      <li class="dropdown">
        <span href="/about/">Why<i class="fas fa-chevron-down"></i></span>
        <ul class="submenu">
          <li><a href="/about" class="">WHAT IS QUARKUS?</a></li>
          <li><a href="/developer-joy" class="">DEVELOPER JOY</a></li>
          <li><a href="/performance" class="">PERFORMANCE</a></li>
          <li><a href="/kubernetes-native" class="">KUBERNETES NATIVE</a></li>
          <li><a href="/standards" class="">STANDARDS</a></li>
          <li><a href="/versatility" class="">VERSATILITY</a></li>
          <li><a href="/container-first" class="">CONTAINER FIRST</a></li>          
        </ul>
      </li>
      <li class="dropdown">
        <span href="/learn/">Learn<i class="fas fa-chevron-down"></i></span>
        <ul class="submenu">
          <li><a href="/get-started" class="">GET STARTED</a></li>
          <li><a href="/guides" class="">DOCUMENTATION</a></li>
          <li><a href="/userstories/" class="">USER STORIES</a></li>  
          <li><a href="/qtips" class="">"Q" TIP VIDEOS</a></li>          
          <li><a href="/books" class="">BOOKS</a></li>
          </ul>
      </li>
      <li class="dropdown">
        <span href="https://quarkus.io/extensions/">Extensions<i class="fas fa-chevron-down"></i></span>
        <ul class="submenu">
          <!-- Note that quarkus.io is hardcoded here, because it is the only url which supports extensions -->
          <li><a href="https://quarkus.io/extensions/" class="">BROWSE EXTENSIONS</a></li>
          <li><a href="/faq/#what-is-a-quarkus-extension" class="">USE EXTENSIONS</a></li>
          <li><a href="/guides/writing-extensions" class="">CREATE EXTENSIONS</a></li>
          <li><a href="https://hub.quarkiverse.io" class="">SHARE EXTENSIONS</a></li>
        </ul>
      </li>
      <li class="dropdown">
        <span href="/community/">Community<i class="fas fa-chevron-down"></i></span>
        <ul class="submenu">
          <li><a href="/support/" class="">SUPPORT</a></li>
          <li><a href="/blog" class="active">BLOG</a></li>
          <li><a href="/discussion" class="">DISCUSSION</a></li>
          <li><a href="/working-groups" class="">WORKING GROUPS</a></li>
          <li><a href="/insights" class="">PODCAST</a></li>
          <li><a href="/events" class="">EVENTS</a></li>
          <li><a href="/newsletter" class="">NEWSLETTER</a></li>
          <li><a href="https://github.com/orgs/quarkusio/projects/13/views/1" class="">ROADMAP</a></li>
          </ul>
      </li>
      <li>
        <a href="https://code.quarkus.io" class="button-cta secondary white">START CODING</a>
      </li>
      <li class="dropdown">
        <span href="/language/"><div class="fas fa-globe langicon"></div><i class="fas fa-chevron-down"></i></span>
        <ul class="submenu">
          <li><a href="https://quarkus.io/blog/search-indexing-rollover/" >OFFICIAL (ENGLISH)</a></li>
          <li><a href="https://pt.quarkus.io/blog/search-indexing-rollover/">PORTUGUÊS (BR)</a></li>
          <li><a href="https://es.quarkus.io/blog/search-indexing-rollover/">ESPAÑOL</a></li>
          <li><a href="https://cn.quarkus.io/blog/search-indexing-rollover/">简体中文</a></li>
          <li><a href="https://ja.quarkus.io/blog/search-indexing-rollover/">日本語</a></li>
          </ul>
      </li>
      <li>
        <span href="#" class="modeswitcher" id='theme-toggle'><i class="fas fa-sun"></i><i class="fas fa-moon"></i><i class="fas fa-cog"></i></span>
      </li>
    </ul>
      </nav>
    </div>
  </div>
</div>

  <div class="content">
    <div class="full-width-breadcrumb-bg align-self">
  <div class="width-12-12">
      <p class="returnlink"><a href="/blog">Blog</a> <i class="fas fa-chevron-right"></i> Indexing rollover with Quarkus and Hibernate Search</p>
  </div>
</div>

<div class="post-page grid-wrapper">
  <div class="width-8-12 width-12-12-m doc-content">
    <div class="grid-wrapper">
      <div class="width-12-12">
        <div class="post-date">
          April 25, 2024 
          
            <span class="tags"><a href="/blog/tag/hibernate">#hibernate</a><a href="/blog/tag/search">#search</a><a href="/blog/tag/howto">#howto</a></span>
          
        </div>
        <h1 class="post-title">Indexing rollover with Quarkus and Hibernate Search</h1>
        <div class="grid-wrapper">
          <div class="width-8-12 width-12-12-m byline-wrapper">
            
            
              <img class="headshot" src="https://www.gravatar.com/avatar/2934f00ba9190bc06cf03fde5b50c61d">
            
            <p class="byline">By <a href="/author/markobekhta">Marko Bekhta</a></p>
          </div>
          <div class="width-12-12">
              <div class="paragraph">
<p>This is the first post in the series diving into the implementation details of the
<a href="https://github.com/quarkusio/search.quarkus.io">application</a> backing the guide search of
<a href="https://quarkus.io/guides/">quarkus.io</a>.</p>
</div>
<div class="paragraph">
<p>Does your application need full-text search capabilities? Do you need to keep your application running
and producing search results without any downtime, even when reindexing all your data?
Look no further. In this post, we&#8217;ll cover how you can approach this problem
and solve it in practice with a few low-level APIs, provided you use Hibernate Search,
be it <a href="https://quarkus.io/guides/hibernate-search-orm-elasticsearch">on top of Hibernate ORM</a>
or <a href="https://quarkus.io/version/main/guides/hibernate-search-standalone-elasticsearch">in standalone mode</a>.</p>
</div>
<div class="paragraph">
<p>The approach suggested in this post is based on the fact that Hibernate Search uses
<a href="https://docs.jboss.org/hibernate/search/7.0/reference/en-US/html_single/#backend-elasticsearch-indexlayout">aliased indexes</a>,
and communicates with the actual index through a read/write alias, depending on the operation it needs to perform.
For example, a search operation will be routed to a read index alias,
while an indexing operation will be sent to a write index alias.</p>
</div>
<div class="imageblock">
<div class="content">
<img src="/assets/images/posts/search-indexing-rollover/initial-app.png" alt="initial app">
</div>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
This approach is implemented and successfully used in our Quarkus application that backs the guides'
search of <a href="https://quarkus.io/guides/">quarkus.io/guides/</a>.
You can see the complete implementation here:
<a href="https://github.com/quarkusio/search.quarkus.io/blob/d956b6a1341d8693fa1d6b7881f3840f48bdaacd/src/main/java/io/quarkus/search/app/indexing/Rollover.java#L44-L331">rollover implementation</a>
and <a href="https://github.com/quarkusio/search.quarkus.io/blob/d956b6a1341d8693fa1d6b7881f3840f48bdaacd/src/main/java/io/quarkus/search/app/indexing/IndexingService.java#L226-L244">rollover usage</a>.
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>Applications using Hibernate Search can keep their search indexes up-to-date by updating the index gradually,
as the data on which the index documents are based is modified, providing a near real-time index synchronisation.</p>
</div>
<div class="paragraph">
<p>On the other hand, if the search requirements allow for a delay in synchronisation
or the data is updated only at certain times of day, the option of mass indexing can effectively keep the indexes up-to-date.
The <a href="https://docs.jboss.org/hibernate/search/7.0/reference/en-US/html_single/">Hibernate Search documentation</a> provides more information about these approaches
and other Hibernate Search capabilities.</p>
</div>
<div class="paragraph">
<p>The application discussed in this post is using the mass indexing approach.
This means that at certain events, e.g., when a new version of the application is deployed or a scheduled time is reached,
the application has to process the documentation guides and create search index documents from them.</p>
</div>
<div class="paragraph">
<p>Now, since we want our application to keep  providing results to any search requests while we add/update documents to the indexes,
we cannot perform a simple reindexing operation
using a <a href="https://docs.jboss.org/hibernate/search/7.0/reference/en-US/html_single/#search-batchindex-massindexer">mass indexer</a>,
or the recently added <a href="https://quarkus.io/guides/hibernate-search-orm-elasticsearch#management">management endpoint in Quarkus</a>,
as these would drop all existing documents from the index before indexing them:
search operations would not be able to match them anymore until reindexing finishes.</p>
</div>
<div class="paragraph">
<p>Instead, we can create a new index with the same schema and route any write operations to it.</p>
</div>
<div class="imageblock">
<div class="content">
<img src="/assets/images/posts/search-indexing-rollover/write-app.png" alt="write app">
</div>
</div>
<div class="paragraph">
<p>Since Hibernate Search does not provide the rollover feature out of the box (<a href="https://hibernate.atlassian.net/browse/HSEARCH-3499">yet</a>)
we will need to resort to using the lower-level APIs to access the Elasticsearch client and perform the required operations ourselves.
To do so, we need to follow a few simple steps:</p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>Get the mapping information for the index we want to reindex using the schema manager.</p>
<div class="exampleblock">
<div class="content">
<div class="listingblock">
<div class="content">
<pre>@Inject
SearchMapping searchMapping; <i class="conum" data-value="1"></i><b>(1)</b>
// ...

searchMapping.scope(MyIndexedEntity.class).schemaManager() <i class="conum" data-value="2"></i><b>(2)</b>
    .exportExpectedSchema((backendName, indexName, export) -&gt; { <i class="conum" data-value="3"></i><b>(3)</b>
        var createIndexRequestBody = export.extension(ElasticsearchExtension.get())
                .bodyParts().get(0); <i class="conum" data-value="4"></i><b>(4)</b>
        var mappings = createIndexRequestBody.getAsJsonObject("mappings"); <i class="conum" data-value="5"></i><b>(5)</b>
        var settings =createIndexRequestBody.getAsJsonObject("settings"); <i class="conum" data-value="6"></i><b>(6)</b>
    });</pre>
</div>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>Inject <code>SearchMapping</code> somewhere in your app so that we can use it to access a schema manager.</p>
</li>
<li>
<p>Get a schema manager for the indexed entity we are interested in (<code>MyIndexedEntity</code>).
If all entities should be targeted, then <code>Object.class</code> can be used to create the scope.</p>
</li>
<li>
<p>Use the export schema API to access the mapping information.</p>
</li>
<li>
<p>Use the extension to get access to the Elasticsearch-specific <code>.bodyParts()</code> method that returns
a JSON representing the JSON HTTP body needed to create the indexes.</p>
</li>
<li>
<p>Get the mapping information for the particular index.</p>
</li>
<li>
<p>Get the settings for the particular index.</p>
</li>
</ol>
</div>
</div>
</div>
</li>
<li>
<p>Get the reference to the Elasticsearch client, so we can perform API calls to the search backend cluster:</p>
<div class="exampleblock">
<div class="content">
<div class="listingblock">
<div class="content">
<pre>@Inject
SearchMapping searchMapping; <i class="conum" data-value="1"></i><b>(1)</b>
// ...
RestClient client = searchMapping.backend() <i class="conum" data-value="2"></i><b>(2)</b>
    .unwrap(ElasticsearchBackend.class) <i class="conum" data-value="3"></i><b>(3)</b>
    .client(RestClient.class); <i class="conum" data-value="4"></i><b>(4)</b></pre>
</div>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>Inject <code>SearchMapping</code> somewhere in your app so that we can use it to access a schema manager.</p>
</li>
<li>
<p>Access the backend from a search mapping instance.</p>
</li>
<li>
<p>Unwrap the backend to the <code>ElasticsearchBackend</code>, so that we can access backend-specific APIs.</p>
</li>
<li>
<p>Get a reference to the Elasticsearch&#8217;s rest client.</p>
</li>
</ol>
</div>
</div>
</div>
</li>
<li>
<p>Create a new index using the OpenSearch/Elasticsearch rollover API
that would allow us to keep using the existing index for read operations,
while write operations will be sent to the new index:</p>
<div class="exampleblock">
<div class="content">
<div class="listingblock">
<div class="content">
<pre>@Inject
SearchMapping searchMapping; <i class="conum" data-value="1"></i><b>(1)</b>
// ...

SearchIndexedEntity&lt;?&gt; entity = searchMapping.indexedEntity(MyIndexedEntity.class);
var index = entity.indexManager().unwrap(ElasticsearchIndexManager.class).descriptor(); <i class="conum" data-value="2"></i><b>(2)</b>

var request = new Request("POST", "/" + index.writeName() + "/_rollover"); <i class="conum" data-value="3"></i><b>(3)</b>
var body = new JsonObject();
body.add("mappings", mappings);
body.add("settings", settings);
body.add("aliases", new JsonObject()); <i class="conum" data-value="4"></i><b>(4)</b>
request.setEntity(new StringEntity(gson.toJson(body), ContentType.APPLICATION_JSON));

var response = client.performRequest(request); <i class="conum" data-value="5"></i><b>(5)</b>
//...</pre>
</div>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>Inject <code>SearchMapping</code> somewhere in your app so that we can use it to access a schema manager.</p>
</li>
<li>
<p>Get the index descriptor to get the aliases from it.</p>
</li>
<li>
<p>Start building the rollover request body using the write index alias from the index descriptor.</p>
</li>
<li>
<p>Note that we are including an empty "aliases" so that the aliases are not copied over to the new index,
except for the write alias (which is implicitly updated since the rollover request is targeting it directly).
We don&#8217;t want the read alias to start pointing to the new index immediately.</p>
</li>
<li>
<p>Perform the rollover API request using the Elasticsearch REST client obtained in the previous step.</p>
</li>
</ol>
</div>
</div>
</div>
</li>
</ol>
</div>
<div class="paragraph">
<p>With this successfully completed, indexes are in the state we wanted:</p>
</div>
<div class="imageblock">
<div class="content">
<img src="/assets/images/posts/search-indexing-rollover/write-app.png" alt="write app">
</div>
</div>
<div class="paragraph">
<p>We can start populating our write index without affecting search requests.</p>
</div>
<div class="paragraph">
<p>Once we are done with indexing, we can either commit or rollback depending on the results:</p>
</div>
<div class="imageblock">
<div class="content">
<img src="/assets/images/posts/search-indexing-rollover/after-indexing.png" alt="after indexing">
</div>
</div>
<div class="paragraph">
<p>Committing the index rollover means that we are happy with the results and ready to switch to the new index
for both reading and writing operations while removing the old one. To do that, we need to send a request to the cluster:</p>
</div>
<div class="exampleblock">
<div class="content">
<div class="listingblock">
<div class="content">
<pre>var client = ... <i class="conum" data-value="1"></i><b>(1)</b>

var request = new Request("POST", "_aliases"); <i class="conum" data-value="2"></i><b>(2)</b>
request.setEntity(new StringEntity("""
        {
            "actions": [
                {
                    "add": {  <i class="conum" data-value="3"></i><b>(3)</b>
                        "index": "%s",
                        "alias": "%s",
                        "is_write_index": false
                    },
                    "remove_index": {  <i class="conum" data-value="4"></i><b>(4)</b>
                        "index": "%s"
                    }
                }
            ]
        }
        """.formatted( newIndexName, readAliasName, oldIndexName ) <i class="conum" data-value="5"></i><b>(5)</b>
    , ContentType.APPLICATION_JSON));

var response = client.performRequest(request); <i class="conum" data-value="5"></i><b>(5)</b>
//...</pre>
</div>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>Get access to the Elasticsearch REST client as described above.</p>
</li>
<li>
<p>Start creating an <code>_aliases</code> API request.</p>
</li>
<li>
<p>Add an action to update the index aliases to use the new index for both read and write operations.
Here, we must make the read alias point to the new index.</p>
</li>
<li>
<p>Add an action to remove the old index.</p>
</li>
<li>
<p>The names of the new/old index can be retrieved from the response of the initial <code>_rollover</code> API request,
while the aliases can be retrieved from the index descriptor.</p>
</li>
</ol>
</div>
</div>
</div>
<div class="paragraph">
<p>Otherwise, if we have encountered an error or decided for any other reason to stop the rollover, we can roll back to using
the initial index:</p>
</div>
<div class="exampleblock">
<div class="content">
<div class="listingblock">
<div class="content">
<pre>var client = ... <i class="conum" data-value="1"></i><b>(1)</b>

var request = new Request("POST", "_aliases"); <i class="conum" data-value="2"></i><b>(2)</b>
request.setEntity(new StringEntity("""
        {
            "actions": [
                {
                    "add": {  <i class="conum" data-value="3"></i><b>(3)</b>
                        "index": "%s",
                        "alias": "%s",
                        "is_write_index": true
                    },
                    "remove_index": {  <i class="conum" data-value="4"></i><b>(4)</b>
                        "index": "%s"
                    }
                }
            ]
        }
        """.formatted( oldIndexName, writeAliasName, newIndexName ) <i class="conum" data-value="5"></i><b>(5)</b>
    , ContentType.APPLICATION_JSON));

var response = client.performRequest(request); <i class="conum" data-value="5"></i><b>(5)</b>
//...</pre>
</div>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>Get access to the Elasticsearch REST client as described above.</p>
</li>
<li>
<p>Start creating an <code>_aliases</code> API request.</p>
</li>
<li>
<p>Add an action to update the index aliases to use the old index for both read and write operations.
Here, we must make the write alias point back to the old index.</p>
</li>
<li>
<p>Add an action to remove the new index.</p>
</li>
<li>
<p>The names of the new/old index can be retrieved from the response of the initial <code>_rollover</code> API request,
while the aliases can be retrieved from the index descriptor.</p>
</li>
</ol>
</div>
</div>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
Keep in mind that in case of a rollback, your initial index may be out of sync if any write operations were performed
while the write alias was pointing to the new index.
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>With this knowledge, we can organize the rollover process as follows:</p>
</div>
<div class="exampleblock">
<div class="content">
<div class="listingblock">
<div class="content">
<pre>try (Rollover rollover = Rollover.start(searchMapping)) {
    // Perform the indexing operations ...
    rollover.commit();
}</pre>
</div>
</div>
</div>
</div>
<div class="paragraph">
<p>Where the <code>Rollover</code> class will look as follows:</p>
</div>
<div class="exampleblock">
<div class="content">
<div class="listingblock">
<div class="content">
<pre>class Rollover implements Closeable {
    public static Rollover start(SearchMapping searchMapping) {
        // initiate the rollover process by sending the _rollover request ...
        // ...
        return new Rollover( client, rolloverResponse );  <i class="conum" data-value="1"></i><b>(1)</b>
    }

    @Override
    public void close() {
        if ( !done ) { <i class="conum" data-value="2"></i><b>(2)</b>
            rollback();
        }
    }

    public void commit() {
        // send the `_aliases` request to switch to the *new* index
        // ...
        done = true;
    }

    public void rollback() {
        // send the `_aliases` request to switch to the *old* index
        // ...
        done = true;
    }
}</pre>
</div>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>Keep the reference to the Elasticsearch REST client to perform API calls.</p>
</li>
<li>
<p>If we haven&#8217;t successfully committed the rollover, it&#8217;ll be rolled back on close.</p>
</li>
</ol>
</div>
</div>
</div>
<div class="paragraph">
<p>Once again, for a complete working example of this rollover implementation, check out the
<a href="https://github.com/quarkusio/search.quarkus.io">search.quarkus.io on GitHub</a>.</p>
</div>
<div class="paragraph">
<p>If you find this feature useful and would like to have it built-in into your Hibernate Search and Quarkus apps
feel free to reach out to us on the <a href="https://hibernate.atlassian.net/browse/HSEARCH-3499">pending feature requests</a>
to discuss your ideas and suggestions.</p>
</div>
<div class="paragraph">
<p>Stay tuned for more details in the coming weeks as we publish more blog posts
diving into other interesting implementation aspects of this application.
Happy searching and rolling over!</p>
</div>
              
          </div>
          <div class="width-12-12"><div class="share-page">
  <a class="share-linkedin" href="https://www.linkedin.com/shareArticle?mini=true&url=https://quarkus.io/blog/search-indexing-rollover/&title=Indexing rollover with Quarkus and Hibernate Search" rel="nofollow" target="_blank" title="Share on LinkedIn">
    <i class="fa-brands fa-linkedin fa-xl"></i>
  </a>
  <a class="share-x" href="https://x.com/intent/tweet?text=Indexing rollover with Quarkus and Hibernate Search&url=https://quarkus.io/blog/search-indexing-rollover/&via=quarkusio&related=quarkusio" rel="nofollow" target="_blank" title="Share on X">
    <i class="fa-brands fa-square-x-twitter fa-xl"></i>
  </a>
  <a class="share-facebook" href="https://facebook.com/sharer.php?u=https://quarkus.io/blog/search-indexing-rollover/" rel="nofollow" target="_blank" title="Share on Facebook">
    <i class="fa-brands fa-square-facebook fa-xl"></i>
  </a>
  <a class="share-reddit" href="http://www.reddit.com/submit?url=https://quarkus.io/blog/search-indexing-rollover/" onclick="window.open(this.href, 'pop-up', 'left=20,top=20,width=900,height=500,toolbar=1,resizable=0'); return false;" title="Share on Reddit" >
    <i class="fa-brands fa-square-reddit fa-xl"></i>
  </a>
  <a class="share-email" href="mailto:?subject=Indexing rollover with Quarkus and Hibernate Search&amp;body=Indexing rollover with Quarkus and Hibernate Search https://quarkus.io/blog/search-indexing-rollover/" title="Share via Email" >
    <i class="fa-solid fa-envelope fa-xl"></i>
  </a>
</div>
</div>
        </div>
      </div>
    </div>
  </div>
</div>
<div class="post-page grid-wrapper">
  <div class="width-8-12 width-12-12-m doc-content">
  <script src="https://giscus.app/client.js"
        data-repo="quarkusio/quarkus"
        data-repo-id="MDEwOlJlcG9zaXRvcnkxMzk5MTQ5MzI="
        data-category="Quarkus Blog/Website"
        data-category-id="DIC_kwDOCFbutM4CAFFV"
        data-mapping="og:title"
        data-reactions-enabled="1"
        data-emit-metadata="0"
        data-theme="preferred_color_scheme"
        data-lang="en"
        crossorigin="anonymous"
        async>
  </script>
  </div>
</div>

  </div>

  <div class="content project-footer">
  <div class="footer-section">
    <div class="logo-wrapper">
      <a href="/"><img src="/assets/images/quarkus_logo_horizontal_rgb_reverse.svg" class="project-logo" title="Quarkus"></a>
    </div>
  </div>
  <div class="grid-wrapper">
    <p class="grid__item width-3-12">Quarkus is open. All dependencies of this project are available under the <a href='https://www.apache.org/licenses/LICENSE-2.0' target='_blank'>Apache Software License 2.0</a> or compatible license.<br /><br />This website was built with <a href='https://jekyllrb.com/' target='_blank'>Jekyll</a>, is hosted on <a href='https://pages.github.com/' target='_blank'>GitHub Pages</a> and is completely open source. If you want to make it better, <a href='https://github.com/quarkusio/quarkusio.github.io' target='_blank'>fork the website</a> and show us what you’ve got.</p>

    
      <div class="width-1-12 project-links">
        <span>Navigation</span>
        <ul class="footer-links">
          
          
            <li><a href="/" target="_blank">Home</a></li>
          
          
          
            <li><a href="/about" target="_blank">About</a></li>
          
          
          
            <li><a href="/blog" target="_blank">Blog</a></li>
          
          
          
            <li><a href="/insights" target="_blank">Podcast</a></li>
          
          
          
            <li><a href="/events" target="_blank">Events</a></li>
          
          
          
            <li><a href="/newsletter" target="_blank">Newsletter</a></li>
          
          
          
            <li><a href="/userstories" target="_blank">User Stories</a></li>
          
          
          
            <li><a href="https://github.com/orgs/quarkusio/projects/13/views/1" target="_blank">Roadmap</a></li>
          
          
          
            <li><a href="/security" target="_blank">Security&nbsp;policy</a></li>
          
          
          
            <li><a href="/usage" target="_blank">Usage</a></li>
          
          
          
            <li><a href="/brand" target="_blank">Brand</a></li>
          
          
          
            <li><a href="/desktopwallpapers" target="_blank">Wallpapers</a></li>
          
          
        </ul>
      </div>
    
      <div class="width-1-12 project-links">
        <span>Follow Us</span>
        <ul class="footer-links">
          
          
            <li><a href="https://x.com/quarkusio" target="_blank">X</a></li>
          
          
          
            <li><a href="https://bsky.app/profile/quarkus.io" target="_blank">Bluesky</a></li>
          
          
          
            <li><a rel="me" href="https://fosstodon.org/@quarkusio" target="_blank">Mastodon</a></li>
            
          
          
            <li><a href="https://www.facebook.com/quarkusio" target="_blank">Facebook</a></li>
          
          
          
            <li><a href="https://www.linkedin.com/company/quarkusio/" target="_blank">Linkedin</a></li>
          
          
          
            <li><a href="https://www.youtube.com/channel/UCaW8QG_QoIk_FnjLgr5eOqg" target="_blank">Youtube</a></li>
          
          
          
            <li><a href="https://github.com/quarkusio" target="_blank">GitHub</a></li>
          
          
        </ul>
      </div>
    
      <div class="width-2-12 project-links">
        <span>Get Help</span>
        <ul class="footer-links">
          
          
            <li><a href="/support" target="_blank">Support</a></li>
          
          
          
            <li><a href="/guides" target="_blank">Guides</a></li>
          
          
          
            <li><a href="/faq" target="_blank">FAQ</a></li>
          
          
          
            <li><a href="/get-started" target="_blank">Get Started</a></li>
          
          
          
            <li><a href="https://stackoverflow.com/questions/tagged/quarkus" target="_blank">Stack Overflow</a></li>
          
          
          
            <li><a href="https://github.com/quarkusio/quarkus/discussions" target="_blank">Discussions</a></li>
          
          
          
            <li><a href="https://groups.google.com/forum/#!forum/quarkus-dev" target="_blank">Development mailing list</a></li>
          
          
        </ul>
      </div>
    
      <div class="width-1-12 project-links">
        <span>Languages</span>
        <ul class="footer-links">
          
          
            <li><a href="https://quarkus.io/" target="_blank">English</a></li>
          
          
          
            <li><a href="https://pt.quarkus.io/" target="_blank">Português&nbsp;(Brasileiro)</a></li>
          
          
          
            <li><a href="https://es.quarkus.io/" target="_blank">Español</a></li>
          
          
          
            <li><a href="https://cn.quarkus.io/" target="_blank">简体中文</a></li>
          
          
          
            <li><a href="https://ja.quarkus.io/" target="_blank">日本語</a></li>
          
          
        </ul>
      </div>
    

    
      <div class="width-4-12 more-links">
        <span>Quarkus is made of community projects</span>
        <ul class="footer-links">
          
            <li><a blah href="https://vertx.io/" target="_blank">Eclipse Vert.x</a></li>
          
            <li><a blah href="https://smallrye.io" target="_blank">SmallRye</a></li>
          
            <li><a blah href="https://hibernate.org" target="_blank">Hibernate</a></li>
          
            <li><a blah href="https://netty.io" target="_blank">Netty</a></li>
          
            <li><a blah href="https://resteasy.github.io" target="_blank">RESTEasy</a></li>
          
            <li><a blah href="https://camel.apache.org" target="_blank">Apache Camel</a></li>
          
            <li><a blah href="https://microprofile.io" target="_blank">Eclipse MicroProfile</a></li>
          
            <li><a blah href="https://code.quarkus.io/" target="_blank">And many more...</a></li>
          
        </ul>
      </div>
    
  </div>
</div>

  <div class="content redhat-footer">
  <div class="grid-wrapper">
    <span class="licence">
      <i class="fab fa-creative-commons"></i><i class="fab fa-creative-commons-by"></i> <a href="https://creativecommons.org/licenses/by/3.0/" target="_blank">CC by 3.0</a> | <a href="https://www.redhat.com/en/about/privacy-policy">Privacy Policy</a>
    </span>
    <span class="redhat">
      Sponsored by
    </span>
    <span class="redhat-logo">
      <a href="https://www.redhat.com/" target="_blank"><img src="/assets/images/redhat_reversed.svg"></a>
    </span>
  </div>
</div>


  <script src="https://ajax.googleapis.com/ajax/libs/jquery/2.1.4/jquery.min.js" integrity="sha384-8gBf6Y4YYq7Jx97PIqmTwLPin4hxIzQw5aDmUg/DDhul9fFpbbLcLh3nTIIDJKhx" crossorigin="anonymous"></script>
  <script type="text/javascript" src="/assets/javascript/mobile-nav.js"></script>
  <script type="text/javascript" src="/assets/javascript/scroll-down.js"></script>
  <script src="/assets/javascript/satellite.js" type="text/javascript"></script>
  <script src="/guides/javascript/config.js" type="text/javascript"></script>
  <script src="/assets/javascript/guides-version-dropdown.js" type="text/javascript"></script>
  <script src="/assets/javascript/back-to-top.js" type="text/javascript"></script>
  <script src="/assets/javascript/clipboard.min.js" type="text/javascript"></script>
  <script src="/assets/javascript/copy.js" type="text/javascript"></script>
  <script src="/assets/javascript/asciidoc-tabs.js" type="text/javascript"></script>
  <script src="/assets/javascript/future-date.js" type="text/javascript"></script>
</body>

</html>
