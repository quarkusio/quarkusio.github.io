<!DOCTYPE html>
<html lang="en">







<head>
  <title>Reactive Messaging RabbitMQ Connector Reference Documentation - 2.13 - Quarkus</title>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <meta http-equiv="Content-Security-Policy" content="
  connect-src 'self' https://dpm.demdex.net https://adobedc.demdex.net https://analytics.ossupstream.org/ https://search.quarkus.io https://smetrics.redhat.com; 
  script-src 'self' 'unsafe-inline' 'unsafe-eval'
      
      https://assets.adobedtm.com
      js.bizographics.com
      https://www.redhat.com
      https://static.redhat.com
      https://app.requestly.io/
      jsonip.com
      https://ajax.googleapis.com
      https://use.fontawesome.com
      http://www.youtube.com
      http://www.googleadservices.com
      https://googleads.g.doubleclick.net
      https://giscus.app
      https://analytics.ossupstream.org/
      https://app.mailjet.com;

  style-src 'self' https://fonts.googleapis.com https://use.fontawesome.com; 
  img-src 'self' * data:; 
  media-src 'self'; 
  frame-src https://redhat.demdex.net https://www.youtube.com https://player.restream.io https://app.mailjet.com http://xy0p2.mjt.lu https://mj.quarkus.io https://giscus.app; 
  base-uri 'none'; 
  object-src 'none'; 
  form-action 'none'; 
  font-src 'self' https://use.fontawesome.com https://fonts.gstatic.com;" />
  <script id="adobe_dtm" src="https://www.redhat.com/dtm.js" type="text/javascript"></script>
  <script src="/assets/javascript/highlight.pack.js" type="text/javascript"></script>
  <META HTTP-EQUIV='X-XSS-Protection' CONTENT="1; mode=block">
  <META HTTP-EQUIV='X-Content-Type-Options' CONTENT="nosniff">
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <meta name="description" content="Quarkus: Supersonic Subatomic Java">
  <meta name="twitter:card" content="summary_large_image">
  <meta name="twitter:site" content="@QuarkusIO"> 
  <meta name="twitter:creator" content="@QuarkusIO">
  <meta property="og:url" content="https://quarkus.io/version/2.13/guides/rabbitmq-reference" />
  <meta property="og:title" content="Reactive Messaging RabbitMQ Connector Reference Documentation - 2.13" />
  <meta property="og:description" content="Quarkus: Supersonic Subatomic Java" />
  <meta property="og:image" content="https://quarkus.io/assets/images/quarkus_card.png" />
  
  <link rel="canonical" href="https://quarkus.io/guides/rabbitmq-reference">
  <link rel="shortcut icon" type="image/png" href="/favicon.ico" >
  <link rel="stylesheet" href="/guides/stylesheet/config.css" />
  <link rel="stylesheet" href="/assets/css/main.css?2021-07-29" />
  <link rel="stylesheet" href="https://use.fontawesome.com/releases/v6.5.2/css/all.css" crossorigin="anonymous">
  <link rel="alternate" type="application/rss+xml"  href="/feed.xml" title="Quarkus">
  <script src="/assets/javascript/hl.js" type="text/javascript"></script>
  
  
  
  
  <link rel="alternate" hreflang="en" href="https://quarkus.io/version/2.13/guides/rabbitmq-reference" />
  
  <link rel="alternate" hreflang="pt-br" href="https://pt.quarkus.io/version/2.13/guides/rabbitmq-reference" />
  
  <link rel="alternate" hreflang="es" href="https://es.quarkus.io/version/2.13/guides/rabbitmq-reference" />
  
  <link rel="alternate" hreflang="zh" href="https://cn.quarkus.io/version/2.13/guides/rabbitmq-reference" />
  
  <link rel="alternate" hreflang="ja" href="https://ja.quarkus.io/version/2.13/guides/rabbitmq-reference" />
  
  <link rel="alternate" hreflang="x-default" href="https://quarkus.io/" />  
  <script src="/assets/javascript/tracking.js"></script>
  
  <script src="/assets/javascript/colormode.js" type="text/javascript"></script>

</head>

<body class="guides">

  
  <div class="nav-wrapper">
  <div class="grid-wrapper">
    <div class="width-12-12">
      <input type="checkbox" id="checkbox" />
      <nav id="main-nav" class="main-nav">
        <div class="logo-wrapper">
           <a href="/"><img src="/assets/images/quarkus_logo_horizontal_rgb_600px_reverse.png" class="project-logo" title="Quarkus"></a>
        </div>
    <label class="nav-toggle" for="checkbox">
      <i class="fa fa-bars"></i>
    </label>
    <ul id="menu" class="menu">
      <li class="dropdown">
        <span href="/about/">Why<i class="fas fa-chevron-down"></i></span>
        <ul class="submenu">
          <li><a href="/about" class="">WHAT IS QUARKUS?</a></li>
          <li><a href="/developer-joy" class="">DEVELOPER JOY</a></li>
          <li><a href="/performance" class="">PERFORMANCE</a></li>
          <li><a href="/kubernetes-native" class="">KUBERNETES NATIVE</a></li>
          <li><a href="/standards" class="">STANDARDS</a></li>
          <li><a href="/versatility" class="">VERSATILITY</a></li>
          <li><a href="/container-first" class="">CONTAINER FIRST</a></li>          
        </ul>
      </li>
      <li class="dropdown">
        <span href="/learn/">Learn<i class="fas fa-chevron-down"></i></span>
        <ul class="submenu">
          <li><a href="/get-started" class="">GET STARTED</a></li>
          <li><a href="/guides" class="active">DOCUMENTATION</a></li>
          <li><a href="/userstories/" class="">USER STORIES</a></li>  
          <li><a href="/qtips" class="">"Q" TIP VIDEOS</a></li>          
          <li><a href="/books" class="">BOOKS</a></li>
          </ul>
      </li>
      <li class="dropdown">
        <span href="https://quarkus.io/extensions/">Extensions<i class="fas fa-chevron-down"></i></span>
        <ul class="submenu">
          <!-- Note that quarkus.io is hardcoded here, because it is the only url which supports extensions -->
          <li><a href="https://quarkus.io/extensions/" class="">BROWSE EXTENSIONS</a></li>
          <li><a href="/faq/#what-is-a-quarkus-extension" class="">USE EXTENSIONS</a></li>
          <li><a href="/guides/writing-extensions" class="">CREATE EXTENSIONS</a></li>
          <li><a href="https://hub.quarkiverse.io" class="">SHARE EXTENSIONS</a></li>
        </ul>
      </li>
      <li class="dropdown">
        <span href="/community/">Community<i class="fas fa-chevron-down"></i></span>
        <ul class="submenu">
          <li><a href="/support/" class="">SUPPORT</a></li>
          <li><a href="/blog" class="">BLOG</a></li>
          <li><a href="/discussion" class="">DISCUSSION</a></li>
          <li><a href="/working-groups" class="">WORKING GROUPS</a></li>
          <li><a href="/insights" class="">PODCAST</a></li>
          <li><a href="/events" class="">EVENTS</a></li>
          <li><a href="/newsletter" class="">NEWSLETTER</a></li>
          <li><a href="https://github.com/orgs/quarkusio/projects/13/views/1" class="">ROADMAP</a></li>
          </ul>
      </li>
      <li>
        <a href="https://code.quarkus.io" class="button-cta secondary white">START CODING</a>
      </li>
      <li class="dropdown">
        <span href="/language/"><div class="fas fa-globe langicon"></div><i class="fas fa-chevron-down"></i></span>
        <ul class="submenu">
          <li><a href="https://quarkus.io/version/2.13/guides/rabbitmq-reference" >OFFICIAL (ENGLISH)</a></li>
          <li><a href="https://pt.quarkus.io/version/2.13/guides/rabbitmq-reference">PORTUGUÊS (BR)</a></li>
          <li><a href="https://es.quarkus.io/version/2.13/guides/rabbitmq-reference">ESPAÑOL</a></li>
          <li><a href="https://cn.quarkus.io/version/2.13/guides/rabbitmq-reference">简体中文</a></li>
          <li><a href="https://ja.quarkus.io/version/2.13/guides/rabbitmq-reference">日本語</a></li>
          </ul>
      </li>
      <li>
        <span href="#" class="modeswitcher" id='theme-toggle'><i class="fas fa-sun"></i><i class="fas fa-moon"></i><i class="fas fa-cog"></i></span>
      </li>
    </ul>
      </nav>
    </div>
  </div>
</div>

  <div class="content">
    







<section class="full-width-version-bg flexfilterbar guides">
  <div class="guideflexcontainer">
    <div class="docslink">
      <a class="returnlink" href="/version/2.13/guides/"> Back to Guides</a>
    </div>
    <div class="flexlabel">
      <label>By Version</label>
    </div>
    <div class="guidepulldown version">
    <select id="guide-version-dropdown">
      
        
        
        <option value="main" >Main - SNAPSHOT</option>
        
        
        
        <option value="latest" >3.23.4 - Latest</option>
        
        
        
        <option value="3.20" >3.20</option>
        
        
        
        <option value="3.15" >3.15</option>
        
        
        
        <option value="3.8" >3.8</option>
        
        
        
        <option value="3.2" >3.2</option>
        
        
        
        <option value="2.16" >2.16</option>
        
        
        
        <option value="2.13" selected>2.13</option>
        </select>
    </div>
  </div>
</section>

<div class="guide">
  <div class="grid-wrapper">
    <div class="grid__item width-8-12 width-12-12-m">
      
      <h1 class="text-caps">Reactive Messaging RabbitMQ Connector Reference Documentation </h1>
      <div id="preamble">
<div class="sectionbody">
<div class="paragraph">
<p>This guide is the companion from the <a href="rabbitmq">Getting Started with RabbitMQ</a>.
It explains in more details the configuration and usage of the RabbitMQ connector for reactive messaging.</p>
</div>
<div class="admonitionblock tip">
<table>
<tr>
<td class="icon">
<i class="fa icon-tip" title="Tip"></i>
</td>
<td class="content">
This documentation does not cover all the details of the connector.
Refer to the <a href="https://smallrye.io/smallrye-reactive-messaging">SmallRye Reactive Messaging website</a> for further details.
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>The RabbitMQ connector allows Quarkus applications to send and receive messages using the AMQP 0.9.1 protocol.
More details about the protocol can be found in <a href="https://www.rabbitmq.com/amqp-0-9-1-reference.html#queue.bind.routing-key">the AMQP 0.9.1 specification</a>.</p>
</div>
<div class="admonitionblock important">
<table>
<tr>
<td class="icon">
<i class="fa icon-important" title="Important"></i>
</td>
<td class="content">
The RabbitMQ connector supports AMQP 0-9-1, which is very different from the AMQP 1.0 protocol used by the
AMQP 1.0 connector. You can use the AMQP 1.0 connector with RabbitMQ as described in the
<a href="amqp-reference">AMQP 1.0 connector reference</a>, albeit with <strong>reduced functionality</strong>.
</td>
</tr>
</table>
</div>
</div>
</div>
<div class="sect1">
<h2 id="rabbitmq-connector-extension"><a class="anchor" href="#rabbitmq-connector-extension"></a>RabbitMQ connector extension</h2>
<div class="sectionbody">
<div class="paragraph">
<p>To use the connector, you need to add the <code>quarkus-smallrye-reactive-messaging-rabbitmq</code> extension.</p>
</div>
<div class="paragraph">
<p>You can add the extension to your project using:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-bash hljs" data-lang="bash">&gt; ./mvnw quarkus:add-extensions -Dextensions="quarkus-smallrye-reactive-messaging-rabbitmq"</code></pre>
</div>
</div>
<div class="paragraph">
<p>Or just add the following dependency to your project:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-xml hljs" data-lang="xml">&lt;dependency&gt;
    &lt;groupId&gt;io.quarkus&lt;/groupId&gt;
    &lt;artifactId&gt;quarkus-smallrye-reactive-messaging-rabbitmq&lt;/artifactId&gt;
&lt;/dependency&gt;</code></pre>
</div>
</div>
<div class="paragraph">
<p>Once added to your project, you can map <em>channels</em> to RabbitMQ exchanges or queues by configuring the <code>connector</code> attribute:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-properties hljs" data-lang="properties"># Inbound
mp.messaging.incoming.[channel-name].connector=smallrye-rabbitmq

# Outbound
mp.messaging.outgoing.[channel-name].connector=smallrye-rabbitmq</code></pre>
</div>
</div>
<div class="paragraph">
<p><code>outgoing</code> channels are mapped to RabbitMQ exchanges and <code>incoming</code> channels are mapped to RabbitMQ queues as required
by the broker.</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="configuring-the-rabbitmq-broker-access"><a class="anchor" href="#configuring-the-rabbitmq-broker-access"></a>Configuring the RabbitMQ Broker access</h2>
<div class="sectionbody">
<div class="paragraph">
<p>The RabbitMQ connector connects to RabbitMQ brokers.
To configure the location and credentials of the broker, add the following properties in the <code>application.properties</code>:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-properties hljs" data-lang="properties">rabbitmq-host=amqp <i class="conum" data-value="1"></i><b>(1)</b>
rabbitmq-port=5672 <i class="conum" data-value="2"></i><b>(2)</b>
rabbitmq-username=my-username <i class="conum" data-value="3"></i><b>(3)</b>
rabbitmq-password=my-password <i class="conum" data-value="4"></i><b>(4)</b>

mp.messaging.incoming.prices.connector=smallrye-rabbitmq <i class="conum" data-value="5"></i><b>(5)</b></code></pre>
</div>
</div>
<div class="colist arabic">
<table>
<tr>
<td><i class="conum" data-value="1"></i><b>1</b></td>
<td>Configures the broker host name. You can do it per channel (using the <code>host</code> attribute) or globally using <code>rabbitmq-host</code></td>
</tr>
<tr>
<td><i class="conum" data-value="2"></i><b>2</b></td>
<td>Configures the broker port. You can do it per channel (using the <code>port</code> attribute) or globally using <code>rabbitmq-port</code>. The default is <code>5672</code>.</td>
</tr>
<tr>
<td><i class="conum" data-value="3"></i><b>3</b></td>
<td>Configures the broker username if required. You can do it per channel (using the <code>username</code> attribute) or globally using <code>rabbitmq-username</code>.</td>
</tr>
<tr>
<td><i class="conum" data-value="4"></i><b>4</b></td>
<td>Configures the broker password if required. You can do it per channel (using the <code>password</code> attribute) or globally using <code>rabbitmq-password</code>.</td>
</tr>
<tr>
<td><i class="conum" data-value="5"></i><b>5</b></td>
<td>Instructs the prices channel to be managed by the RabbitMQ connector</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>In dev mode and when running tests, <a href="rabbitmq-dev-services">Dev Services for RabbitMQ</a> automatically starts a RabbitMQ broker.</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="receiving-rabbitmq-messages"><a class="anchor" href="#receiving-rabbitmq-messages"></a>Receiving RabbitMQ messages</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Let&#8217;s imagine your application receives <code>Message&lt;Double&gt;</code>.
You can consume the payload directly:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-java hljs" data-lang="java">package inbound;

import org.eclipse.microprofile.reactive.messaging.Incoming;

import javax.enterprise.context.ApplicationScoped;

@ApplicationScoped
public class RabbitMQPriceConsumer {

    @Incoming("prices")
    public void consume(double price) {
        // process your price.
    }

}</code></pre>
</div>
</div>
<div class="paragraph">
<p>Or, you can retrieve the Message&lt;Double&gt;:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-java hljs" data-lang="java">package inbound;

import org.eclipse.microprofile.reactive.messaging.Incoming;
import org.eclipse.microprofile.reactive.messaging.Message;

import javax.enterprise.context.ApplicationScoped;
import java.util.concurrent.CompletionStage;

@ApplicationScoped
public class RabbitMQPriceMessageConsumer {

    @Incoming("prices")
    public CompletionStage&lt;Void&gt; consume(Message&lt;Double&gt; price) {
        // process your price.

        // Acknowledge the incoming message, marking the RabbitMQ message as `accepted`.
        return price.ack();
    }

}</code></pre>
</div>
</div>
<div class="sect2">
<h3 id="inbound-metadata"><a class="anchor" href="#inbound-metadata"></a>Inbound Metadata</h3>
<div class="paragraph">
<p>Messages coming from RabbitMQ contain an instance of <code>IncomingRabbitMQMetadata</code> in the metadata.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-java hljs" data-lang="java">Optional&lt;IncomingRabbitMQMetadata&gt; metadata = incoming.getMetadata(IncomingRabbitMQMetadata.class);
metadata.ifPresent(meta -&gt; {
    final Optional&lt;String&gt; contentEncoding = meta.getContentEncoding();
    final Optional&lt;String&gt; contentType = meta.getContentType();
    final Optional&lt;String&gt; correlationId = meta.getCorrelationId();
    final Optional&lt;ZonedDateTime&gt; creationTime = meta.getCreationTime(ZoneId.systemDefault());
    final Optional&lt;Integer&gt; priority = meta.getPriority();
    final Optional&lt;String&gt; replyTo = meta.getReplyTo();
    final Optional&lt;String&gt; userId = meta.getUserId();

    // Access a single String-valued header
    final Optional&lt;String&gt; stringHeader = meta.getHeader("my-header", String.class);

    // Access all headers
    final Map&lt;String,Object&gt; headers = meta.getHeaders();
    // ...
});</code></pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="deserialization"><a class="anchor" href="#deserialization"></a>Deserialization</h3>
<div class="paragraph">
<p>The connector converts incoming RabbitMQ Messages into Reactive Messaging <code>Message&lt;T&gt;</code> instances. The payload type <code>T</code> depends on the value of the RabbitMQ received message Envelope <code>content_type</code> and <code>content_encoding</code> properties.</p>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 33.3333%;">
<col style="width: 33.3333%;">
<col style="width: 33.3334%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">content_encoding</th>
<th class="tableblock halign-left valign-top">content_type</th>
<th class="tableblock halign-left valign-top">T</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em>Value present</em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em>n/a</em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>byte[]</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em>No value</em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>text/plain</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>String</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em>No value</em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>application/json</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">a JSON element which can be a <a href="https://vertx.io/docs/apidocs/io/vertx/core/json/JsonArray.html"><code>JsonArray</code></a>, <a href="https://vertx.io/docs/apidocs/io/vertx/core/json/JsonObject.html"><code>JsonObject</code></a>, <code>String</code>, &#8230;&#8203;etc if the buffer contains an array, object, string, &#8230;&#8203;etc</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em>No value</em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em>Anything else</em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>byte[]</code></p></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p>If you send objects with this RabbitMQ connector (outbound connector), they are encoded as JSON and sent with <code>content_type</code> set to <code>application/json</code>. You can receive this payload using (Vert.x) JSON Objects, and then map it to the object class you want:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-java hljs" data-lang="java">@ApplicationScoped
public static class Generator {

    @Outgoing("to-rabbitmq")
    public Multi&lt;Price&gt; prices() { <i class="conum" data-value="1"></i><b>(1)</b>
        AtomicInteger count = new AtomicInteger();
        return Multi.createFrom().ticks().every(Duration.ofMillis(1000))
                .map(l -&gt; new Price().setPrice(count.incrementAndGet()))
                .onOverflow().drop();
    }

}

@ApplicationScoped
public static class Consumer {

    List&lt;Price&gt; prices = new CopyOnWriteArrayList&lt;&gt;();

    @Incoming("from-rabbitmq")
    public void consume(JsonObject p) { <i class="conum" data-value="2"></i><b>(2)</b>
        Price price = p.mapTo(Price.class); <i class="conum" data-value="3"></i><b>(3)</b>
        prices.add(price);
    }

    public List&lt;Price&gt; list() {
        return prices;
    }
}</code></pre>
</div>
</div>
<div class="colist arabic">
<table>
<tr>
<td><i class="conum" data-value="1"></i><b>1</b></td>
<td>The <code>Price</code> instances are automatically encoded to JSON by the connector</td>
</tr>
<tr>
<td><i class="conum" data-value="2"></i><b>2</b></td>
<td>You can receive it using a <code>JsonObject</code></td>
</tr>
<tr>
<td><i class="conum" data-value="3"></i><b>3</b></td>
<td>Then, you can reconstruct the instance using the <code>mapTo</code> method</td>
</tr>
</table>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
The <code>mapTo</code> method uses the Quarkus Jackson mapper. Check <a href="rest-json#json">this guide</a> to learn more about the mapper configuration.
</td>
</tr>
</table>
</div>
</div>
<div class="sect2">
<h3 id="acknowledgement"><a class="anchor" href="#acknowledgement"></a>Acknowledgement</h3>
<div class="paragraph">
<p>When a Reactive Messaging Message associated with a RabbitMQ Message is acknowledged, it informs the broker that the message has been <em>accepted</em>.</p>
</div>
<div class="paragraph">
<p>Whether you need to explicitly acknowledge the message depends on the <code>auto-acknowledgement</code> setting for the channel; if that is set to true then your message will be automatically acknowledged on receipt.</p>
</div>
</div>
<div class="sect2">
<h3 id="failure-management"><a class="anchor" href="#failure-management"></a>Failure Management</h3>
<div class="paragraph">
<p>If a message produced from a RabbitMQ message is nacked, a failure strategy is applied. The RabbitMQ connector supports
three strategies, controlled by the failure-strategy channel setting:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><code>fail</code> - fail the application; no more RabbitMQ messages will be processed. The RabbitMQ message is marked as rejected.</p>
</li>
<li>
<p><code>accept</code> - this strategy marks the RabbitMQ message as <em>accepted</em>. The processing continues ignoring the failure.</p>
</li>
<li>
<p><code>reject</code> - this strategy marks the RabbitMQ message as rejected (default). The processing continues with the next message.</p>
</li>
</ul>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="sending-rabbitmq-messages"><a class="anchor" href="#sending-rabbitmq-messages"></a>Sending RabbitMQ messages</h2>
<div class="sectionbody">
<div class="sect2">
<h3 id="serialization"><a class="anchor" href="#serialization"></a>Serialization</h3>
<div class="paragraph">
<p>When sending a <code>Message&lt;T&gt;</code>, the connector converts the message into a RabbitMQ Message. The payload is converted to the RabbitMQ Message body.</p>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 50%;">
<col style="width: 50%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">T</th>
<th class="tableblock halign-left valign-top">RabbitMQ Message Body</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">primitive types or <code>UUID</code>/<code>String</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">String value with <code>content_type</code> set to <code>text/plain</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="https://vertx.io/docs/apidocs/io/vertx/core/json/JsonObject.html"><code>JsonObject</code></a> or <a href="https://vertx.io/docs/apidocs/io/vertx/core/json/JsonArray.html"><code>JsonArray</code></a></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Serialized String payload with <code>content_type</code> set to <code>application/json</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>io.vertx.mutiny.core.buffer.Buffer</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Binary content, with <code>content_type</code> set to <code>application/octet-stream</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>byte[]</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Binary content, with <code>content_type</code> set to <code>application/octet-stream</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Any other class</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">The payload is converted to JSON (using a Json Mapper) then serialized with <code>content_type</code> set to <code>application/json</code></p></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p>If the message payload cannot be serialized to JSON, the message is <em>nacked</em>.</p>
</div>
</div>
<div class="sect2">
<h3 id="outbound-metadata"><a class="anchor" href="#outbound-metadata"></a>Outbound Metadata</h3>
<div class="paragraph">
<p>When sending <code>Messages</code>, you can add an instance of <code>OutgoingRabbitMQMetadata</code>
to influence how the message is handled by RabbitMQ. For example, you can configure the routing key, timestamp and
headers:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-java hljs" data-lang="java">final OutgoingRabbitMQMetadata metadata = new OutgoingRabbitMQMetadata.Builder()
        .withHeader("my-header", "xyzzy")
        .withRoutingKey("urgent")
        .withTimestamp(ZonedDateTime.now())
        .build();

// Add `metadata` to the metadata of the outgoing message.
return Message.of("Hello", Metadata.of(metadata));</code></pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="acknowledgement-2"><a class="anchor" href="#acknowledgement-2"></a>Acknowledgement</h3>
<div class="paragraph">
<p>By default, the Reactive Messaging <code>Message</code> is acknowledged when the broker acknowledges the message.</p>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="configuring-the-rabbitmq-exchangequeue"><a class="anchor" href="#configuring-the-rabbitmq-exchangequeue"></a>Configuring the RabbitMQ Exchange/Queue</h2>
<div class="sectionbody">
<div class="paragraph">
<p>You can configure the RabbitMQ exchange or queue associated with a channel using properties on the channel configuration.
<code>incoming</code> channels are mapped to RabbitMQ <code>queues</code> and <code>outgoing</code> channels are mapped to <code>RabbitMQ</code> exchanges.
For example:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-properties hljs" data-lang="properties">mp.messaging.incoming.prices.connector=smallrye-rabbitmq
mp.messaging.incoming.prices.queue.name=my-queue

mp.messaging.outgoing.orders.connector=smallrye-rabbitmq
mp.messaging.outgoing.orders.exchange.name=my-order-queue</code></pre>
</div>
</div>
<div class="paragraph">
<p>If the <code>exchange.name</code> or <code>queue.name</code> attribute is not set, the connector uses the channel name.</p>
</div>
<div class="paragraph">
<p>To use an existing queue, you need to configure the <code>name</code> and set the exchange&#8217;s or queue&#8217;s <code>declare</code> property to <code>false</code>.
For example, if you have a RabbitMQ broker configured with a <code>people</code> exchange and queue, you need the following configuration:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-properties hljs" data-lang="properties">mp.messaging.incoming.people.connector=smallrye-rabbitmq
mp.messaging.incoming.people.queue.name=people
mp.messaging.incoming.people.queue.declare=false

mp.messaging.outgoing.people.connector=smallrye-rabbitmq
mp.messaging.outgoing.people.exchange.name=people
mp.messaging.outgoing.people.exchange.declare=false</code></pre>
</div>
</div>
<div class="sect2">
<h3 id="blocking-processing"><a class="anchor" href="#blocking-processing"></a>Execution model and Blocking processing</h3>
<div class="paragraph">
<p>Reactive Messaging invokes your method on an I/O thread.
See the <a href="quarkus-reactive-architecture">Quarkus Reactive Architecture documentation</a> for further details on this topic.
But, you often need to combine Reactive Messaging with blocking processing such as database interactions.
For this, you need to use the <code>@Blocking</code> annotation indicating that the processing is <em>blocking</em> and should not be run on the caller thread.</p>
</div>
<div class="paragraph">
<p>For example, The following code illustrates how you can store incoming payloads to a database using Hibernate with Panache:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-java hljs" data-lang="java">import io.smallrye.reactive.messaging.annotations.Blocking;
import org.eclipse.microprofile.reactive.messaging.Incoming;

import javax.enterprise.context.ApplicationScoped;
import javax.transaction.Transactional;

@ApplicationScoped
public class PriceStorage {

    @Incoming("prices")
    @Blocking
    @Transactional
    public void store(int priceInUsd) {
        Price price = new Price();
        price.value = priceInUsd;
        price.persist();
    }

}</code></pre>
</div>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
<div class="paragraph">
<p>There are 2 <code>@Blocking</code> annotations:</p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p><code>io.smallrye.reactive.messaging.annotations.Blocking</code></p>
</li>
<li>
<p><code>io.smallrye.common.annotation.Blocking</code></p>
</li>
</ol>
</div>
<div class="paragraph">
<p>They have the same effect.
Thus, you can use both.
The first one provides more fine-grained tuning such as the worker pool to use and whether it preserves the order.
The second one, used also with other reactive features of Quarkus, uses the default worker pool and preserves the order.</p>
</div>
</td>
</tr>
</table>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="customizing-the-underlying-rabbitmq-client"><a class="anchor" href="#customizing-the-underlying-rabbitmq-client"></a>Customizing the underlying RabbitMQ client</h2>
<div class="sectionbody">
<div class="paragraph">
<p>The connector uses the Vert.x RabbitMQ client underneath.
More details about this client can be found in the <a href="https://vertx.io/docs/vertx-rabbitmq-client/java/">Vert.x website</a>.</p>
</div>
<div class="paragraph">
<p>You can customize the underlying client configuration by producing an instance of <code>RabbitMQOptions</code> as follows:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-java hljs" data-lang="java">@Produces
@Identifier("my-named-options")
public RabbitMQOptions getNamedOptions() {
  PemKeyCertOptions keycert = new PemKeyCertOptions()
        .addCertPath("./tls/tls.crt")
        .addKeyPath("./tls/tls.key");
  PemTrustOptions trust = new PemTrustOptions().addCertPath("./tlc/ca.crt");
  // You can use the produced options to configure the TLS connection
  return new RabbitMQOptions()
        .setSsl(true)
        .setPemKeyCertOptions(keycert)
        .setPemTrustOptions(trust)
        .setUser("user1")
        .setPassword("password1")
        .setHost("localhost")
        .setPort(5672)
        .setVirtualHost("vhost1")
        .setConnectionTimeout(6000) // in milliseconds
        .setRequestedHeartbeat(60) // in seconds
        .setHandshakeTimeout(6000) // in milliseconds
        .setRequestedChannelMax(5)
        .setNetworkRecoveryInterval(500) // in milliseconds
        .setAutomaticRecoveryEnabled(true);
}</code></pre>
</div>
</div>
<div class="paragraph">
<p>This instance is retrieved and used to configure the client used by the connector.
You need to indicate the name of the client using the <code>client-options-name</code> attribute:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-properties hljs" data-lang="properties">mp.messaging.incoming.prices.client-options-name=my-named-options</code></pre>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="health-reporting"><a class="anchor" href="#health-reporting"></a>Health reporting</h2>
<div class="sectionbody">
<div class="paragraph">
<p>If you use the RabbitMQ connector with the <code>quarkus-smallrye-health</code> extension, it contributes to the readiness and liveness probes.
The RabbitMQ connector reports the readiness and liveness of each channel managed by the connector.</p>
</div>
<div class="paragraph">
<p>To disable health reporting, set the <code>health-enabled</code> attribute for the channel to false.</p>
</div>
<div class="paragraph">
<p>On the inbound side (receiving messages from RabbitMQ), the check verifies that the receiver is connected to the broker.</p>
</div>
<div class="paragraph">
<p>On the outbound side (sending records to RabbitMQ), the check verifies that the sender is not disconnected from the broker; the sender <em>may</em> still be in an initialised state (connection not yet attempted), but this is regarded as live/ready.</p>
</div>
<div class="paragraph">
<p>Note that a message processing failures nacks the message, which is then handled by the <code>failure-strategy</code>.
It&#8217;s the responsibility of the <code>failure-strategy</code> to report the failure and influence the outcome of the checks.
The <code>fail</code> failure strategy reports the failure, and so the check will report the fault.</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="dynamic-credentials"><a class="anchor" href="#dynamic-credentials"></a>Dynamic Credentials</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Quarkus and the RabbitMQ connector support <a href="https://www.vaultproject.io/docs/secrets/rabbitmq">Vault&#8217;s RabbitMQ secrets engine</a>
for generating short-lived dynamic credentials. This allows Vault to create and retire RabbitMQ credentials on a regular basis.</p>
</div>
<div class="paragraph">
<p>First we need to enable Vault&#8217;s <code>rabbitmq</code> secret engine, configure it with RabbitMQ&#8217;s connection and authentication
information, and create a Vault role <code>my-role</code> (replace <code>10.0.0.3</code> by the actual host that is running the
RabbitMQ container):</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-bash hljs" data-lang="bash">vault secrets enable rabbitmq

vault write rabbitmq/config/connection \
    connection_uri=http://10.0.0.3:15672 \
    username=guest \
    password=guest

vault write rabbitmq/roles/my-role \
    vhosts='{"/":{"write": ".*", "read": ".*"}}'</code></pre>
</div>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
<div class="paragraph">
<p>For this use case, user <code>guest</code> configured above needs to be a RabbitMQ admin user with the capability to create
credentials.</p>
</div>
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>Then we need to give a read capability to the Quarkus application on path <code>rabbitmq/creds/my-role</code>.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-bash hljs" data-lang="bash">cat &lt;&lt;EOF | vault policy write vault-rabbitmq-policy -
path "secret/data/myapps/vault-rabbitmq-test/*" {
  capabilities = ["read"]
}
path "rabbitmq/creds/my-role" {
  capabilities = [ "read" ]
}
EOF</code></pre>
</div>
</div>
<div class="paragraph">
<p>Now that Vault knows how to create users in RabbitMQ, we need to configure Quarkus to use a credentials-provider
for RabbitMQ.</p>
</div>
<div class="paragraph">
<p>First we tell Quarkus to request dynamic credentials using a credentials-provider named <code>rabbitmq</code>.</p>
</div>
<div class="listingblock">
<div class="content">
<pre>quarkus.rabbitmq.credentials-provider = rabbitmq</pre>
</div>
</div>
<div class="paragraph">
<p>Next we configure the <code>rabbitmq</code> credentials provider. The <code>credentials-role</code> option must be set to the name of the
role we created in Vault, in our case <code>my-role</code>. The <code>credentials-mount</code> option must be set to <code>rabbitmq</code>.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-properties hljs" data-lang="properties">quarkus.vault.credentials-provider.rabbitmq.credentials-role=my-role
quarkus.vault.credentials-provider.rabbitmq.credentials-mount=rabbitmq</code></pre>
</div>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
The <code>credentials-mount</code> is used directly as the mount of the secret engine in Vault. Here we are using
the default mount path of <code>rabbitmq</code>. If the RabbitMQ secret engine was mounted at a custom path, the
<code>credentials-mount</code> option must be set to that path instead.
</td>
</tr>
</table>
</div>
</div>
</div>
<div class="sect1">
<h2 id="configuration-reference"><a class="anchor" href="#configuration-reference"></a>RabbitMQ Connector Configuration Reference</h2>
<div class="sectionbody">
<div class="sect2">
<h3 id="incoming-channel-configuration"><a class="anchor" href="#incoming-channel-configuration"></a>Incoming channel configuration</h3>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 27.7777%;">
<col style="width: 33.3333%;">
<col style="width: 16.6666%;">
<col style="width: 22.2224%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Attribute (<em>alias</em>)</th>
<th class="tableblock halign-left valign-top">Description</th>
<th class="tableblock halign-left valign-top">Mandatory</th>
<th class="tableblock halign-left valign-top">Default</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><span class="no-hyphens"><strong>username</strong></span></p>
<p class="tableblock"><span class="no-hyphens"><em>(rabbitmq-username)</em></span></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">The username used to authenticate to the broker</p>
<p class="tableblock">Type: <em>string</em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">false</p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><span class="no-hyphens"><strong>password</strong></span></p>
<p class="tableblock"><span class="no-hyphens"><em>(rabbitmq-password)</em></span></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">The password used to authenticate to the broker</p>
<p class="tableblock">Type: <em>string</em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">false</p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><span class="no-hyphens"><strong>host</strong></span></p>
<p class="tableblock"><span class="no-hyphens"><em>(rabbitmq-host)</em></span></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">The broker hostname</p>
<p class="tableblock">Type: <em>string</em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">false</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>localhost</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><span class="no-hyphens"><strong>port</strong></span></p>
<p class="tableblock"><span class="no-hyphens"><em>(rabbitmq-port)</em></span></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">The broker port</p>
<p class="tableblock">Type: <em>int</em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">false</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>5672</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><span class="no-hyphens"><strong>ssl</strong></span></p>
<p class="tableblock"><span class="no-hyphens"><em>(rabbitmq-ssl)</em></span></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Whether the connection should use SSL</p>
<p class="tableblock">Type: <em>boolean</em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">false</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>false</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><span class="no-hyphens"><strong>trust-all</strong></span></p>
<p class="tableblock"><span class="no-hyphens"><em>(rabbitmq-trust-all)</em></span></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Whether to skip trust certificate verification</p>
<p class="tableblock">Type: <em>boolean</em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">false</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>false</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><span class="no-hyphens"><strong>trust-store-path</strong></span></p>
<p class="tableblock"><span class="no-hyphens"><em>(rabbitmq-trust-store-path)</em></span></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">The path to a JKS trust store</p>
<p class="tableblock">Type: <em>string</em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">false</p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><span class="no-hyphens"><strong>trust-store-password</strong></span></p>
<p class="tableblock"><span class="no-hyphens"><em>(rabbitmq-trust-store-password)</em></span></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">The password of the JKS trust store</p>
<p class="tableblock">Type: <em>string</em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">false</p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><span class="no-hyphens"><strong>credentials-provider-name</strong></span></p>
<p class="tableblock"><span class="no-hyphens"><em>(rabbitmq-credentials-provider-name)</em></span></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">The name of the RabbitMQ Credentials Provider bean used to provide dynamic credentials to the RabbitMQ client</p>
<p class="tableblock">Type: <em>string</em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">false</p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><span class="no-hyphens"><strong>connection-timeout</strong></span></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">The TCP connection timeout (ms); 0 is interpreted as no timeout</p>
<p class="tableblock">Type: <em>int</em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">false</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>60000</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><span class="no-hyphens"><strong>handshake-timeout</strong></span></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">The AMQP 0-9-1 protocol handshake timeout (ms)</p>
<p class="tableblock">Type: <em>int</em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">false</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>10000</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><span class="no-hyphens"><strong>automatic-recovery-enabled</strong></span></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Whether automatic connection recovery is enabled</p>
<p class="tableblock">Type: <em>boolean</em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">false</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>false</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><span class="no-hyphens"><strong>automatic-recovery-on-initial-connection</strong></span></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Whether automatic recovery on initial connections is enabled</p>
<p class="tableblock">Type: <em>boolean</em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">false</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>true</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><span class="no-hyphens"><strong>reconnect-attempts</strong></span></p>
<p class="tableblock"><span class="no-hyphens"><em>(rabbitmq-reconnect-attempts)</em></span></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">The number of reconnection attempts</p>
<p class="tableblock">Type: <em>int</em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">false</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>100</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><span class="no-hyphens"><strong>reconnect-interval</strong></span></p>
<p class="tableblock"><span class="no-hyphens"><em>(rabbitmq-reconnect-interval)</em></span></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">The interval (in seconds) between two reconnection attempts</p>
<p class="tableblock">Type: <em>int</em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">false</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>10</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><span class="no-hyphens"><strong>network-recovery-interval</strong></span></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">How long (ms) will automatic recovery wait before attempting to reconnect</p>
<p class="tableblock">Type: <em>int</em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">false</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>5000</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><span class="no-hyphens"><strong>user</strong></span></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">The AMQP username to use when connecting to the broker</p>
<p class="tableblock">Type: <em>string</em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">false</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>guest</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><span class="no-hyphens"><strong>include-properties</strong></span></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Whether to include properties when a broker message is passed on the event bus</p>
<p class="tableblock">Type: <em>boolean</em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">false</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>false</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><span class="no-hyphens"><strong>requested-channel-max</strong></span></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">The initially requested maximum channel number</p>
<p class="tableblock">Type: <em>int</em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">false</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>2047</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><span class="no-hyphens"><strong>requested-heartbeat</strong></span></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">The initially requested heartbeat interval (seconds), zero for none</p>
<p class="tableblock">Type: <em>int</em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">false</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>60</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><span class="no-hyphens"><strong>use-nio</strong></span></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Whether usage of NIO Sockets is enabled</p>
<p class="tableblock">Type: <em>boolean</em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">false</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>false</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><span class="no-hyphens"><strong>virtual-host</strong></span></p>
<p class="tableblock"><span class="no-hyphens"><em>(rabbitmq-virtual-host)</em></span></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">The virtual host to use when connecting to the broker</p>
<p class="tableblock">Type: <em>string</em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">false</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>/</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><span class="no-hyphens"><strong>exchange.name</strong></span></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">The exchange that messages are published to or consumed from. If not set, the channel name is used</p>
<p class="tableblock">Type: <em>string</em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">false</p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><span class="no-hyphens"><strong>exchange.durable</strong></span></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Whether the exchange is durable</p>
<p class="tableblock">Type: <em>boolean</em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">false</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>true</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><span class="no-hyphens"><strong>exchange.auto-delete</strong></span></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Whether the exchange should be deleted after use</p>
<p class="tableblock">Type: <em>boolean</em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">false</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>false</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><span class="no-hyphens"><strong>exchange.type</strong></span></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">The exchange type: direct, fanout, headers or topic (default)</p>
<p class="tableblock">Type: <em>string</em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">false</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>topic</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><span class="no-hyphens"><strong>exchange.declare</strong></span></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Whether to declare the exchange; set to false if the exchange is expected to be set up independently</p>
<p class="tableblock">Type: <em>boolean</em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">false</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>true</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><span class="no-hyphens"><strong>tracing.enabled</strong></span></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Whether tracing is enabled (default) or disabled</p>
<p class="tableblock">Type: <em>boolean</em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">false</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>true</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><span class="no-hyphens"><strong>tracing.attribute-headers</strong></span></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">A comma-separated list of headers that should be recorded as span attributes. Relevant only if tracing.enabled=true</p>
<p class="tableblock">Type: <em>string</em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">false</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">``</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><span class="no-hyphens"><strong>queue.name</strong></span></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">The queue from which messages are consumed.</p>
<p class="tableblock">Type: <em>string</em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">true</p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><span class="no-hyphens"><strong>queue.durable</strong></span></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Whether the queue is durable</p>
<p class="tableblock">Type: <em>boolean</em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">false</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>true</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><span class="no-hyphens"><strong>queue.exclusive</strong></span></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Whether the queue is for exclusive use</p>
<p class="tableblock">Type: <em>boolean</em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">false</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>false</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><span class="no-hyphens"><strong>queue.auto-delete</strong></span></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Whether the queue should be deleted after use</p>
<p class="tableblock">Type: <em>boolean</em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">false</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>false</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><span class="no-hyphens"><strong>queue.declare</strong></span></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Whether to declare the queue and binding; set to false if these are expected to be set up independently</p>
<p class="tableblock">Type: <em>boolean</em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">false</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>true</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><span class="no-hyphens"><strong>queue.ttl</strong></span></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">If specified, the time (ms) for which a message can remain in the queue undelivered before it is dead</p>
<p class="tableblock">Type: <em>long</em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">false</p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><span class="no-hyphens"><strong>max-incoming-internal-queue-size</strong></span></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">The maximum size of the incoming internal queue</p>
<p class="tableblock">Type: <em>int</em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">false</p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><span class="no-hyphens"><strong>auto-bind-dlq</strong></span></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Whether to automatically declare the DLQ and bind it to the binder DLX</p>
<p class="tableblock">Type: <em>boolean</em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">false</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>false</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><span class="no-hyphens"><strong>dead-letter-queue-name</strong></span></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">The name of the DLQ; if not supplied will default to the queue name with '.dlq' appended</p>
<p class="tableblock">Type: <em>string</em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">false</p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><span class="no-hyphens"><strong>dead-letter-exchange</strong></span></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">A DLX to assign to the queue. Relevant only if auto-bind-dlq is true</p>
<p class="tableblock">Type: <em>string</em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">false</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>DLX</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><span class="no-hyphens"><strong>dead-letter-exchange-type</strong></span></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">The type of the DLX to assign to the queue. Relevant only if auto-bind-dlq is true</p>
<p class="tableblock">Type: <em>string</em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">false</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>direct</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><span class="no-hyphens"><strong>dead-letter-routing-key</strong></span></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">A dead letter routing key to assign to the queue; if not supplied will default to the queue name</p>
<p class="tableblock">Type: <em>string</em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">false</p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><span class="no-hyphens"><strong>dlx.declare</strong></span></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Whether to declare the dead letter exchange binding. Relevant only if auto-bind-dlq is true; set to false if these are expected to be set up independently</p>
<p class="tableblock">Type: <em>boolean</em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">false</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>false</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><span class="no-hyphens"><strong>failure-strategy</strong></span></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">The failure strategy to apply when a RabbitMQ message is nacked. Accepted values are <code>fail</code>, <code>accept</code>, <code>reject</code> (default)</p>
<p class="tableblock">Type: <em>string</em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">false</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>reject</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><span class="no-hyphens"><strong>broadcast</strong></span></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Whether the received RabbitMQ messages must be dispatched to multiple <em>subscribers</em></p>
<p class="tableblock">Type: <em>boolean</em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">false</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>false</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><span class="no-hyphens"><strong>auto-acknowledgement</strong></span></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Whether the received RabbitMQ messages must be acknowledged when received; if true then delivery constitutes acknowledgement</p>
<p class="tableblock">Type: <em>boolean</em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">false</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>false</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><span class="no-hyphens"><strong>keep-most-recent</strong></span></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Whether to discard old messages instead of recent ones</p>
<p class="tableblock">Type: <em>boolean</em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">false</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>false</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><span class="no-hyphens"><strong>routing-keys</strong></span></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">A comma-separated list of routing keys to bind the queue to the exchange</p>
<p class="tableblock">Type: <em>string</em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">false</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>#</code></p></td>
</tr>
</tbody>
</table>
</div>
<div class="sect2">
<h3 id="outgoing-channel-configuration"><a class="anchor" href="#outgoing-channel-configuration"></a>Outgoing channel configuration</h3>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 27.7777%;">
<col style="width: 33.3333%;">
<col style="width: 16.6666%;">
<col style="width: 22.2224%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Attribute (<em>alias</em>)</th>
<th class="tableblock halign-left valign-top">Description</th>
<th class="tableblock halign-left valign-top">Mandatory</th>
<th class="tableblock halign-left valign-top">Default</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><span class="no-hyphens"><strong>automatic-recovery-enabled</strong></span></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Whether automatic connection recovery is enabled</p>
<p class="tableblock">Type: <em>boolean</em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">false</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>false</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><span class="no-hyphens"><strong>automatic-recovery-on-initial-connection</strong></span></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Whether automatic recovery on initial connections is enabled</p>
<p class="tableblock">Type: <em>boolean</em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">false</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>true</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><span class="no-hyphens"><strong>connection-timeout</strong></span></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">The TCP connection timeout (ms); 0 is interpreted as no timeout</p>
<p class="tableblock">Type: <em>int</em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">false</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>60000</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><span class="no-hyphens"><strong>default-routing-key</strong></span></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">The default routing key to use when sending messages to the exchange</p>
<p class="tableblock">Type: <em>string</em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">false</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">``</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><span class="no-hyphens"><strong>default-ttl</strong></span></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">If specified, the time (ms) sent messages can remain in queues undelivered before they are dead</p>
<p class="tableblock">Type: <em>long</em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">false</p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><span class="no-hyphens"><strong>exchange.auto-delete</strong></span></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Whether the exchange should be deleted after use</p>
<p class="tableblock">Type: <em>boolean</em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">false</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>false</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><span class="no-hyphens"><strong>exchange.declare</strong></span></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Whether to declare the exchange; set to false if the exchange is expected to be set up independently</p>
<p class="tableblock">Type: <em>boolean</em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">false</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>true</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><span class="no-hyphens"><strong>exchange.durable</strong></span></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Whether the exchange is durable</p>
<p class="tableblock">Type: <em>boolean</em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">false</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>true</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><span class="no-hyphens"><strong>exchange.name</strong></span></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">The exchange that messages are published to or consumed from. If not set, the channel name is used</p>
<p class="tableblock">Type: <em>string</em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">false</p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><span class="no-hyphens"><strong>exchange.type</strong></span></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">The exchange type: direct, fanout, headers or topic (default)</p>
<p class="tableblock">Type: <em>string</em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">false</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>topic</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><span class="no-hyphens"><strong>handshake-timeout</strong></span></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">The AMQP 0-9-1 protocol handshake timeout (ms)</p>
<p class="tableblock">Type: <em>int</em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">false</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>10000</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><span class="no-hyphens"><strong>host</strong></span></p>
<p class="tableblock"><span class="no-hyphens"><em>(rabbitmq-host)</em></span></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">The broker hostname</p>
<p class="tableblock">Type: <em>string</em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">false</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>localhost</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><span class="no-hyphens"><strong>include-properties</strong></span></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Whether to include properties when a broker message is passed on the event bus</p>
<p class="tableblock">Type: <em>boolean</em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">false</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>false</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><span class="no-hyphens"><strong>max-inflight-messages</strong></span></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">The maximum number of messages to be written to RabbitMQ concurrently; must be a positive number</p>
<p class="tableblock">Type: <em>long</em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">false</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>1024</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><span class="no-hyphens"><strong>max-outgoing-internal-queue-size</strong></span></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">The maximum size of the outgoing internal queue</p>
<p class="tableblock">Type: <em>int</em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">false</p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><span class="no-hyphens"><strong>network-recovery-interval</strong></span></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">How long (ms) will automatic recovery wait before attempting to reconnect</p>
<p class="tableblock">Type: <em>int</em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">false</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>5000</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><span class="no-hyphens"><strong>password</strong></span></p>
<p class="tableblock"><span class="no-hyphens"><em>(rabbitmq-password)</em></span></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">The password used to authenticate to the broker</p>
<p class="tableblock">Type: <em>string</em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">false</p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><span class="no-hyphens"><strong>port</strong></span></p>
<p class="tableblock"><span class="no-hyphens"><em>(rabbitmq-port)</em></span></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">The broker port</p>
<p class="tableblock">Type: <em>int</em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">false</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>5672</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><span class="no-hyphens"><strong>reconnect-attempts</strong></span></p>
<p class="tableblock"><span class="no-hyphens"><em>(rabbitmq-reconnect-attempts)</em></span></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">The number of reconnection attempts</p>
<p class="tableblock">Type: <em>int</em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">false</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>100</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><span class="no-hyphens"><strong>reconnect-interval</strong></span></p>
<p class="tableblock"><span class="no-hyphens"><em>(rabbitmq-reconnect-interval)</em></span></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">The interval (in seconds) between two reconnection attempts</p>
<p class="tableblock">Type: <em>int</em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">false</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>10</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><span class="no-hyphens"><strong>requested-channel-max</strong></span></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">The initially requested maximum channel number</p>
<p class="tableblock">Type: <em>int</em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">false</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>2047</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><span class="no-hyphens"><strong>requested-heartbeat</strong></span></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">The initially requested heartbeat interval (seconds), zero for none</p>
<p class="tableblock">Type: <em>int</em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">false</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>60</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><span class="no-hyphens"><strong>ssl</strong></span></p>
<p class="tableblock"><span class="no-hyphens"><em>(rabbitmq-ssl)</em></span></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Whether the connection should use SSL</p>
<p class="tableblock">Type: <em>boolean</em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">false</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>false</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><span class="no-hyphens"><strong>tracing.attribute-headers</strong></span></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">A comma-separated list of headers that should be recorded as span attributes. Relevant only if tracing.enabled=true</p>
<p class="tableblock">Type: <em>string</em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">false</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">``</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><span class="no-hyphens"><strong>tracing.enabled</strong></span></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Whether tracing is enabled (default) or disabled</p>
<p class="tableblock">Type: <em>boolean</em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">false</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>true</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><span class="no-hyphens"><strong>trust-all</strong></span></p>
<p class="tableblock"><span class="no-hyphens"><em>(rabbitmq-trust-all)</em></span></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Whether to skip trust certificate verification</p>
<p class="tableblock">Type: <em>boolean</em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">false</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>false</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><span class="no-hyphens"><strong>trust-store-password</strong></span></p>
<p class="tableblock"><span class="no-hyphens"><em>(rabbitmq-trust-store-password)</em></span></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">The password of the JKS trust store</p>
<p class="tableblock">Type: <em>string</em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">false</p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><span class="no-hyphens"><strong>trust-store-path</strong></span></p>
<p class="tableblock"><span class="no-hyphens"><em>(rabbitmq-trust-store-path)</em></span></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">The path to a JKS trust store</p>
<p class="tableblock">Type: <em>string</em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">false</p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><span class="no-hyphens"><strong>credentials-provider-name</strong></span></p>
<p class="tableblock"><span class="no-hyphens"><em>(rabbitmq-credentials-provider-name)</em></span></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">The name of the RabbitMQ Credentials Provider bean used to provide dynamic credentials to the RabbitMQ client</p>
<p class="tableblock">Type: <em>string</em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">false</p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><span class="no-hyphens"><strong>use-nio</strong></span></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Whether usage of NIO Sockets is enabled</p>
<p class="tableblock">Type: <em>boolean</em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">false</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>false</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><span class="no-hyphens"><strong>user</strong></span></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">The AMQP username to use when connecting to the broker</p>
<p class="tableblock">Type: <em>string</em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">false</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>guest</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><span class="no-hyphens"><strong>username</strong></span></p>
<p class="tableblock"><span class="no-hyphens"><em>(rabbitmq-username)</em></span></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">The username used to authenticate to the broker</p>
<p class="tableblock">Type: <em>string</em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">false</p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><span class="no-hyphens"><strong>virtual-host</strong></span></p>
<p class="tableblock"><span class="no-hyphens"><em>(rabbitmq-virtual-host)</em></span></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">The virtual host to use when connecting to the broker</p>
<p class="tableblock">Type: <em>string</em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">false</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>/</code></p></td>
</tr>
</tbody>
</table>
</div>
</div>
</div>
    </div>
    <div class="grid__item width-4-12 width-12-12-m tocwrapper">
      <div class="hide-mobile toc"><ul class="sectlevel1">
<li><a href="#rabbitmq-connector-extension">RabbitMQ connector extension</a></li>
<li><a href="#configuring-the-rabbitmq-broker-access">Configuring the RabbitMQ Broker access</a></li>
<li><a href="#receiving-rabbitmq-messages">Receiving RabbitMQ messages</a>
<ul class="sectlevel2">
<li><a href="#inbound-metadata">Inbound Metadata</a></li>
<li><a href="#deserialization">Deserialization</a></li>
<li><a href="#acknowledgement">Acknowledgement</a></li>
<li><a href="#failure-management">Failure Management</a></li>
</ul>
</li>
<li><a href="#sending-rabbitmq-messages">Sending RabbitMQ messages</a>
<ul class="sectlevel2">
<li><a href="#serialization">Serialization</a></li>
<li><a href="#outbound-metadata">Outbound Metadata</a></li>
<li><a href="#acknowledgement-2">Acknowledgement</a></li>
</ul>
</li>
<li><a href="#configuring-the-rabbitmq-exchangequeue">Configuring the RabbitMQ Exchange/Queue</a>
<ul class="sectlevel2">
<li><a href="#blocking-processing">Execution model and Blocking processing</a></li>
</ul>
</li>
<li><a href="#customizing-the-underlying-rabbitmq-client">Customizing the underlying RabbitMQ client</a></li>
<li><a href="#health-reporting">Health reporting</a></li>
<li><a href="#dynamic-credentials">Dynamic Credentials</a></li>
<li><a href="#configuration-reference">RabbitMQ Connector Configuration Reference</a>
<ul class="sectlevel2">
<li><a href="#incoming-channel-configuration">Incoming channel configuration</a></li>
<li><a href="#outgoing-channel-configuration">Outgoing channel configuration</a></li>
</ul>
</li>
</ul></div>
    </div>
  </div>
  </div>

  </div>

  <div class="content project-footer">
  <div class="footer-section">
    <div class="logo-wrapper">
      <a href="/"><img src="/assets/images/quarkus_logo_horizontal_rgb_reverse.svg" class="project-logo" title="Quarkus"></a>
    </div>
  </div>
  <div class="grid-wrapper">
    <p class="grid__item width-3-12">Quarkus is open. All dependencies of this project are available under the <a href='https://www.apache.org/licenses/LICENSE-2.0' target='_blank'>Apache Software License 2.0</a> or compatible license.<br /><br />This website was built with <a href='https://jekyllrb.com/' target='_blank'>Jekyll</a>, is hosted on <a href='https://pages.github.com/' target='_blank'>GitHub Pages</a> and is completely open source. If you want to make it better, <a href='https://github.com/quarkusio/quarkusio.github.io' target='_blank'>fork the website</a> and show us what you’ve got.</p>

    
      <div class="width-1-12 project-links">
        <span>Navigation</span>
        <ul class="footer-links">
          
          
            <li><a href="/" target="_blank">Home</a></li>
          
          
          
            <li><a href="/about" target="_blank">About</a></li>
          
          
          
            <li><a href="/blog" target="_blank">Blog</a></li>
          
          
          
            <li><a href="/insights" target="_blank">Podcast</a></li>
          
          
          
            <li><a href="/events" target="_blank">Events</a></li>
          
          
          
            <li><a href="/newsletter" target="_blank">Newsletter</a></li>
          
          
          
            <li><a href="/userstories" target="_blank">User Stories</a></li>
          
          
          
            <li><a href="https://github.com/orgs/quarkusio/projects/13/views/1" target="_blank">Roadmap</a></li>
          
          
          
            <li><a href="/security" target="_blank">Security&nbsp;policy</a></li>
          
          
          
            <li><a href="/usage" target="_blank">Usage</a></li>
          
          
          
            <li><a href="/brand" target="_blank">Brand</a></li>
          
          
          
            <li><a href="/desktopwallpapers" target="_blank">Wallpapers</a></li>
          
          
        </ul>
      </div>
    
      <div class="width-1-12 project-links">
        <span>Follow Us</span>
        <ul class="footer-links">
          
          
            <li><a href="https://x.com/quarkusio" target="_blank">X</a></li>
          
          
          
            <li><a href="https://bsky.app/profile/quarkus.io" target="_blank">Bluesky</a></li>
          
          
          
            <li><a rel="me" href="https://fosstodon.org/@quarkusio" target="_blank">Mastodon</a></li>
            
          
          
            <li><a href="https://www.facebook.com/quarkusio" target="_blank">Facebook</a></li>
          
          
          
            <li><a href="https://www.linkedin.com/company/quarkusio/" target="_blank">Linkedin</a></li>
          
          
          
            <li><a href="https://www.youtube.com/channel/UCaW8QG_QoIk_FnjLgr5eOqg" target="_blank">Youtube</a></li>
          
          
          
            <li><a href="https://github.com/quarkusio" target="_blank">GitHub</a></li>
          
          
        </ul>
      </div>
    
      <div class="width-2-12 project-links">
        <span>Get Help</span>
        <ul class="footer-links">
          
          
            <li><a href="/support" target="_blank">Support</a></li>
          
          
          
            <li><a href="/guides" target="_blank">Guides</a></li>
          
          
          
            <li><a href="/faq" target="_blank">FAQ</a></li>
          
          
          
            <li><a href="/get-started" target="_blank">Get Started</a></li>
          
          
          
            <li><a href="https://stackoverflow.com/questions/tagged/quarkus" target="_blank">Stack Overflow</a></li>
          
          
          
            <li><a href="https://github.com/quarkusio/quarkus/discussions" target="_blank">Discussions</a></li>
          
          
          
            <li><a href="https://groups.google.com/forum/#!forum/quarkus-dev" target="_blank">Development mailing list</a></li>
          
          
        </ul>
      </div>
    
      <div class="width-1-12 project-links">
        <span>Languages</span>
        <ul class="footer-links">
          
          
            <li><a href="https://quarkus.io/" target="_blank">English</a></li>
          
          
          
            <li><a href="https://pt.quarkus.io/" target="_blank">Português&nbsp;(Brasileiro)</a></li>
          
          
          
            <li><a href="https://es.quarkus.io/" target="_blank">Español</a></li>
          
          
          
            <li><a href="https://cn.quarkus.io/" target="_blank">简体中文</a></li>
          
          
          
            <li><a href="https://ja.quarkus.io/" target="_blank">日本語</a></li>
          
          
        </ul>
      </div>
    

    
      <div class="width-4-12 more-links">
        <span>Quarkus is made of community projects</span>
        <ul class="footer-links">
          
            <li><a blah href="https://vertx.io/" target="_blank">Eclipse Vert.x</a></li>
          
            <li><a blah href="https://smallrye.io" target="_blank">SmallRye</a></li>
          
            <li><a blah href="https://hibernate.org" target="_blank">Hibernate</a></li>
          
            <li><a blah href="https://netty.io" target="_blank">Netty</a></li>
          
            <li><a blah href="https://resteasy.github.io" target="_blank">RESTEasy</a></li>
          
            <li><a blah href="https://camel.apache.org" target="_blank">Apache Camel</a></li>
          
            <li><a blah href="https://microprofile.io" target="_blank">Eclipse MicroProfile</a></li>
          
            <li><a blah href="https://code.quarkus.io/" target="_blank">And many more...</a></li>
          
        </ul>
      </div>
    
  </div>
</div>

  <div class="content redhat-footer">
  <div class="grid-wrapper">
    <span class="licence">
      <i class="fab fa-creative-commons"></i><i class="fab fa-creative-commons-by"></i> <a href="https://creativecommons.org/licenses/by/3.0/" target="_blank">CC by 3.0</a> | <a href="https://www.redhat.com/en/about/privacy-policy">Privacy Policy</a>
    </span>
    <span class="redhat">
      Sponsored by
    </span>
    <span class="redhat-logo">
      <a href="https://www.redhat.com/" target="_blank"><img src="/assets/images/redhat_reversed.svg"></a>
    </span>
  </div>
</div>


  <script src="https://ajax.googleapis.com/ajax/libs/jquery/2.1.4/jquery.min.js" integrity="sha384-8gBf6Y4YYq7Jx97PIqmTwLPin4hxIzQw5aDmUg/DDhul9fFpbbLcLh3nTIIDJKhx" crossorigin="anonymous"></script>
  <script type="text/javascript" src="/assets/javascript/mobile-nav.js"></script>
  <script type="text/javascript" src="/assets/javascript/scroll-down.js"></script>
  <script src="/assets/javascript/satellite.js" type="text/javascript"></script>
  <script src="/guides/javascript/config.js" type="text/javascript"></script>
  <script src="/assets/javascript/guides-version-dropdown.js" type="text/javascript"></script>
  <script src="/assets/javascript/back-to-top.js" type="text/javascript"></script>
  <script src="/assets/javascript/clipboard.min.js" type="text/javascript"></script>
  <script src="/assets/javascript/copy.js" type="text/javascript"></script>
  <script src="/assets/javascript/asciidoc-tabs.js" type="text/javascript"></script>
  <script src="/assets/javascript/future-date.js" type="text/javascript"></script>
</body>

</html>
