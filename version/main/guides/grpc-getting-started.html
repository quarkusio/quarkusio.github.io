<!DOCTYPE html>
<html lang="en">







<head>
  <title>Getting Started with gRPC - main - Quarkus</title>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <meta http-equiv="Content-Security-Policy" content="
  connect-src 'self' https://dpm.demdex.net https://adobedc.demdex.net https://route-default-test-mscherer-matamo.apps.ospo-osci.z3b1.p1.openshiftapps.com/ https://search.quarkus.io https://smetrics.redhat.com; 
  script-src 'self' 'unsafe-inline' 'unsafe-eval'
      
      https://assets.adobedtm.com
      js.bizographics.com
      https://www.redhat.com
      https://static.redhat.com
      https://app.requestly.io/
      jsonip.com
      https://ajax.googleapis.com
      https://use.fontawesome.com
      http://www.youtube.com
      http://www.googleadservices.com
      https://googleads.g.doubleclick.net
      https://giscus.app
      https://route-default-test-mscherer-matamo.apps.ospo-osci.z3b1.p1.openshiftapps.com/
      https://app.mailjet.com;

  style-src 'self' https://fonts.googleapis.com https://use.fontawesome.com; 
  img-src 'self' * data:; 
  media-src 'self'; 
  frame-src https://redhat.demdex.net https://www.youtube.com https://embed.restream.io https://app.mailjet.com http://xy0p2.mjt.lu https://mj.quarkus.io https://giscus.app; 
  base-uri 'none'; 
  object-src 'none'; 
  form-action 'none'; 
  font-src 'self' https://use.fontawesome.com https://fonts.gstatic.com;" />
  <script id="adobe_dtm" src="https://www.redhat.com/dtm.js" type="text/javascript"></script>
  <script src="/assets/javascript/highlight.pack.js" type="text/javascript"></script>
  <META HTTP-EQUIV='X-XSS-Protection' CONTENT="1; mode=block">
  <META HTTP-EQUIV='X-Content-Type-Options' CONTENT="nosniff">
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <meta name="description" content="Quarkus: Supersonic Subatomic Java">
  <meta name="twitter:card" content="summary_large_image">
  <meta name="twitter:site" content="@QuarkusIO"> 
  <meta name="twitter:creator" content="@QuarkusIO">
  <meta property="og:url" content="https://quarkus.io/version/main/guides/grpc-getting-started" />
  <meta property="og:title" content="Getting Started with gRPC - main" />
  <meta property="og:description" content="Quarkus: Supersonic Subatomic Java" />
  <meta property="og:image" content="https://quarkus.io/assets/images/quarkus_card.png" />
  
  <link rel="canonical" href="https://quarkus.io/guides/grpc-getting-started">
  <link rel="shortcut icon" type="image/png" href="/favicon.ico" >
  <link rel="stylesheet" href="/guides/stylesheet/config.css" />
  <link rel="stylesheet" href="/assets/css/main.css?2021-07-29" />
  <link rel="stylesheet" href="https://use.fontawesome.com/releases/v6.5.2/css/all.css" crossorigin="anonymous">
  <link rel="alternate" type="application/rss+xml"  href="/feed.xml" title="Quarkus">
  <script src="/assets/javascript/hl.js" type="text/javascript"></script>
  
  
  
  
  <link rel="alternate" hreflang="en" href="https://quarkus.io/version/main/guides/grpc-getting-started" />
  
  <link rel="alternate" hreflang="pt-br" href="https://pt.quarkus.io/version/main/guides/grpc-getting-started" />
  
  <link rel="alternate" hreflang="es" href="https://es.quarkus.io/version/main/guides/grpc-getting-started" />
  
  <link rel="alternate" hreflang="zh" href="https://cn.quarkus.io/version/main/guides/grpc-getting-started" />
  
  <link rel="alternate" hreflang="ja" href="https://ja.quarkus.io/version/main/guides/grpc-getting-started" />
  
  <link rel="alternate" hreflang="x-default" href="https://quarkus.io/" />  
  <script src="/assets/javascript/tracking.js"></script>
  
  <script src="/assets/javascript/colormode.js" type="text/javascript"></script>

</head>

<body class="guides">

  
  <div class="nav-wrapper">
  <div class="grid-wrapper">
    <div class="width-12-12">
      <input type="checkbox" id="checkbox" />
      <nav id="main-nav" class="main-nav">
        <div class="logo-wrapper">
           <a href="/"><img src="/assets/images/quarkus_logo_horizontal_rgb_600px_reverse.png" class="project-logo" title="Quarkus"></a>
        </div>
    <label class="nav-toggle" for="checkbox">
      <i class="fa fa-bars"></i>
    </label>
    <ul id="menu" class="menu">
      <li class="dropdown">
        <span href="/about/">Why<i class="fas fa-chevron-down"></i></span>
        <ul class="submenu">
          <li><a href="/about" class="">WHAT IS QUARKUS?</a></li>
          <li><a href="/container-first" class="">CONTAINER FIRST</a></li>
          <li><a href="/continuum" class="">VERSATILITY</a></li>
          <li><a href="/developer-joy" class="">DEVELOPER JOY</a></li>
          <li><a href="/kubernetes-native" class="">KUBERNETES NATIVE</a></li>
          <li><a href="/standards" class="">STANDARDS</a></li>
        </ul>
      </li>
      <li class="dropdown">
        <span href="/learn/">Learn<i class="fas fa-chevron-down"></i></span>
        <ul class="submenu">
          <li><a href="/get-started" class="">GET STARTED</a></li>
          <li><a href="/guides" class="active">DOCUMENTATION</a></li>
          <li><a href="/qtips" class="">"Q" TIP VIDEOS</a></li>          
          <li><a href="/books" class="">BOOKS</a></li>
          </ul>
      </li>
      <li class="dropdown">
        <span href="https://quarkus.io/extensions/">Extensions<i class="fas fa-chevron-down"></i></span>
        <ul class="submenu">
          <!-- Note that quarkus.io is hardcoded here, because it is the only url which supports extensions -->
          <li><a href="https://quarkus.io/extensions/" class="">BROWSE EXTENSIONS</a></li>
          <li><a href="/faq/#what-is-a-quarkus-extension" class="">USE EXTENSIONS</a></li>
          <li><a href="/guides/writing-extensions" class="">CREATE EXTENSIONS</a></li>
          <li><a href="https://hub.quarkiverse.io" class="">SHARE EXTENSIONS</a></li>
        </ul>
      </li>
      <li class="dropdown">
        <span href="/community/">Community<i class="fas fa-chevron-down"></i></span>
        <ul class="submenu">
          <li><a href="/support/" class="">SUPPORT</a></li>
          <li><a href="/blog" class="">BLOG</a></li>
          <li><a href="/discussion" class="">DISCUSSION</a></li>
          <li><a href="/working-groups" class="">WORKING GROUPS</a></li>
          <li><a href="/insights" class="">PODCAST</a></li>
          <li><a href="/events" class="">EVENTS</a></li>
          <li><a href="/newsletter" class="">NEWSLETTER</a></li>
          <li><a href="https://github.com/orgs/quarkusio/projects/13/views/1" class="">ROADMAP</a></li>
          </ul>
      </li>
      <li>
        <a href="https://code.quarkus.io" class="button-cta secondary white">START CODING</a>
      </li>
      <li class="dropdown">
        <span href="/language/"><div class="fas fa-globe langicon"></div><i class="fas fa-chevron-down"></i></span>
        <ul class="submenu">
          <li><a href="https://quarkus.io/version/main/guides/grpc-getting-started" >OFFICIAL (ENGLISH)</a></li>
          <li><a href="https://pt.quarkus.io/version/main/guides/grpc-getting-started">PORTUGUÊS (BR)</a></li>
          <li><a href="https://es.quarkus.io/version/main/guides/grpc-getting-started">ESPAÑOL</a></li>
          <li><a href="https://cn.quarkus.io/version/main/guides/grpc-getting-started">简体中文</a></li>
          <li><a href="https://ja.quarkus.io/version/main/guides/grpc-getting-started">日本語</a></li>
          </ul>
      </li>
      <li>
        <span href="#" class="modeswitcher" id='theme-toggle'><i class="fas fa-sun"></i><i class="fas fa-moon"></i><i class="fas fa-cog"></i></span>
      </li>
    </ul>
      </nav>
    </div>
  </div>
</div>

  <div class="content">
    







<section class="full-width-version-bg flexfilterbar guides">
  <div class="guideflexcontainer">
    <div class="docslink">
      <a class="returnlink" href="/version/main/guides/"> Back to Guides</a>
    </div>
    <div class="flexlabel">
      <label>By Version</label>
    </div>
    <div class="guidepulldown version">
    <select id="guide-version-dropdown">
      
        
        
        <option value="main" selected>Main - SNAPSHOT</option>
        
        
        
        <option value="latest" >3.16.2 - Latest</option>
        
        
        
        <option value="3.15" >3.15</option>
        
        
        
        <option value="3.8" >3.8</option>
        
        
        
        <option value="3.2" >3.2</option>
        
        
        
        <option value="2.16" >2.16</option>
        
        
        
        <option value="2.13" >2.13</option>
        </select>
    </div>
  </div>
</section>

<div class="guide">
  <div class="grid-wrapper">
    <div class="grid__item width-8-12 width-12-12-m">
      
      <a class="editlink" href="https://github.com/quarkusio/quarkus/edit/main/docs/src/main/asciidoc/grpc-getting-started.adoc">Edit this Page</a>
      
      <h1 class="text-caps">Getting Started with gRPC </h1>
      <div id="preamble">
<div class="sectionbody">
<div class="paragraph">
<p>This page explains how to start using gRPC in your Quarkus application.
While this page describes how to configure it with Maven, it is also possible to use Gradle.</p>
</div>
<div class="paragraph">
<p>Let&#8217;s imagine you have a regular Quarkus project, generated from the <a href="https://code.quarkus.io">Quarkus project generator</a>.
The default configuration is enough, but you can also select some extensions if you want.</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="solution"><a class="anchor" href="#solution"></a>Solution</h2>
<div class="sectionbody">
<div class="paragraph">
<p>We recommend that you follow the instructions in the next sections and create the application step by step.
However, you can go right to the completed example.</p>
</div>
<div class="paragraph">
<p>Clone the Git repository: <code>git clone -b development <a href="https://github.com/quarkusio/quarkus-quickstarts.git" class="bare">https://github.com/quarkusio/quarkus-quickstarts.git</a></code>, or download an <a href="https://github.com/quarkusio/quarkus-quickstarts/archive/development.zip">archive</a>.</p>
</div>
<div class="paragraph">
<p>The solution is located in the <code>grpc-plain-text-quickstart</code> <a href="https://github.com/quarkusio/quarkus-quickstarts/tree/development/grpc-plain-text-quickstart">directory</a>.</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="configuring-your-project"><a class="anchor" href="#configuring-your-project"></a>Configuring your project</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Add the Quarkus gRPC extension to your build file:</p>
</div>
<div class="listingblock primary asciidoc-tabs-target-sync-cli asciidoc-tabs-target-sync-maven">
<div class="title">pom.xml</div>
<div class="content">
<pre class="highlightjs highlight"><code class="language-xml hljs" data-lang="xml">&lt;dependency&gt;
    &lt;groupId&gt;io.quarkus&lt;/groupId&gt;
    &lt;artifactId&gt;quarkus-grpc&lt;/artifactId&gt;
&lt;/dependency&gt;</code></pre>
</div>
</div>
<div class="listingblock secondary asciidoc-tabs-target-sync-gradle">
<div class="title">build.gradle</div>
<div class="content">
<pre class="highlightjs highlight"><code class="language-gradle hljs" data-lang="gradle">implementation("io.quarkus:quarkus-grpc")</code></pre>
</div>
</div>
<div class="paragraph">
<p>By default, the <code>quarkus-grpc</code> extension relies on the reactive programming model.
In this guide we will follow a reactive approach.
Under the <code>dependencies</code> section of your <code>pom.xml</code> file, make sure you have the Quarkus REST (formerly RESTEasy Reactive) dependency:</p>
</div>
<div class="listingblock primary asciidoc-tabs-target-sync-cli asciidoc-tabs-target-sync-maven">
<div class="title">pom.xml</div>
<div class="content">
<pre class="highlightjs highlight"><code class="language-xml hljs" data-lang="xml">&lt;dependency&gt;
    &lt;groupId&gt;io.quarkus&lt;/groupId&gt;
    &lt;artifactId&gt;quarkus-rest&lt;/artifactId&gt;
&lt;/dependency&gt;</code></pre>
</div>
</div>
<div class="listingblock secondary asciidoc-tabs-target-sync-gradle">
<div class="title">build.gradle</div>
<div class="content">
<pre class="highlightjs highlight"><code class="language-gradle hljs" data-lang="gradle">implementation("io.quarkus:quarkus-rest")</code></pre>
</div>
</div>
<div class="paragraph">
<p>If you are using Maven, make sure you have the <code>generate-code</code> goal of <code>quarkus-maven-plugin</code> enabled in your <code>pom.xml</code>.
If you wish to generate code from different <code>proto</code> files for tests, also add the <code>generate-code-tests</code> goal.
Please note that no additional task/goal is required for the Gradle plugin.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-xml hljs" data-lang="xml">&lt;build&gt;
    &lt;plugins&gt;
        &lt;plugin&gt;
            &lt;groupId&gt;io.quarkus&lt;/groupId&gt;
            &lt;artifactId&gt;quarkus-maven-plugin&lt;/artifactId&gt;
            &lt;version&gt;${quarkus-plugin.version}&lt;/version&gt;
            &lt;extensions&gt;true&lt;/extensions&gt;
            &lt;executions&gt;
                &lt;execution&gt;
                    &lt;goals&gt;
                        &lt;goal&gt;build&lt;/goal&gt;
                        &lt;goal&gt;generate-code&lt;/goal&gt;
                        &lt;goal&gt;generate-code-tests&lt;/goal&gt;
                    &lt;/goals&gt;
                &lt;/execution&gt;
            &lt;/executions&gt;
        &lt;/plugin&gt;
    &lt;/plugins&gt;
&lt;/build&gt;</code></pre>
</div>
</div>
<div class="paragraph">
<p>With this configuration, you can put your service and message definitions in the <code>src/main/proto</code> directory.
<code>quarkus-maven-plugin</code> will generate Java files from your <code>proto</code> files.</p>
</div>
<div class="paragraph">
<p><code>quarkus-maven-plugin</code> retrieves a version of <code>protoc</code> (the protobuf compiler) from Maven repositories. The retrieved version matches your operating system and CPU architecture.
If this retrieved version does not work in your context, you can either force to use a different OS classifier with
<code>-Dquarkus.grpc.protoc-os-classifier=your-os-classifier</code> (e.g. <code>osx-x86_64</code>).
You can also download the suitable binary and specify the location via
<code>-Dquarkus.grpc.protoc-path=/path/to/protoc</code>.</p>
</div>
<div class="paragraph">
<p>Let&#8217;s start with a simple <em>Hello</em> service.
Create the <code>src/main/proto/helloworld.proto</code> file with the following content:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-javascript hljs" data-lang="javascript">syntax = "proto3";

option java_multiple_files = true;
option java_package = "io.quarkus.example";
option java_outer_classname = "HelloWorldProto";

package helloworld;

// The greeting service definition.
service Greeter {
    // Sends a greeting
    rpc SayHello (HelloRequest) returns (HelloReply) {}
}

// The request message containing the user's name.
message HelloRequest {
    string name = 1;
}

// The response message containing the greetings
message HelloReply {
    string message = 1;
}</code></pre>
</div>
</div>
<div class="paragraph">
<p>This <code>proto</code> file defines a simple service interface with a single method (<code>SayHello</code>), and the exchanged messages (<code>HelloRequest</code> containing the name and <code>HelloReply</code> containing the greeting message).</p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
Your <code>proto</code> file must not contain <code>option java_generic_services = true;</code>. <a href="https://developers.google.com/protocol-buffers/docs/reference/java-generated?hl=en#service">Generic services are deprecated</a> and are not compatible with Quarkus code generation plugins.
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>Before coding, we need to generate the classes used to implement and consume gRPC services.
In a terminal, run:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-shell hljs" data-lang="shell">$ mvn compile</code></pre>
</div>
</div>
<div class="paragraph">
<p>Once generated, you can look at the <code>target/generated-sources/grpc</code> directory:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-txt hljs" data-lang="txt">target/generated-sources/grpc
└── io
    └── quarkus
        └── example
            ├── Greeter.java
            ├── GreeterBean.java
            ├── GreeterClient.java
            ├── GreeterGrpc.java
            ├── HelloReply.java
            ├── HelloReplyOrBuilder.java
            ├── HelloRequest.java
            ├── HelloRequestOrBuilder.java
            ├── HelloWorldProto.java
            └── MutinyGreeterGrpc.java</code></pre>
</div>
</div>
<div class="paragraph">
<p>These are the classes we are going to use.</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="different-grpc-implementations-types"><a class="anchor" href="#different-grpc-implementations-types"></a>Different gRPC implementations / types</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Another thing to take note as well is that Quarkus' gRPC support currently includes 3 different types of gRPC usage:</p>
</div>
<div class="olist loweralpha">
<ol class="loweralpha">
<li>
<p>old Vert.x gRPC implementation with a separate gRPC server (default)</p>
</li>
<li>
<p>new Vert.x gRPC implementation on top of the existing HTTP server</p>
</li>
<li>
<p><a href="https://grpc.github.io/grpc/core/md_doc_grpc_xds_features.html">xDS gRPC</a> wrapper over <a href="https://github.com/grpc/grpc-java">grpc-java</a> with a separate Netty based gRPC server</p>
</li>
</ol>
</div>
<div class="paragraph">
<p>Further docs explain how to enable and use each of them.</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="implementing-a-grpc-service"><a class="anchor" href="#implementing-a-grpc-service"></a>Implementing a gRPC service</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Now that we have the generated classes let&#8217;s implement our <em>hello</em> service.</p>
</div>
<div class="paragraph">
<p>With Quarkus, implementing a service requires to implement the generated service interface based on Mutiny, a Reactive Programming API integrated in Quarkus, and expose it as a CDI bean.
Learn more about Mutiny on the <a href="mutiny-primer">Mutiny guide</a>.
The service class must be annotated with the <code>@io.quarkus.grpc.GrpcService</code> annotation.</p>
</div>
<div class="sect2">
<h3 id="implementing-a-service"><a class="anchor" href="#implementing-a-service"></a>Implementing a service</h3>
<div class="paragraph">
<p>Create the <code>src/main/java/org/acme/HelloService.java</code> file with the following content:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-java hljs" data-lang="java">package org.acme;

import io.quarkus.example.Greeter;
import io.quarkus.example.HelloReply;
import io.quarkus.example.HelloRequest;
import io.quarkus.grpc.GrpcService;
import io.smallrye.mutiny.Uni;

@GrpcService <i class="conum" data-value="1"></i><b>(1)</b>
public class HelloService implements Greeter {  <i class="conum" data-value="2"></i><b>(2)</b>

    @Override
    public Uni&lt;HelloReply&gt; sayHello(HelloRequest request) { <i class="conum" data-value="3"></i><b>(3)</b>
        return Uni.createFrom().item(() -&gt;
                HelloReply.newBuilder().setMessage("Hello " + request.getName()).build()
        );
    }
}</code></pre>
</div>
</div>
<div class="colist arabic">
<table>
<tr>
<td><i class="conum" data-value="1"></i><b>1</b></td>
<td>Expose your implementation as a bean.</td>
</tr>
<tr>
<td><i class="conum" data-value="2"></i><b>2</b></td>
<td>Implement the generated service interface.</td>
</tr>
<tr>
<td><i class="conum" data-value="3"></i><b>3</b></td>
<td>Implement the methods defined in the service definition (here we have a single method).</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>You can also use the default gRPC API instead of Mutiny:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-java hljs" data-lang="java">package org.acme;

import io.grpc.stub.StreamObserver;
import io.quarkus.example.GreeterGrpc;
import io.quarkus.example.HelloReply;
import io.quarkus.example.HelloRequest;
import io.quarkus.grpc.GrpcService;

@GrpcService <i class="conum" data-value="1"></i><b>(1)</b>
public class HelloService extends GreeterGrpc.GreeterImplBase { <i class="conum" data-value="2"></i><b>(2)</b>

    @Override
    public void sayHello(HelloRequest request, StreamObserver&lt;HelloReply&gt; responseObserver) { <i class="conum" data-value="3"></i><b>(3)</b>
        String name = request.getName();
        String message = "Hello " + name;
        responseObserver.onNext(HelloReply.newBuilder().setMessage(message).build()); <i class="conum" data-value="4"></i><b>(4)</b>
        responseObserver.onCompleted(); <i class="conum" data-value="5"></i><b>(5)</b>
    }
}</code></pre>
</div>
</div>
<div class="colist arabic">
<table>
<tr>
<td><i class="conum" data-value="1"></i><b>1</b></td>
<td>Expose your implementation as a bean.</td>
</tr>
<tr>
<td><i class="conum" data-value="2"></i><b>2</b></td>
<td>Extends the <code>ImplBase</code> class. This is a generated class.</td>
</tr>
<tr>
<td><i class="conum" data-value="3"></i><b>3</b></td>
<td>Implement the methods defined in the service definition (here we have a single method).</td>
</tr>
<tr>
<td><i class="conum" data-value="4"></i><b>4</b></td>
<td>Build and send the response.</td>
</tr>
<tr>
<td><i class="conum" data-value="5"></i><b>5</b></td>
<td>Close the response.</td>
</tr>
</table>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
If your service implementation logic is blocking (use blocking I/O for example), annotate your method with
<code>@Blocking</code>.
The <code>io.smallrye.common.annotation.Blocking</code> annotation instructs the framework to invoke the
annotated method on a worker thread instead of the I/O thread (event-loop).
</td>
</tr>
</table>
</div>
</div>
<div class="sect2">
<h3 id="the-grpc-server"><a class="anchor" href="#the-grpc-server"></a>The gRPC server</h3>
<div class="paragraph">
<p>The services are <em>served</em> by a <em>server</em>.
Available services (<em>CDI beans</em>) are automatically registered and exposed.</p>
</div>
<div class="paragraph">
<p>By default, the server is exposed on <code>localhost:9000</code>, and uses <em>plain-text</em> (so no TLS) when
running normally, and <code>localhost:9001</code> for tests.</p>
</div>
<div class="paragraph">
<p>Run the application using: <code>mvn quarkus:dev</code>.</p>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="consuming-a-grpc-service"><a class="anchor" href="#consuming-a-grpc-service"></a>Consuming a gRPC service</h2>
<div class="sectionbody">
<div class="paragraph">
<p>In this section, we are going to consume the service we expose.
To simplify, we are going to consume the service from the same application, which in the real world, does not make sense.</p>
</div>
<div class="paragraph">
<p>Open the existing <code>org.acme.ExampleResource</code> class, and edit the content to become:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-java hljs" data-lang="java">package org.acme;

import io.quarkus.example.Greeter;
import io.quarkus.example.HelloRequest;
import io.quarkus.grpc.GrpcClient;
import io.smallrye.mutiny.Uni;

import jakarta.ws.rs.GET;
import jakarta.ws.rs.Path;
import jakarta.ws.rs.Produces;
import jakarta.ws.rs.core.MediaType;

@Path("/hello")
public class ExampleResource {

    @GrpcClient                               <i class="conum" data-value="1"></i><b>(1)</b>
    Greeter hello;                            <i class="conum" data-value="2"></i><b>(2)</b>

    @GET
    @Produces(MediaType.TEXT_PLAIN)
    public String hello() {
        return "hello";
    }

    @GET
    @Path("/{name}")
    public Uni&lt;String&gt; hello(String name) {
        return hello.sayHello(HelloRequest.newBuilder().setName(name).build())
                .onItem().transform(helloReply -&gt; helloReply.getMessage());  <i class="conum" data-value="3"></i><b>(3)</b>
    }
}</code></pre>
</div>
</div>
<div class="colist arabic">
<table>
<tr>
<td><i class="conum" data-value="1"></i><b>1</b></td>
<td>Inject the service and configure its name. The name is used in the application configuration. If not specified then the field name is used instead: <code>hello</code> in this particular case.</td>
</tr>
<tr>
<td><i class="conum" data-value="2"></i><b>2</b></td>
<td>Use the generated service interface based on Mutiny API.</td>
</tr>
<tr>
<td><i class="conum" data-value="3"></i><b>3</b></td>
<td>Invoke the service.</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>We need to configure the application to indicate where the <code>hello</code> service is found.
In the <code>src/main/resources/application.properties</code> file, add the following property:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-properties hljs" data-lang="properties">quarkus.grpc.clients.hello.host=localhost</code></pre>
</div>
</div>
<div class="ulist">
<ul>
<li>
<p><code>hello</code> is the name used in the <code>@GrpcClient</code> annotation.</p>
</li>
<li>
<p><code>host</code> configures the service host (here it&#8217;s localhost).</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>Then, open <a href="http://localhost:8080/hello/quarkus" class="bare">http://localhost:8080/hello/quarkus</a> in a browser, and you should get <code>Hello quarkus</code>!</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="packaging-the-application"><a class="anchor" href="#packaging-the-application"></a>Packaging the application</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Like any other Quarkus applications, you can package it with: <code>mvn package</code>.
You can also package the application into a native executable with: <code>mvn package -Dnative</code>.</p>
</div>
</div>
</div>
    </div>
    <div class="grid__item width-4-12 width-12-12-m tocwrapper">
      <div class="hide-mobile toc"><ul class="sectlevel1">
<li><a href="#solution">Solution</a></li>
<li><a href="#configuring-your-project">Configuring your project</a></li>
<li><a href="#different-grpc-implementations-types">Different gRPC implementations / types</a></li>
<li><a href="#implementing-a-grpc-service">Implementing a gRPC service</a>
<ul class="sectlevel2">
<li><a href="#implementing-a-service">Implementing a service</a></li>
<li><a href="#the-grpc-server">The gRPC server</a></li>
</ul>
</li>
<li><a href="#consuming-a-grpc-service">Consuming a gRPC service</a></li>
<li><a href="#packaging-the-application">Packaging the application</a></li>
</ul></div>
    </div>
  </div>
  <h2>Related content</h2>
  <div class="grid-wrapper relations">
    <div class="grid__item width-6-12 width-12-12-m">
      <h3>On the same extensions</h3>
      <ul class="related-content">
      
        
        <li class="guide"><a href="/version/main/guides/grpc-service-consumption">Consuming a gRPC Service</a></li>
      
        
        <li class="guide"><a href="/version/main/guides/grpc-kubernetes">Deploying your gRPC Service in Kubernetes</a></li>
      
        
        <li class="guide"><a href="/version/main/guides/grpc">gRPC</a></li>
      
        
        <li class="reference"><a href="/version/main/guides/grpc-generation-reference">gRPC code generation reference guide</a></li>
      
        
        <li class="reference"><a href="/version/main/guides/grpc-reference">gRPC reference guide</a></li>
      
        
        <li class="guide"><a href="/version/main/guides/grpc-service-implementation">Implementing a gRPC Service</a></li>
      
        
        <li class="guide"><a href="/version/main/guides/grpc-virtual-threads">Quarkus Virtual Thread support for gRPC services</a></li>
      </ul>
    </div>
    <div class="grid__item width-6-12 width-12-12-m">
      <h3>On the same topics</h3>
      <ul class="related-content">
      
        
        <li class="guide"><a href="/version/main/guides/grpc-service-consumption">Consuming a gRPC Service</a></li>
      
        
        <li class="guide"><a href="/version/main/guides/grpc-kubernetes">Deploying your gRPC Service in Kubernetes</a></li>
      
        
        <li class="guide"><a href="/version/main/guides/grpc">gRPC</a></li>
      
        
        <li class="reference"><a href="/version/main/guides/grpc-generation-reference">gRPC code generation reference guide</a></li>
      
        
        <li class="reference"><a href="/version/main/guides/grpc-reference">gRPC reference guide</a></li>
      
        
        <li class="guide"><a href="/version/main/guides/grpc-service-implementation">Implementing a gRPC Service</a></li>
      
        
        <li class="guide"><a href="/version/main/guides/grpc-virtual-threads">Quarkus Virtual Thread support for gRPC services</a></li>
      
        
        <li class="guide"><a href="/version/main/guides/grpc-cli">Using gRPC CLI</a></li>
      
        
        <li class="guide"><a href="/version/main/guides/grpc-xds">Using xDS gRPC</a></li>
      </ul>
    </div>
    </div>
  </div>

  </div>

  <div class="content project-footer">
  <div class="footer-section">
    <div class="logo-wrapper">
      <a href="/"><img src="/assets/images/quarkus_logo_horizontal_rgb_reverse.svg" class="project-logo" title="Quarkus"></a>
    </div>
  </div>
  <div class="grid-wrapper">
    <p class="grid__item width-3-12">Quarkus is open. All dependencies of this project are available under the <a href='https://www.apache.org/licenses/LICENSE-2.0' target='_blank'>Apache Software License 2.0</a> or compatible license.<br /><br />This website was built with <a href='https://jekyllrb.com/' target='_blank'>Jekyll</a>, is hosted on <a href='https://pages.github.com/' target='_blank'>GitHub Pages</a> and is completely open source. If you want to make it better, <a href='https://github.com/quarkusio/quarkusio.github.io' target='_blank'>fork the website</a> and show us what you’ve got.</p>

    
      <div class="width-1-12 project-links">
        <span>Navigation</span>
        <ul class="footer-links">
          
          
            <li><a href="/" target="_blank">Home</a></li>
          
          
          
            <li><a href="/about" target="_blank">About</a></li>
          
          
          
            <li><a href="/blog" target="_blank">Blog</a></li>
          
          
          
            <li><a href="/insights" target="_blank">Podcast</a></li>
          
          
          
            <li><a href="/events" target="_blank">Events</a></li>
          
          
          
            <li><a href="/newsletter" target="_blank">Newsletter</a></li>
          
          
          
            <li><a href="https://github.com/orgs/quarkusio/projects/13/views/1" target="_blank">Roadmap</a></li>
          
          
          
            <li><a href="/security" target="_blank">Security&nbsp;policy</a></li>
          
          
          
            <li><a href="/usage" target="_blank">Usage</a></li>
          
          
          
            <li><a href="/brand" target="_blank">Brand</a></li>
          
          
          
            <li><a href="/desktopwallpapers" target="_blank">Wallpapers</a></li>
          
          
        </ul>
      </div>
    
      <div class="width-1-12 project-links">
        <span>Follow Us</span>
        <ul class="footer-links">
          
          
            <li><a href="https://x.com/quarkusio" target="_blank">X</a></li>
          
          
          
            <li><a rel="me" href="https://fosstodon.org/@quarkusio" target="_blank">Mastodon</a></li>
            
          
          
            <li><a href="https://www.facebook.com/quarkusio" target="_blank">Facebook</a></li>
          
          
          
            <li><a href="https://www.linkedin.com/company/quarkusio/" target="_blank">Linkedin</a></li>
          
          
          
            <li><a href="https://www.youtube.com/channel/UCaW8QG_QoIk_FnjLgr5eOqg" target="_blank">Youtube</a></li>
          
          
          
            <li><a href="https://github.com/quarkusio" target="_blank">GitHub</a></li>
          
          
        </ul>
      </div>
    
      <div class="width-2-12 project-links">
        <span>Get Help</span>
        <ul class="footer-links">
          
          
            <li><a href="/support" target="_blank">Support</a></li>
          
          
          
            <li><a href="/guides" target="_blank">Guides</a></li>
          
          
          
            <li><a href="/faq" target="_blank">FAQ</a></li>
          
          
          
            <li><a href="/get-started" target="_blank">Get Started</a></li>
          
          
          
            <li><a href="https://stackoverflow.com/questions/tagged/quarkus" target="_blank">Stack Overflow</a></li>
          
          
          
            <li><a href="https://github.com/quarkusio/quarkus/discussions" target="_blank">Discussions</a></li>
          
          
          
            <li><a href="https://groups.google.com/forum/#!forum/quarkus-dev" target="_blank">Development mailing list</a></li>
          
          
        </ul>
      </div>
    
      <div class="width-1-12 project-links">
        <span>Languages</span>
        <ul class="footer-links">
          
          
            <li><a href="https://quarkus.io/" target="_blank">English</a></li>
          
          
          
            <li><a href="https://pt.quarkus.io/" target="_blank">Português&nbsp;(Brasileiro)</a></li>
          
          
          
            <li><a href="https://es.quarkus.io/" target="_blank">Español</a></li>
          
          
          
            <li><a href="https://cn.quarkus.io/" target="_blank">简体中文</a></li>
          
          
          
            <li><a href="https://ja.quarkus.io/" target="_blank">日本語</a></li>
          
          
        </ul>
      </div>
    

    
      <div class="width-4-12 more-links">
        <span>Quarkus is made of community projects</span>
        <ul class="footer-links">
          
            <li><a blah href="https://vertx.io/" target="_blank">Eclipse Vert.x</a></li>
          
            <li><a blah href="https://smallrye.io" target="_blank">SmallRye</a></li>
          
            <li><a blah href="https://hibernate.org" target="_blank">Hibernate</a></li>
          
            <li><a blah href="https://netty.io" target="_blank">Netty</a></li>
          
            <li><a blah href="https://resteasy.github.io" target="_blank">RESTEasy</a></li>
          
            <li><a blah href="https://camel.apache.org" target="_blank">Apache Camel</a></li>
          
            <li><a blah href="https://microprofile.io" target="_blank">Eclipse MicroProfile</a></li>
          
            <li><a blah href="https://code.quarkus.io/" target="_blank">And many more...</a></li>
          
        </ul>
      </div>
    
  </div>
</div>

  <div class="content redhat-footer">
  <div class="grid-wrapper">
    <span class="licence">
      <i class="fab fa-creative-commons"></i><i class="fab fa-creative-commons-by"></i> <a href="https://creativecommons.org/licenses/by/3.0/" target="_blank">CC by 3.0</a> | <a href="https://www.redhat.com/en/about/privacy-policy">Privacy Policy</a>
    </span>
    <span class="redhat">
      Sponsored by
    </span>
    <span class="redhat-logo">
      <a href="https://www.redhat.com/" target="_blank"><img src="/assets/images/redhat_reversed.svg"></a>
    </span>
  </div>
</div>


  <script src="https://ajax.googleapis.com/ajax/libs/jquery/2.1.4/jquery.min.js" integrity="sha384-8gBf6Y4YYq7Jx97PIqmTwLPin4hxIzQw5aDmUg/DDhul9fFpbbLcLh3nTIIDJKhx" crossorigin="anonymous"></script>
  <script type="text/javascript" src="/assets/javascript/mobile-nav.js"></script>
  <script type="text/javascript" src="/assets/javascript/scroll-down.js"></script>
  <script src="/assets/javascript/satellite.js" type="text/javascript"></script>
  <script src="/guides/javascript/config.js" type="text/javascript"></script>
  <script src="/assets/javascript/guides-version-dropdown.js" type="text/javascript"></script>
  <script src="/assets/javascript/back-to-top.js" type="text/javascript"></script>
  <script src="/assets/javascript/clipboard.min.js" type="text/javascript"></script>
  <script src="/assets/javascript/copy.js" type="text/javascript"></script>
  <script src="/assets/javascript/asciidoc-tabs.js" type="text/javascript"></script>
  <script src="/assets/javascript/future-date.js" type="text/javascript"></script>
</body>

</html>
