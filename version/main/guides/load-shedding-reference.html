<!DOCTYPE html>
<html lang="en">







<head>
  <title>Load Shedding reference guide - main - Quarkus</title>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <meta http-equiv="Content-Security-Policy" content="
  connect-src 'self' https://dpm.demdex.net https://adobedc.demdex.net https://route-default-test-mscherer-matamo.apps.ospo-osci.z3b1.p1.openshiftapps.com/ https://search.quarkus.io https://smetrics.redhat.com; 
  script-src 'self' 'unsafe-inline' 'unsafe-eval'
      
      https://assets.adobedtm.com
      js.bizographics.com
      https://www.redhat.com
      https://static.redhat.com
      https://app.requestly.io/
      jsonip.com
      https://ajax.googleapis.com
      https://use.fontawesome.com
      http://www.youtube.com
      http://www.googleadservices.com
      https://googleads.g.doubleclick.net
      https://giscus.app
      https://route-default-test-mscherer-matamo.apps.ospo-osci.z3b1.p1.openshiftapps.com/
      https://app.mailjet.com;

  style-src 'self' https://fonts.googleapis.com https://use.fontawesome.com; 
  img-src 'self' * data:; 
  media-src 'self'; 
  frame-src https://redhat.demdex.net https://www.youtube.com https://embed.restream.io https://app.mailjet.com http://xy0p2.mjt.lu https://mj.quarkus.io https://giscus.app; 
  base-uri 'none'; 
  object-src 'none'; 
  form-action 'none'; 
  font-src 'self' https://use.fontawesome.com https://fonts.gstatic.com;" />
  <script id="adobe_dtm" src="https://www.redhat.com/dtm.js" type="text/javascript"></script>
  <script src="/assets/javascript/highlight.pack.js" type="text/javascript"></script>
  <META HTTP-EQUIV='X-XSS-Protection' CONTENT="1; mode=block">
  <META HTTP-EQUIV='X-Content-Type-Options' CONTENT="nosniff">
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <meta name="description" content="Quarkus: Supersonic Subatomic Java">
  <meta name="twitter:card" content="summary_large_image">
  <meta name="twitter:site" content="@QuarkusIO"> 
  <meta name="twitter:creator" content="@QuarkusIO">
  <meta property="og:url" content="https://quarkus.io/version/main/guides/load-shedding-reference" />
  <meta property="og:title" content="Load Shedding reference guide - main" />
  <meta property="og:description" content="Quarkus: Supersonic Subatomic Java" />
  <meta property="og:image" content="https://quarkus.io/assets/images/quarkus_card.png" />
  
  <link rel="canonical" href="https://quarkus.io/guides/load-shedding-reference">
  <link rel="shortcut icon" type="image/png" href="/favicon.ico" >
  <link rel="stylesheet" href="/guides/stylesheet/config.css" />
  <link rel="stylesheet" href="/assets/css/main.css?2021-07-29" />
  <link rel="stylesheet" href="https://use.fontawesome.com/releases/v6.5.2/css/all.css" crossorigin="anonymous">
  <link rel="alternate" type="application/rss+xml"  href="/feed.xml" title="Quarkus">
  <script src="/assets/javascript/hl.js" type="text/javascript"></script>
  
  
  
  
  <link rel="alternate" hreflang="en" href="https://quarkus.io/version/main/guides/load-shedding-reference" />
  
  <link rel="alternate" hreflang="pt-br" href="https://pt.quarkus.io/version/main/guides/load-shedding-reference" />
  
  <link rel="alternate" hreflang="es" href="https://es.quarkus.io/version/main/guides/load-shedding-reference" />
  
  <link rel="alternate" hreflang="zh" href="https://cn.quarkus.io/version/main/guides/load-shedding-reference" />
  
  <link rel="alternate" hreflang="ja" href="https://ja.quarkus.io/version/main/guides/load-shedding-reference" />
  
  <link rel="alternate" hreflang="x-default" href="https://quarkus.io/" />  
  <script src="/assets/javascript/tracking.js"></script>
  
  <script src="/assets/javascript/colormode.js" type="text/javascript"></script>

</head>

<body class="guides">

  
  <div class="nav-wrapper">
  <div class="grid-wrapper">
    <div class="width-12-12">
      <input type="checkbox" id="checkbox" />
      <nav id="main-nav" class="main-nav">
        <div class="logo-wrapper">
           <a href="/"><img src="/assets/images/quarkus_logo_horizontal_rgb_600px_reverse.png" class="project-logo" title="Quarkus"></a>
        </div>
    <label class="nav-toggle" for="checkbox">
      <i class="fa fa-bars"></i>
    </label>
    <ul id="menu" class="menu">
      <li class="dropdown">
        <span href="/about/">Why<i class="fas fa-chevron-down"></i></span>
        <ul class="submenu">
          <li><a href="/about" class="">WHAT IS QUARKUS?</a></li>
          <li><a href="/container-first" class="">CONTAINER FIRST</a></li>
          <li><a href="/continuum" class="">VERSATILITY</a></li>
          <li><a href="/developer-joy" class="">DEVELOPER JOY</a></li>
          <li><a href="/kubernetes-native" class="">KUBERNETES NATIVE</a></li>
          <li><a href="/standards" class="">STANDARDS</a></li>
        </ul>
      </li>
      <li class="dropdown">
        <span href="/learn/">Learn<i class="fas fa-chevron-down"></i></span>
        <ul class="submenu">
          <li><a href="/get-started" class="">GET STARTED</a></li>
          <li><a href="/guides" class="active">DOCUMENTATION</a></li>
          <li><a href="/qtips" class="">"Q" TIP VIDEOS</a></li>          
          <li><a href="/books" class="">BOOKS</a></li>
          </ul>
      </li>
      <li class="dropdown">
        <span href="https://quarkus.io/extensions/">Extensions<i class="fas fa-chevron-down"></i></span>
        <ul class="submenu">
          <!-- Note that quarkus.io is hardcoded here, because it is the only url which supports extensions -->
          <li><a href="https://quarkus.io/extensions/" class="">BROWSE EXTENSIONS</a></li>
          <li><a href="/faq/#what-is-a-quarkus-extension" class="">USE EXTENSIONS</a></li>
          <li><a href="/guides/writing-extensions" class="">CREATE EXTENSIONS</a></li>
          <li><a href="https://hub.quarkiverse.io" class="">SHARE EXTENSIONS</a></li>
        </ul>
      </li>
      <li class="dropdown">
        <span href="/community/">Community<i class="fas fa-chevron-down"></i></span>
        <ul class="submenu">
          <li><a href="/support/" class="">SUPPORT</a></li>
          <li><a href="/blog" class="">BLOG</a></li>
          <li><a href="/discussion" class="">DISCUSSION</a></li>
          <li><a href="/working-groups" class="">WORKING GROUPS</a></li>
          <li><a href="/insights" class="">PODCAST</a></li>
          <li><a href="/events" class="">EVENTS</a></li>
          <li><a href="/newsletter" class="">NEWSLETTER</a></li>
          <li><a href="https://github.com/orgs/quarkusio/projects/13/views/1" class="">ROADMAP</a></li>
          </ul>
      </li>
      <li>
        <a href="https://code.quarkus.io" class="button-cta secondary white">START CODING</a>
      </li>
      <li class="dropdown">
        <span href="/language/"><div class="fas fa-globe langicon"></div><i class="fas fa-chevron-down"></i></span>
        <ul class="submenu">
          <li><a href="https://quarkus.io/version/main/guides/load-shedding-reference" >OFFICIAL (ENGLISH)</a></li>
          <li><a href="https://pt.quarkus.io/version/main/guides/load-shedding-reference">PORTUGUÊS (BR)</a></li>
          <li><a href="https://es.quarkus.io/version/main/guides/load-shedding-reference">ESPAÑOL</a></li>
          <li><a href="https://cn.quarkus.io/version/main/guides/load-shedding-reference">简体中文</a></li>
          <li><a href="https://ja.quarkus.io/version/main/guides/load-shedding-reference">日本語</a></li>
          </ul>
      </li>
      <li>
        <span href="#" class="modeswitcher" id='theme-toggle'><i class="fas fa-sun"></i><i class="fas fa-moon"></i><i class="fas fa-cog"></i></span>
      </li>
    </ul>
      </nav>
    </div>
  </div>
</div>

  <div class="content">
    







<section class="full-width-version-bg flexfilterbar guides">
  <div class="guideflexcontainer">
    <div class="docslink">
      <a class="returnlink" href="/version/main/guides/"> Back to Guides</a>
    </div>
    <div class="flexlabel">
      <label>By Version</label>
    </div>
    <div class="guidepulldown version">
    <select id="guide-version-dropdown">
      
        
        
        <option value="main" selected>Main - SNAPSHOT</option>
        
        
        
        <option value="latest" >3.16.2 - Latest</option>
        
        
        
        <option value="3.15" >3.15</option>
        
        
        
        
        
        
        
        
        
        
        
        
        </select>
    </div>
  </div>
</section>

<div class="guide">
  <div class="grid-wrapper">
    <div class="grid__item width-8-12 width-12-12-m">
      
      <a class="editlink" href="https://github.com/quarkusio/quarkus/edit/main/docs/src/main/asciidoc/load-shedding-reference.adoc">Edit this Page</a>
      
      <h1 class="text-caps">Load Shedding reference guide </h1>
      <div id="preamble">
<div class="sectionbody">
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
<div class="paragraph">
<p>This technology is considered experimental.</p>
</div>
<div class="paragraph">
<p>In <em>experimental</em> mode, early feedback is requested to mature the idea.
There is no guarantee of stability nor long term presence in the platform until the solution matures.
Feedback is welcome on our <a href="https://groups.google.com/d/forum/quarkus-dev">mailing list</a> or as issues in our <a href="https://github.com/quarkusio/quarkus/issues">GitHub issue tracker</a>.</p>
</div>
<div class="paragraph">
<p>For a full list of possible statuses, check our <a href="https://quarkus.io/faq/#what-are-the-extension-statuses">FAQ entry</a>.</p>
</div>
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>Load shedding is the practice of detecting service overload and rejecting requests.</p>
</div>
<div class="paragraph">
<p>In Quarkus, the <code>quarkus-load-shedding</code> extension provides a load shedding mechanism.</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="use-the-load-shedding-extension"><a class="anchor" href="#use-the-load-shedding-extension"></a>1. Use the Load Shedding extension</h2>
<div class="sectionbody">
<div class="paragraph">
<p>To use the load shedding extension, you need to add the <code>io.quarkus:quarkus-load-shedding</code> extension to your project:</p>
</div>
<div class="listingblock primary asciidoc-tabs-target-sync-cli asciidoc-tabs-target-sync-maven">
<div class="title">pom.xml</div>
<div class="content">
<pre class="highlightjs highlight"><code class="language-xml hljs" data-lang="xml">&lt;dependency&gt;
    &lt;groupId&gt;io.quarkus&lt;/groupId&gt;
    &lt;artifactId&gt;quarkus-load-shedding&lt;/artifactId&gt;
&lt;/dependency&gt;</code></pre>
</div>
</div>
<div class="listingblock secondary asciidoc-tabs-target-sync-gradle">
<div class="title">build.gradle</div>
<div class="content">
<pre class="highlightjs highlight"><code class="language-gradle hljs" data-lang="gradle">implementation("io.quarkus:quarkus-load-shedding")</code></pre>
</div>
</div>
<div class="paragraph">
<p>No configuration is required, though the possible configuration options are described below.</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="the-load-shedding-algorithm"><a class="anchor" href="#the-load-shedding-algorithm"></a>2. The load shedding algorithm</h2>
<div class="sectionbody">
<div class="paragraph">
<p>The load shedding algorithm has 2 parts:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>overload detection</p>
</li>
<li>
<p>priority load shedding (optional)</p>
</li>
</ul>
</div>
<div class="sect2">
<h3 id="overload-detection"><a class="anchor" href="#overload-detection"></a>2.1. Overload detection</h3>
<div class="paragraph">
<p>To detect whether the current service is overloaded, an adaptation of TCP Vegas is used.</p>
</div>
<div class="paragraph">
<p>The algorithm starts with 100 allowed concurrent requests.
For each request, it compares the number of current requests with the allowed limit and if the limit is exceeded, an overload situation is signalled.</p>
</div>
<div class="paragraph">
<p>If the limit is not exceeded, or if priority load shedding determines that the request should not be rejected (see below), the request is allowed.
When it finishes, its duration is compared with the lowest duration seen so far to estimate a queue size.
If the queue size is lower than <em>alpha</em>, the current limit is increased, but only up to a given maximum, by default 1000.
If the queue size is greater than <em>beta</em>, the current limit is decreased.
Otherwise, the current limit is kept intact.</p>
</div>
<div class="paragraph">
<p>Alpha and beta are computed by multiplying the configurable constants with a base 10 logarithm of the current limit.</p>
</div>
<div class="paragraph">
<p>After some number of requests, which can be modified by configuring the <em>probe</em> factor, the lowest duration seen is reset to the last seen duration of a request.</p>
</div>
</div>
<div class="sect2">
<h3 id="priority-load-shedding"><a class="anchor" href="#priority-load-shedding"></a>2.2. Priority load shedding</h3>
<div class="paragraph">
<p>If an overload situation is signalled, priority load shedding is invoked.</p>
</div>
<div class="paragraph">
<p>By default, priority load shedding is enabled, which means a request is only rejected if the current CPU load is high enough.
To determine whether a request should be rejected, 2 attributes are considered:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>request priority</p>
</li>
<li>
<p>request cohort</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>There are 5 statically defined priorities and 128 cohorts, which amounts to 640 request groups in total.</p>
</div>
<div class="paragraph">
<p>After both priority and cohort are assigned to a request, a request group number is computed: <code>group = priority * num_cohorts + cohort</code>.
Then, the group number is compared to a simple cubic function of current CPU load, where <code>load</code> is a number between 0 and 1: <code>num_groups * (1 - load^3)</code>.
If the group number is higher, the request is rejected, otherwise it is allowed even in an overload situation.</p>
</div>
<div class="paragraph">
<p>If priority load shedding is disabled, all requests are rejected in an overload situation.</p>
</div>
<div class="sect3">
<h4 id="customizing-request-priority"><a class="anchor" href="#customizing-request-priority"></a>2.2.1. Customizing request priority</h4>
<div class="paragraph">
<p>Priority is assigned by a <code>io.quarkus.load.shedding.RequestPrioritizer</code>.
There is 5 statically defined priorities in the <code>io.quarkus.load.shedding.RequestPriority</code> enum: <code>CRITICAL</code>, <code>IMPORTANT</code>, <code>NORMAL</code>, <code>BACKGROUND</code> and <code>DEGRADED</code>.
By default, if no request prioritizer applies, the priority is assumed to be <code>NORMAL</code>.</p>
</div>
<div class="paragraph">
<p>There is one default prioritizer which assigns the priority of <code>CRITICAL</code> to requests to the non-application endpoints.
It declares no <code>@Priority</code>.</p>
</div>
<div class="paragraph">
<p>It is possible to define custom implementations of the <code>RequestPrioritizer</code> interface.
The implementations must be CDI beans, otherwise they are ignored.
The CDI rules of typesafe resolution must be followed.
That is, if multiple implementations exist with a different <code>@Priority</code> value and some of them are <code>@Alternative</code>s, only the alternatives with the highest priority value are retained.
If no implementation is an alternative, all implementations are retained and are sorted in descending <code>@Priority</code> order (highest priority value comes first).</p>
</div>
</div>
<div class="sect3">
<h4 id="customizing-request-cohort"><a class="anchor" href="#customizing-request-cohort"></a>2.2.2. Customizing request cohort</h4>
<div class="paragraph">
<p>Cohort is assigned by a <code>io.quarkus.load.shedding.RequestClassifier</code>.
There is 128 statically defined cohorts, with the lowest number being 1 and highest number being 128.
The classifier should return a number in this interval; if it does not, the number is adjusted automatically.</p>
</div>
<div class="paragraph">
<p>There is one default classifier which assigns a cohort based on a hash of the remote IP address and current time, such that an IP address changes its cohort roughly every hour.
It declares no <code>@Priority</code>.</p>
</div>
<div class="paragraph">
<p>It is possible to define custom implementations of the <code>RequestClassifier</code> interface.
The implementations must be CDI beans, otherwise they are ignored.
The CDI rules of typesafe resolution must be followed.
That is, if multiple implementations exist with a different <code>@Priority</code> value and some of them are <code>@Alternative</code>s, only the alternatives with the highest priority value are retained.
If no implementation is an alternative, all implementations are retained and are sorted in descending <code>@Priority</code> order (highest priority value comes first).</p>
</div>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="limitations"><a class="anchor" href="#limitations"></a>3. Limitations</h2>
<div class="sectionbody">
<div class="paragraph">
<p>The load shedding extension currently only applies to HTTP requests, and is heavily skewed towards request/response network interactions.
This means that gRPC, WebSocket and other kinds of streaming over HTTP are not supported.
Other "entrypoints" to Quarkus applications, such as messaging, are not supported either.</p>
</div>
<div class="paragraph">
<p>Further, the load shedding implementation is currently rather basic and not heavily tested in production.
Improvements may be necessary.</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="configuration-reference"><a class="anchor" href="#configuration-reference"></a>4. Configuration reference</h2>
<div class="sectionbody">
<div class="paragraph">
<p><span class="icon"><i class="fa fa-lock" title="Fixed at build time"></i></span> Configuration property fixed at build time - All other configuration properties are overridable at runtime <input type="search" id="config-search-0" placeholder="FILTER CONFIGURATION" disabled></p>
</div>
<table class="tableblock frame-all grid-all stretch configuration-reference searchable configuration-reference-all-rows">
<colgroup>
<col style="width: 80%;">
<col style="width: 10%;">
<col style="width: 10%;">
</colgroup>
<tbody>
<tr>
<th class="tableblock halign-left valign-top"><p class="tableblock"><span class="header-title">Configuration property</span></p></th>
<th class="tableblock halign-left valign-middle"><p class="tableblock">Type</p></th>
<th class="tableblock halign-left valign-middle"><p class="tableblock">Default</p></th>
</tr>
<tr class="row-collapsible row-collapsed row-with-desc odd">
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><a id="quarkus-load-shedding_quarkus-load-shedding-enabled"></a> <span class="property-path"><a href="#quarkus-load-shedding_quarkus-load-shedding-enabled"><code>quarkus.load-shedding.enabled</code></a></span></p>
</div>
<div id="conf-collapsible-desc-1" class="openblock description description-collapsed">
<div class="content">
<div class="paragraph">
<p>Whether load shedding should be enabled. Currently, this only applies to incoming HTTP requests.</p>
</div>
<div class="paragraph">
<p>Environment variable: <code id="env-var-54269">QUARKUS_LOAD_SHEDDING_ENABLED</code><button class="btn-copy fa fa-clipboard inline-btn-copy" data-clipboard-action="copy" data-clipboard-target="#env-var-54269" title="Copy to clipboard" do-not-collapse="true"></button></p>
</div>
</div>
</div>
<div class="paragraph description-decoration">
<p><i class="fa fa-chevron-down"></i><span>Show more</span></p>
</div></div></td>
<td class="tableblock halign-left valign-middle"><p class="tableblock">boolean</p></td>
<td class="tableblock halign-left valign-middle"><p class="tableblock"><code>true</code></p></td>
</tr>
<tr class="row-collapsible row-collapsed row-with-desc">
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><a id="quarkus-load-shedding_quarkus-load-shedding-max-limit"></a> <span class="property-path"><a href="#quarkus-load-shedding_quarkus-load-shedding-max-limit"><code>quarkus.load-shedding.max-limit</code></a></span></p>
</div>
<div id="conf-collapsible-desc-2" class="openblock description description-collapsed">
<div class="content">
<div class="paragraph">
<p>The maximum number of concurrent requests allowed.</p>
</div>
<div class="paragraph">
<p>Environment variable: <code id="env-var-54270">QUARKUS_LOAD_SHEDDING_MAX_LIMIT</code><button class="btn-copy fa fa-clipboard inline-btn-copy" data-clipboard-action="copy" data-clipboard-target="#env-var-54270" title="Copy to clipboard" do-not-collapse="true"></button></p>
</div>
</div>
</div>
<div class="paragraph description-decoration">
<p><i class="fa fa-chevron-down"></i><span>Show more</span></p>
</div></div></td>
<td class="tableblock halign-left valign-middle"><p class="tableblock">int</p></td>
<td class="tableblock halign-left valign-middle"><p class="tableblock"><code>1000</code></p></td>
</tr>
<tr class="row-collapsible row-collapsed row-with-desc odd">
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><a id="quarkus-load-shedding_quarkus-load-shedding-alpha-factor"></a> <span class="property-path"><a href="#quarkus-load-shedding_quarkus-load-shedding-alpha-factor"><code>quarkus.load-shedding.alpha-factor</code></a></span></p>
</div>
<div id="conf-collapsible-desc-3" class="openblock description description-collapsed">
<div class="content">
<div class="paragraph">
<p>The <code>alpha</code> factor of the Vegas overload detection algorithm.</p>
</div>
<div class="paragraph">
<p>Environment variable: <code id="env-var-54271">QUARKUS_LOAD_SHEDDING_ALPHA_FACTOR</code><button class="btn-copy fa fa-clipboard inline-btn-copy" data-clipboard-action="copy" data-clipboard-target="#env-var-54271" title="Copy to clipboard" do-not-collapse="true"></button></p>
</div>
</div>
</div>
<div class="paragraph description-decoration">
<p><i class="fa fa-chevron-down"></i><span>Show more</span></p>
</div></div></td>
<td class="tableblock halign-left valign-middle"><p class="tableblock">int</p></td>
<td class="tableblock halign-left valign-middle"><p class="tableblock"><code>3</code></p></td>
</tr>
<tr class="row-collapsible row-collapsed row-with-desc">
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><a id="quarkus-load-shedding_quarkus-load-shedding-beta-factor"></a> <span class="property-path"><a href="#quarkus-load-shedding_quarkus-load-shedding-beta-factor"><code>quarkus.load-shedding.beta-factor</code></a></span></p>
</div>
<div id="conf-collapsible-desc-4" class="openblock description description-collapsed">
<div class="content">
<div class="paragraph">
<p>The <code>beta</code> factor of the Vegas overload detection algorithm.</p>
</div>
<div class="paragraph">
<p>Environment variable: <code id="env-var-54272">QUARKUS_LOAD_SHEDDING_BETA_FACTOR</code><button class="btn-copy fa fa-clipboard inline-btn-copy" data-clipboard-action="copy" data-clipboard-target="#env-var-54272" title="Copy to clipboard" do-not-collapse="true"></button></p>
</div>
</div>
</div>
<div class="paragraph description-decoration">
<p><i class="fa fa-chevron-down"></i><span>Show more</span></p>
</div></div></td>
<td class="tableblock halign-left valign-middle"><p class="tableblock">int</p></td>
<td class="tableblock halign-left valign-middle"><p class="tableblock"><code>6</code></p></td>
</tr>
<tr class="row-collapsible row-collapsed row-with-desc odd">
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><a id="quarkus-load-shedding_quarkus-load-shedding-probe-factor"></a> <span class="property-path"><a href="#quarkus-load-shedding_quarkus-load-shedding-probe-factor"><code>quarkus.load-shedding.probe-factor</code></a></span></p>
</div>
<div id="conf-collapsible-desc-5" class="openblock description description-collapsed">
<div class="content">
<div class="paragraph">
<p>The probe factor of the Vegas overload detection algorithm.</p>
</div>
<div class="paragraph">
<p>Environment variable: <code id="env-var-54273">QUARKUS_LOAD_SHEDDING_PROBE_FACTOR</code><button class="btn-copy fa fa-clipboard inline-btn-copy" data-clipboard-action="copy" data-clipboard-target="#env-var-54273" title="Copy to clipboard" do-not-collapse="true"></button></p>
</div>
</div>
</div>
<div class="paragraph description-decoration">
<p><i class="fa fa-chevron-down"></i><span>Show more</span></p>
</div></div></td>
<td class="tableblock halign-left valign-middle"><p class="tableblock">double</p></td>
<td class="tableblock halign-left valign-middle"><p class="tableblock"><code>30.0</code></p></td>
</tr>
<tr class="row-collapsible row-collapsed row-with-desc">
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><a id="quarkus-load-shedding_quarkus-load-shedding-initial-limit"></a> <span class="property-path"><a href="#quarkus-load-shedding_quarkus-load-shedding-initial-limit"><code>quarkus.load-shedding.initial-limit</code></a></span></p>
</div>
<div id="conf-collapsible-desc-6" class="openblock description description-collapsed">
<div class="content">
<div class="paragraph">
<p>The initial limit of concurrent requests allowed.</p>
</div>
<div class="paragraph">
<p>Environment variable: <code id="env-var-54274">QUARKUS_LOAD_SHEDDING_INITIAL_LIMIT</code><button class="btn-copy fa fa-clipboard inline-btn-copy" data-clipboard-action="copy" data-clipboard-target="#env-var-54274" title="Copy to clipboard" do-not-collapse="true"></button></p>
</div>
</div>
</div>
<div class="paragraph description-decoration">
<p><i class="fa fa-chevron-down"></i><span>Show more</span></p>
</div></div></td>
<td class="tableblock halign-left valign-middle"><p class="tableblock">int</p></td>
<td class="tableblock halign-left valign-middle"><p class="tableblock"><code>100</code></p></td>
</tr>
<tr class="row-collapsible row-collapsed row-with-desc odd">
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><a id="quarkus-load-shedding_quarkus-load-shedding-priority-enabled"></a> <span class="property-path"><a href="#quarkus-load-shedding_quarkus-load-shedding-priority-enabled"><code>quarkus.load-shedding.priority.enabled</code></a></span></p>
</div>
<div id="conf-collapsible-desc-7" class="openblock description description-collapsed">
<div class="content">
<div class="paragraph">
<p>Whether priority load shedding should be enabled.</p>
</div>
<div class="paragraph">
<p>Environment variable: <code id="env-var-54275">QUARKUS_LOAD_SHEDDING_PRIORITY_ENABLED</code><button class="btn-copy fa fa-clipboard inline-btn-copy" data-clipboard-action="copy" data-clipboard-target="#env-var-54275" title="Copy to clipboard" do-not-collapse="true"></button></p>
</div>
</div>
</div>
<div class="paragraph description-decoration">
<p><i class="fa fa-chevron-down"></i><span>Show more</span></p>
</div></div></td>
<td class="tableblock halign-left valign-middle"><p class="tableblock">boolean</p></td>
<td class="tableblock halign-left valign-middle"><p class="tableblock"><code>true</code></p></td>
</tr>
</tbody>
</table>
</div>
</div>
<div class="sect1">
<h2 id="further-reading"><a class="anchor" href="#further-reading"></a>5. Further reading</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Netflix Technology Blog:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><a href="https://netflixtechblog.medium.com/performance-under-load-3e6fa9a60581">Performance Under Load</a></p>
</li>
<li>
<p><a href="https://netflixtechblog.com/keeping-netflix-reliable-using-prioritized-load-shedding-6cc827b02f94">Keeping Netflix Reliable Using Prioritized Load Shedding</a></p>
</li>
</ul>
</div>
<div class="paragraph">
<p>Uber Engineering Blog:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><a href="https://www.uber.com/blog/cinnamon-using-century-old-tech-to-build-a-mean-load-shedder/">Cinnamon: Using Century Old Tech to Build a Mean Load Shedder</a></p>
</li>
<li>
<p><a href="https://www.uber.com/blog/pid-controller-for-cinnamon/">PID Controller for Cinnamon</a></p>
</li>
<li>
<p><a href="https://www.uber.com/blog/cinnamon-auto-tuner-adaptive-concurrency-in-the-wild/">Cinnamon Auto-Tuner: Adaptive Concurrency in the Wild</a></p>
</li>
</ul>
</div>
<div class="paragraph">
<p>Amazon Builders' Library:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><a href="https://aws.amazon.com/builders-library/using-load-shedding-to-avoid-overload/">Using load shedding to avoid overload</a></p>
</li>
</ul>
</div>
<div class="paragraph">
<p>Google Cloud Blog:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><a href="https://cloud.google.com/blog/products/gcp/using-load-shedding-to-survive-a-success-disaster-cre-life-lessons">Using load shedding to survive a success disaster</a></p>
</li>
</ul>
</div>
<div class="paragraph">
<p>CodeReliant Blog:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><a href="https://www.codereliant.io/load-shedding/">Load Shedding for High Traffic Systems</a></p>
</li>
</ul>
</div>
</div>
</div>
    </div>
    <div class="grid__item width-4-12 width-12-12-m tocwrapper">
      <div class="hide-mobile toc"><ul class="sectlevel1">
<li><a href="#use-the-load-shedding-extension">1. Use the Load Shedding extension</a></li>
<li><a href="#the-load-shedding-algorithm">2. The load shedding algorithm</a>
<ul class="sectlevel2">
<li><a href="#overload-detection">2.1. Overload detection</a></li>
<li><a href="#priority-load-shedding">2.2. Priority load shedding</a></li>
</ul>
</li>
<li><a href="#limitations">3. Limitations</a></li>
<li><a href="#configuration-reference">4. Configuration reference</a></li>
<li><a href="#further-reading">5. Further reading</a></li>
</ul></div>
    </div>
  </div>
  <h2>Related content</h2>
  <div class="grid-wrapper relations">
    <div class="grid__item width-6-12 width-12-12-m">
      <h3>On the same topics</h3>
      <ul class="related-content">
      
        
        <li class="tutorial"><a href="/version/main/guides/websockets-next-tutorial">Getting started with WebSockets Next</a></li>
      
        
        <li class="reference"><a href="/version/main/guides/http-reference">HTTP Reference</a></li>
      
        
        <li class="guide"><a href="/version/main/guides/web">Quarkus for the Web</a></li>
      
        
        <li class="guide"><a href="/version/main/guides/reactive-routes">Using Reactive Routes</a></li>
      
        
        <li class="guide"><a href="/version/main/guides/websockets">Using WebSockets</a></li>
      
        
        <li class="guide"><a href="/version/main/guides/web-dependency-locator">Web dependency locator</a></li>
      
        
        <li class="reference"><a href="/version/main/guides/websockets-next-reference">WebSockets Next extension reference guide</a></li>
      </ul>
    </div>
    </div>
  </div>

  </div>

  <div class="content project-footer">
  <div class="footer-section">
    <div class="logo-wrapper">
      <a href="/"><img src="/assets/images/quarkus_logo_horizontal_rgb_reverse.svg" class="project-logo" title="Quarkus"></a>
    </div>
  </div>
  <div class="grid-wrapper">
    <p class="grid__item width-3-12">Quarkus is open. All dependencies of this project are available under the <a href='https://www.apache.org/licenses/LICENSE-2.0' target='_blank'>Apache Software License 2.0</a> or compatible license.<br /><br />This website was built with <a href='https://jekyllrb.com/' target='_blank'>Jekyll</a>, is hosted on <a href='https://pages.github.com/' target='_blank'>GitHub Pages</a> and is completely open source. If you want to make it better, <a href='https://github.com/quarkusio/quarkusio.github.io' target='_blank'>fork the website</a> and show us what you’ve got.</p>

    
      <div class="width-1-12 project-links">
        <span>Navigation</span>
        <ul class="footer-links">
          
          
            <li><a href="/" target="_blank">Home</a></li>
          
          
          
            <li><a href="/about" target="_blank">About</a></li>
          
          
          
            <li><a href="/blog" target="_blank">Blog</a></li>
          
          
          
            <li><a href="/insights" target="_blank">Podcast</a></li>
          
          
          
            <li><a href="/events" target="_blank">Events</a></li>
          
          
          
            <li><a href="/newsletter" target="_blank">Newsletter</a></li>
          
          
          
            <li><a href="https://github.com/orgs/quarkusio/projects/13/views/1" target="_blank">Roadmap</a></li>
          
          
          
            <li><a href="/security" target="_blank">Security&nbsp;policy</a></li>
          
          
          
            <li><a href="/usage" target="_blank">Usage</a></li>
          
          
          
            <li><a href="/brand" target="_blank">Brand</a></li>
          
          
          
            <li><a href="/desktopwallpapers" target="_blank">Wallpapers</a></li>
          
          
        </ul>
      </div>
    
      <div class="width-1-12 project-links">
        <span>Follow Us</span>
        <ul class="footer-links">
          
          
            <li><a href="https://x.com/quarkusio" target="_blank">X</a></li>
          
          
          
            <li><a rel="me" href="https://fosstodon.org/@quarkusio" target="_blank">Mastodon</a></li>
            
          
          
            <li><a href="https://www.facebook.com/quarkusio" target="_blank">Facebook</a></li>
          
          
          
            <li><a href="https://www.linkedin.com/company/quarkusio/" target="_blank">Linkedin</a></li>
          
          
          
            <li><a href="https://www.youtube.com/channel/UCaW8QG_QoIk_FnjLgr5eOqg" target="_blank">Youtube</a></li>
          
          
          
            <li><a href="https://github.com/quarkusio" target="_blank">GitHub</a></li>
          
          
        </ul>
      </div>
    
      <div class="width-2-12 project-links">
        <span>Get Help</span>
        <ul class="footer-links">
          
          
            <li><a href="/support" target="_blank">Support</a></li>
          
          
          
            <li><a href="/guides" target="_blank">Guides</a></li>
          
          
          
            <li><a href="/faq" target="_blank">FAQ</a></li>
          
          
          
            <li><a href="/get-started" target="_blank">Get Started</a></li>
          
          
          
            <li><a href="https://stackoverflow.com/questions/tagged/quarkus" target="_blank">Stack Overflow</a></li>
          
          
          
            <li><a href="https://github.com/quarkusio/quarkus/discussions" target="_blank">Discussions</a></li>
          
          
          
            <li><a href="https://groups.google.com/forum/#!forum/quarkus-dev" target="_blank">Development mailing list</a></li>
          
          
        </ul>
      </div>
    
      <div class="width-1-12 project-links">
        <span>Languages</span>
        <ul class="footer-links">
          
          
            <li><a href="https://quarkus.io/" target="_blank">English</a></li>
          
          
          
            <li><a href="https://pt.quarkus.io/" target="_blank">Português&nbsp;(Brasileiro)</a></li>
          
          
          
            <li><a href="https://es.quarkus.io/" target="_blank">Español</a></li>
          
          
          
            <li><a href="https://cn.quarkus.io/" target="_blank">简体中文</a></li>
          
          
          
            <li><a href="https://ja.quarkus.io/" target="_blank">日本語</a></li>
          
          
        </ul>
      </div>
    

    
      <div class="width-4-12 more-links">
        <span>Quarkus is made of community projects</span>
        <ul class="footer-links">
          
            <li><a blah href="https://vertx.io/" target="_blank">Eclipse Vert.x</a></li>
          
            <li><a blah href="https://smallrye.io" target="_blank">SmallRye</a></li>
          
            <li><a blah href="https://hibernate.org" target="_blank">Hibernate</a></li>
          
            <li><a blah href="https://netty.io" target="_blank">Netty</a></li>
          
            <li><a blah href="https://resteasy.github.io" target="_blank">RESTEasy</a></li>
          
            <li><a blah href="https://camel.apache.org" target="_blank">Apache Camel</a></li>
          
            <li><a blah href="https://microprofile.io" target="_blank">Eclipse MicroProfile</a></li>
          
            <li><a blah href="https://code.quarkus.io/" target="_blank">And many more...</a></li>
          
        </ul>
      </div>
    
  </div>
</div>

  <div class="content redhat-footer">
  <div class="grid-wrapper">
    <span class="licence">
      <i class="fab fa-creative-commons"></i><i class="fab fa-creative-commons-by"></i> <a href="https://creativecommons.org/licenses/by/3.0/" target="_blank">CC by 3.0</a> | <a href="https://www.redhat.com/en/about/privacy-policy">Privacy Policy</a>
    </span>
    <span class="redhat">
      Sponsored by
    </span>
    <span class="redhat-logo">
      <a href="https://www.redhat.com/" target="_blank"><img src="/assets/images/redhat_reversed.svg"></a>
    </span>
  </div>
</div>


  <script src="https://ajax.googleapis.com/ajax/libs/jquery/2.1.4/jquery.min.js" integrity="sha384-8gBf6Y4YYq7Jx97PIqmTwLPin4hxIzQw5aDmUg/DDhul9fFpbbLcLh3nTIIDJKhx" crossorigin="anonymous"></script>
  <script type="text/javascript" src="/assets/javascript/mobile-nav.js"></script>
  <script type="text/javascript" src="/assets/javascript/scroll-down.js"></script>
  <script src="/assets/javascript/satellite.js" type="text/javascript"></script>
  <script src="/guides/javascript/config.js" type="text/javascript"></script>
  <script src="/assets/javascript/guides-version-dropdown.js" type="text/javascript"></script>
  <script src="/assets/javascript/back-to-top.js" type="text/javascript"></script>
  <script src="/assets/javascript/clipboard.min.js" type="text/javascript"></script>
  <script src="/assets/javascript/copy.js" type="text/javascript"></script>
  <script src="/assets/javascript/asciidoc-tabs.js" type="text/javascript"></script>
  <script src="/assets/javascript/future-date.js" type="text/javascript"></script>
</body>

</html>
