<!DOCTYPE html>
<html lang="en">







<head>
  <title>Micrometer and OpenTelemetry extension - main - Quarkus</title>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <meta http-equiv="Content-Security-Policy" content="
  connect-src 'self' https://dpm.demdex.net https://adobedc.demdex.net https://analytics.ossupstream.org/ https://search.quarkus.io https://smetrics.redhat.com; 
  script-src 'self' 'unsafe-inline' 'unsafe-eval'
      
      https://assets.adobedtm.com
      js.bizographics.com
      https://www.redhat.com
      https://static.redhat.com
      https://app.requestly.io/
      jsonip.com
      https://ajax.googleapis.com
      https://use.fontawesome.com
      http://www.youtube.com
      http://www.googleadservices.com
      https://googleads.g.doubleclick.net
      https://giscus.app
      https://analytics.ossupstream.org/
      https://app.mailjet.com;

  style-src 'self' https://fonts.googleapis.com https://use.fontawesome.com; 
  img-src 'self' * data:; 
  media-src 'self'; 
  frame-src https://redhat.demdex.net https://www.youtube.com https://player.restream.io https://app.mailjet.com http://xy0p2.mjt.lu https://mj.quarkus.io https://giscus.app; 
  base-uri 'none'; 
  object-src 'none'; 
  form-action 'none'; 
  font-src 'self' https://use.fontawesome.com https://fonts.gstatic.com;" />
  <script id="adobe_dtm" src="https://www.redhat.com/dtm.js" type="text/javascript"></script>
  <script src="/assets/javascript/highlight.pack.js" type="text/javascript"></script>
  <META HTTP-EQUIV='X-XSS-Protection' CONTENT="1; mode=block">
  <META HTTP-EQUIV='X-Content-Type-Options' CONTENT="nosniff">
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <meta name="description" content="Quarkus: Supersonic Subatomic Java">
  <meta name="twitter:card" content="summary_large_image">
  <meta name="twitter:site" content="@QuarkusIO"> 
  <meta name="twitter:creator" content="@QuarkusIO">
  <meta property="og:url" content="https://quarkus.io/version/main/guides/telemetry-micrometer-to-opentelemetry" />
  <meta property="og:title" content="Micrometer and OpenTelemetry extension - main" />
  <meta property="og:description" content="Quarkus: Supersonic Subatomic Java" />
  <meta property="og:image" content="https://quarkus.io/assets/images/quarkus_card.png" />
  
  <link rel="canonical" href="https://quarkus.io/guides/telemetry-micrometer-to-opentelemetry">
  <link rel="shortcut icon" type="image/png" href="/favicon.ico" >
  <link rel="stylesheet" href="/guides/stylesheet/config.css" />
  <link rel="stylesheet" href="/assets/css/main.css?2021-07-29" />
  <link rel="stylesheet" href="https://use.fontawesome.com/releases/v6.5.2/css/all.css" crossorigin="anonymous">
  <link rel="alternate" type="application/rss+xml"  href="/feed.xml" title="Quarkus">
  <script src="/assets/javascript/hl.js" type="text/javascript"></script>
  
  
  
  
  <link rel="alternate" hreflang="en" href="https://quarkus.io/version/main/guides/telemetry-micrometer-to-opentelemetry" />
  
  <link rel="alternate" hreflang="pt-br" href="https://pt.quarkus.io/version/main/guides/telemetry-micrometer-to-opentelemetry" />
  
  <link rel="alternate" hreflang="es" href="https://es.quarkus.io/version/main/guides/telemetry-micrometer-to-opentelemetry" />
  
  <link rel="alternate" hreflang="zh" href="https://cn.quarkus.io/version/main/guides/telemetry-micrometer-to-opentelemetry" />
  
  <link rel="alternate" hreflang="ja" href="https://ja.quarkus.io/version/main/guides/telemetry-micrometer-to-opentelemetry" />
  
  <link rel="alternate" hreflang="x-default" href="https://quarkus.io/" />  
  <script src="/assets/javascript/tracking.js"></script>
  
  <script src="/assets/javascript/colormode.js" type="text/javascript"></script>

</head>

<body class="guides">

  
  <div class="nav-wrapper">
  <div class="grid-wrapper">
    <div class="width-12-12">
      <input type="checkbox" id="checkbox" />
      <nav id="main-nav" class="main-nav">
        <div class="logo-wrapper">
           <a href="/"><img src="/assets/images/quarkus_logo_horizontal_rgb_600px_reverse.png" class="project-logo" title="Quarkus"></a>
        </div>
    <label class="nav-toggle" for="checkbox">
      <i class="fa fa-bars"></i>
    </label>
    <ul id="menu" class="menu">
      <li class="dropdown">
        <span href="/about/">Why<i class="fas fa-chevron-down"></i></span>
        <ul class="submenu">
          <li><a href="/about" class="">WHAT IS QUARKUS?</a></li>
          <li><a href="/developer-joy" class="">DEVELOPER JOY</a></li>
          <li><a href="/performance" class="">PERFORMANCE</a></li>
          <li><a href="/kubernetes-native" class="">KUBERNETES NATIVE</a></li>
          <li><a href="/standards" class="">STANDARDS</a></li>
          <li><a href="/versatility" class="">VERSATILITY</a></li>
          <li><a href="/container-first" class="">CONTAINER FIRST</a></li>          
        </ul>
      </li>
      <li class="dropdown">
        <span href="/learn/">Learn<i class="fas fa-chevron-down"></i></span>
        <ul class="submenu">
          <li><a href="/get-started" class="">GET STARTED</a></li>
          <li><a href="/guides" class="active">DOCUMENTATION</a></li>
          <li><a href="/userstories/" class="">USER STORIES</a></li>  
          <li><a href="/qtips" class="">"Q" TIP VIDEOS</a></li>          
          <li><a href="/books" class="">BOOKS</a></li>
          </ul>
      </li>
      <li class="dropdown">
        <span href="https://quarkus.io/extensions/">Extensions<i class="fas fa-chevron-down"></i></span>
        <ul class="submenu">
          <!-- Note that quarkus.io is hardcoded here, because it is the only url which supports extensions -->
          <li><a href="https://quarkus.io/extensions/" class="">BROWSE EXTENSIONS</a></li>
          <li><a href="/faq/#what-is-a-quarkus-extension" class="">USE EXTENSIONS</a></li>
          <li><a href="/guides/writing-extensions" class="">CREATE EXTENSIONS</a></li>
          <li><a href="https://hub.quarkiverse.io" class="">SHARE EXTENSIONS</a></li>
        </ul>
      </li>
      <li class="dropdown">
        <span href="/community/">Community<i class="fas fa-chevron-down"></i></span>
        <ul class="submenu">
          <li><a href="/support/" class="">SUPPORT</a></li>
          <li><a href="/blog" class="">BLOG</a></li>
          <li><a href="/discussion" class="">DISCUSSION</a></li>
          <li><a href="/working-groups" class="">WORKING GROUPS</a></li>
          <li><a href="/insights" class="">PODCAST</a></li>
          <li><a href="/events" class="">EVENTS</a></li>
          <li><a href="/newsletter" class="">NEWSLETTER</a></li>
          <li><a href="https://github.com/orgs/quarkusio/projects/13/views/1" class="">ROADMAP</a></li>
          </ul>
      </li>
      <li>
        <a href="https://code.quarkus.io" class="button-cta secondary white">START CODING</a>
      </li>
      <li class="dropdown">
        <span href="/language/"><div class="fas fa-globe langicon"></div><i class="fas fa-chevron-down"></i></span>
        <ul class="submenu">
          <li><a href="https://quarkus.io/version/main/guides/telemetry-micrometer-to-opentelemetry" >OFFICIAL (ENGLISH)</a></li>
          <li><a href="https://pt.quarkus.io/version/main/guides/telemetry-micrometer-to-opentelemetry">PORTUGUÊS (BR)</a></li>
          <li><a href="https://es.quarkus.io/version/main/guides/telemetry-micrometer-to-opentelemetry">ESPAÑOL</a></li>
          <li><a href="https://cn.quarkus.io/version/main/guides/telemetry-micrometer-to-opentelemetry">简体中文</a></li>
          <li><a href="https://ja.quarkus.io/version/main/guides/telemetry-micrometer-to-opentelemetry">日本語</a></li>
          </ul>
      </li>
      <li>
        <span href="#" class="modeswitcher" id='theme-toggle'><i class="fas fa-sun"></i><i class="fas fa-moon"></i><i class="fas fa-cog"></i></span>
      </li>
    </ul>
      </nav>
    </div>
  </div>
</div>

  <div class="content">
    







<section class="full-width-version-bg flexfilterbar guides">
  <div class="guideflexcontainer">
    <div class="docslink">
      <a class="returnlink" href="/version/main/guides/"> Back to Guides</a>
    </div>
    <div class="flexlabel">
      <label>By Version</label>
    </div>
    <div class="guidepulldown version">
    <select id="guide-version-dropdown">
      
        
        
        <option value="main" selected>Main - SNAPSHOT</option>
        
        
        
        <option value="latest" >3.23.4 - Latest</option>
        
        
        
        <option value="3.20" >3.20</option>
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        </select>
    </div>
  </div>
</section>

<div class="guide">
  <div class="grid-wrapper">
    <div class="grid__item width-8-12 width-12-12-m">
      
      <a class="editlink" href="https://github.com/quarkusio/quarkus/edit/main/docs/src/main/asciidoc/telemetry-micrometer-to-opentelemetry.adoc">Edit this Page</a>
      
      <h1 class="text-caps">Micrometer and OpenTelemetry extension </h1>
      <div id="preamble">
<div class="sectionbody">
<div class="paragraph">
<p>This extension provides support for both Micrometer and OpenTelemetry in Quarkus applications. It streamlines integration by incorporating both extensions along with a bridge that enables sending Micrometer metrics via OpenTelemetry.</p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
<div class="paragraph">
<p>This technology is considered preview.</p>
</div>
<div class="paragraph">
<p>In <em>preview</em>, backward compatibility and presence in the ecosystem is not guaranteed.
Specific improvements might require changing configuration or APIs, and plans to become <em>stable</em> are under way.
Feedback is welcome on our <a href="https://groups.google.com/d/forum/quarkus-dev">mailing list</a> or as issues in our <a href="https://github.com/quarkusio/quarkus/issues">GitHub issue tracker</a>.</p>
</div>
<div class="paragraph">
<p>For a full list of possible statuses, check our <a href="https://quarkus.io/faq/#what-are-the-extension-statuses">FAQ entry</a>.</p>
</div>
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>This document is part of the <a href="observability">Observability in Quarkus reference guide</a> which features this and other observability related components.</p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
<div class="ulist">
<ul>
<li>
<p>This extension is available since Quarkus version 3.19.</p>
</li>
<li>
<p>The <a href="telemetry-micrometer">Micrometer Guide</a> is available for detailed information about the Micrometer extension.</p>
</li>
<li>
<p>The <a href="opentelemetry">OpenTelemetry Guide</a> provides information about the OpenTelemetry extension.</p>
</li>
</ul>
</div>
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>The extension allows the normal use of the Micrometer API, but have the metrics handled by the OpenTelemetry extension.</p>
</div>
<div class="paragraph">
<p>As an example, the <code>@Timed</code> annotation from Micrometer is used to measure the execution time of a method:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-java hljs" data-lang="java">import io.micrometer.core.annotation.Timed;
//...
@Timed(name = "timer_metric")
public String timer() {
    return "OK";
}</code></pre>
</div>
</div>
<div class="paragraph">
<p>The output telemetry data is handled by the OpenTelemetry SDK and sent by the <code>quarkus-opentelemetry</code> extension exporter using the OTLP protocol.</p>
</div>
<div class="paragraph">
<p>This reduces the overhead of having an independent Micrometer registry plus the OpenTelemetry SDK in memory for the same application when both <code>quarkus-micrometer</code> and <code>quarkus-opentelemetry</code> extensions are used independently.</p>
</div>
<div class="paragraph">
<p><strong>The OpenTelemetry SDK will handle all metrics.</strong> Either Micrometer metrics (manual or automatic) and OpenTelemetry Metrics can be used. All are available with this single extension.</p>
</div>
<div class="paragraph">
<p>All the configurations from the OpenTelemetry and Micrometer extensions are available with <code>quarkus-micrometer-opentelemetry</code>.</p>
</div>
<div class="paragraph">
<p>The bridge is more than the simple OTLP registry found in Quarkiverse. In this extension, the OpenTelemetry SDK provides a Micrometer registry implementation based on the <a href="https://github.com/open-telemetry/opentelemetry-java-instrumentation/tree/main/instrumentation/micrometer/micrometer-1.5/library"><code>micrometer/micrometer-1.5</code></a> OpenTelemetry instrumentation library.</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="usage"><a class="anchor" href="#usage"></a>Usage</h2>
<div class="sectionbody">
<div class="paragraph">
<p>If you already have your Quarkus project configured, you can add the <code>quarkus-micrometer-opentelemetry</code> extension to your project by running the following command in your project base directory:</p>
</div>
<div class="listingblock primary asciidoc-tabs-sync-cli">
<div class="title">CLI</div>
<div class="content">
<pre class="highlightjs highlight"><code class="language-bash hljs" data-lang="bash">quarkus extension add micrometer-opentelemetry</code></pre>
</div>
</div>
<div class="listingblock secondary asciidoc-tabs-sync-maven">
<div class="title">Maven</div>
<div class="content">
<pre class="highlightjs highlight"><code class="language-bash hljs" data-lang="bash">./mvnw quarkus:add-extension -Dextensions='micrometer-opentelemetry'</code></pre>
</div>
</div>
<div class="listingblock secondary asciidoc-tabs-sync-gradle">
<div class="title">Gradle</div>
<div class="content">
<pre class="highlightjs highlight"><code class="language-bash hljs" data-lang="bash">./gradlew addExtension --extensions='micrometer-opentelemetry'</code></pre>
</div>
</div>
<div class="paragraph">
<p>This will add the following to your build file:</p>
</div>
<div class="listingblock primary asciidoc-tabs-target-sync-cli asciidoc-tabs-target-sync-maven">
<div class="title">pom.xml</div>
<div class="content">
<pre class="highlightjs highlight"><code class="language-xml hljs" data-lang="xml">&lt;dependency&gt;
    &lt;groupId&gt;io.quarkus&lt;/groupId&gt;
    &lt;artifactId&gt;quarkus-micrometer-opentelemetry&lt;/artifactId&gt;
&lt;/dependency&gt;</code></pre>
</div>
</div>
<div class="listingblock secondary asciidoc-tabs-target-sync-gradle">
<div class="title">build.gradle</div>
<div class="content">
<pre class="highlightjs highlight"><code class="language-gradle hljs" data-lang="gradle">implementation("io.quarkus:quarkus-micrometer-opentelemetry")</code></pre>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="configuration"><a class="anchor" href="#configuration"></a>Configuration</h2>
<div class="sectionbody">
<div class="paragraph">
<p>When the extension is present, Micrometer is enabled by default as are OpenTelemetry tracing, metrics and logs.</p>
</div>
<div class="paragraph">
<p>OpenTelemetry metrics auto-instrumentation for HTTP server and JVM metrics are disabled by default because those metrics can be  collected by Micrometer.</p>
</div>
<div class="paragraph">
<p>Specific automatic Micrometer metrics are all disabled by default and can be enabled by setting, for example in the case of JVM metrics:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-properties hljs" data-lang="properties">quarkus.micrometer.binder.jvm=true</code></pre>
</div>
</div>
<div class="paragraph">
<p>in the <code>application.properties</code> file.</p>
</div>
<div class="paragraph">
<p>For this and other properties you can use with the extension, Please refer to:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><a href="telemetry-micrometer#configuration-reference">Micrometer metrics configuration properties</a></p>
</li>
<li>
<p><a href="opentelemetry#configuration-reference">OpenTelemetry configuration properties</a></p>
</li>
</ul>
</div>
</div>
</div>
<div class="sect1">
<h2 id="metric-differences-between-micrometer-and-opentelemetry"><a class="anchor" href="#metric-differences-between-micrometer-and-opentelemetry"></a>Metric differences between Micrometer and OpenTelemetry</h2>
<div class="sectionbody">
<div class="sect2">
<h3 id="api-differences"><a class="anchor" href="#api-differences"></a>API differences</h3>
<div class="paragraph">
<p>The metrics produced with each framework follow different APIs and the mapping is not 1:1.</p>
</div>
<div class="paragraph">
<p>One fundamental API difference is that Micrometer uses a <a href="https://docs.micrometer.io/micrometer/reference/concepts/timers.html">Timer</a> and OpenTelemetry uses a <a href="https://opentelemetry.io/docs/specs/otel/metrics/data-model/#histogram">Histogram</a> to record latency (execution time) metrics and the frequency of the events.</p>
</div>
<div class="paragraph">
<p>When using the <code>@Timed</code> annotation with Micrometer, 2 different metrics are <a href="https://github.com/open-telemetry/opentelemetry-java-instrumentation/blob/324fdbdd452ddffaf2da2c5bf004d8bb3fdfa1dd/instrumentation/micrometer/micrometer-1.5/library/src/main/java/io/opentelemetry/instrumentation/micrometer/v1_5/OpenTelemetryTimer.java#L31">created on the OpenTelemetry side</a>, one <code>Gauge</code> for the <code>max</code> value and one <code>Histogram</code>.</p>
</div>
<div class="paragraph">
<p>The <code>DistributionSummary</code> from Micrometer is transformed into a <code>Histogram</code> and a <code>DoubleGauge</code> for the <code>max</code> value. If service level objectives (slo) are set to <code>true</code> when creating a <code>DistributionSummary</code>, an additional histogram is created for them.</p>
</div>
<div class="paragraph">
<p>This table shows the differences between the two frameworks:</p>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 50%;">
<col style="width: 50%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Micrometer</th>
<th class="tableblock halign-left valign-top">OpenTelemetry</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">DistributionSummary</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>&lt;Metric name&gt;</code> (Histogram), <code>&lt;Metric name&gt;.max</code> (DoubleGauge)</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">DistributionSummary with SLOs</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>&lt;Metric name&gt;</code> (Histogram), <code>&lt;Metric name&gt;.max</code> (DoubleGauge), <code>&lt;Metric name&gt;.histogram</code> (DoubleGauge)</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">LongTaskTimer</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>&lt;Metric name&gt;.active</code> (ObservableLongUpDownCounter), <code>&lt;Metric name&gt;.duration</code> (ObservableDoubleUpDownCounter)</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Timer</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>&lt;Metric name&gt;</code> (Histogram), <code>&lt;Metric name&gt;.max</code> (ObservableDoubleGauge)</p></td>
</tr>
</tbody>
</table>
</div>
<div class="sect2">
<h3 id="semantic-convention-differences"><a class="anchor" href="#semantic-convention-differences"></a>Semantic convention differences</h3>
<div class="paragraph">
<p>The 2 frameworks follow different semantic conventions. The OpenTelemetry Metrics are based on the <a href="https://opentelemetry.io/docs/concepts/semantic-conventions/">OpenTelemetry Semantic Conventions</a> and are still under active development (early 2025). Micrometer metrics convention format is around for a long time and has not changed much.</p>
</div>
<div class="paragraph">
<p>When these 2 configurations are set in the <code>application.properties</code> file:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-properties hljs" data-lang="properties">quarkus.micrometer.binder.jvm=true
quarkus.micrometer.binder.http-server.enabled=true</code></pre>
</div>
</div>
<div class="paragraph">
<p>The JVM and HTTP server metrics are collected by Micrometer.</p>
</div>
<div class="paragraph">
<p>Next, are examples of the metrics collected by Micrometer and a comparison of what would be the <code>quarkus-micrometer-registry-prometheus</code> output vs the one on this bridge. A link to the equivalent OpenTelemetry Semantic Convention is also provided for reference and is not currently used in the bridge.</p>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 25%;">
<col style="width: 25%;">
<col style="width: 25%;">
<col style="width: 25%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Micrometer Meter</th>
<th class="tableblock halign-left valign-top">Quarkus Micrometer Prometheus client v0.x output</th>
<th class="tableblock halign-left valign-top">This bridge OpenTelemetry output name</th>
<th class="tableblock halign-left valign-top">Related OpenTelemetry Semantic Convention (not applied)</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Using the @Timed interceptor.</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">method.timed (Histogram), method.timed.max (DoubleGauge)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">NA</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Using the @Counted interceptor.</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">method.counted (DoubleSum)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">NA</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>http.server.active.requests</code> (Gauge)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>http_server_active_requests</code> (Gauge)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>http.server.active.requests</code> (DoubleGauge)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="https://opentelemetry.io/docs/specs/semconv/http/http-metrics/#metric-httpserveractive_requests"><code>http.server.active_requests</code></a> (UpDownCounter)</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>http.server.requests</code> (Timer)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>http_server_requests_seconds_count</code>, <code>http_server_requests_seconds_sum</code>, <code>http_server_requests_seconds_max</code> (Gauge)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>http.server.requests</code> (Histogram), <code>http.server.requests.max</code> (DoubleGauge)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="https://opentelemetry.io/docs/specs/semconv/http/http-metrics/#metric-httpserverrequestduration"><code>http.server.request.duration</code></a> (Histogram)</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>http.server.bytes.read</code> (DistributionSummary)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>http_server_bytes_read_count</code>, <code>http_server_bytes_read_sum</code> , <code>http_server_bytes_read_max</code> (Gauge)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>http.server.bytes.read</code> (Histogram), <code>http.server.bytes.read.max</code> (DoubleGauge)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="https://opentelemetry.io/docs/specs/semconv/http/http-metrics/#metric-httpserverrequestbodysize"><code>http.server.request.body.size</code></a> (Histogram)</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>http.server.bytes.write</code> (DistributionSummary)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>http_server_bytes_write_count</code>, <code>http_server_bytes_write_sum</code> , <code>http_server_bytes_write_max</code> (Gauge)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>http.server.bytes.write</code> (Histogram), <code>http.server.bytes.write.max</code> (DoubleGauge)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="https://opentelemetry.io/docs/specs/semconv/http/http-metrics/#metric-httpserverresponsebodysize"><code>http.server.response.body.size</code></a> (Histogram)</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>http.server.connections</code> (LongTaskTimer)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>http_server_connections_seconds_active_count</code>, <code>http_server_connections_seconds_duration_sum</code> <code>http_server_connections_seconds_max</code> (Gauge)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>http.server.connections.active</code> (LongSum), <code>http.server.connections.duration</code> (DoubleGauge)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">N/A</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>jvm.threads.live</code> (Gauge)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>jvm_threads_live_threads</code> (Gauge)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>jvm.threads.live</code> (DoubleGauge)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="https://opentelemetry.io/docs/specs/semconv/runtime/jvm-metrics/#metric-jvmthreadcount"><code>jvm.threads.live</code></a> (UpDownCounter)</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>jvm.threads.started</code> (FunctionCounter)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>jvm_threads_started_threads_total</code> (Counter)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>jvm.threads.started</code> (DoubleSum)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="https://opentelemetry.io/docs/specs/semconv/runtime/jvm-metrics/#metric-jvmthreadcount"><code>jvm.threads.live</code></a> (UpDownCounter)</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>jvm.threads.daemon</code> (Gauge)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>jvm_threads_daemon_threads</code> (Gauge)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>jvm.threads.daemon</code> (DoubleGauge)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="https://opentelemetry.io/docs/specs/semconv/runtime/jvm-metrics/#metric-jvmthreadcount"><code>jvm.threads.live</code></a> (UpDownCounter)</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>jvm.threads.peak</code> (Gauge)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>jvm_threads_peak_threads</code> (Gauge)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>jvm.threads.peak</code> (DoubleGauge)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">N/A</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>jvm.threads.states</code> (Gauge per state)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>jvm_threads_states_threads</code> (Gauge)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>jvm.threads.states</code> (DoubleGauge)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="https://opentelemetry.io/docs/specs/semconv/runtime/jvm-metrics/#metric-jvmthreadcount"><code>jvm.threads.live</code></a> (UpDownCounter)</p></td>
</tr>
</tbody>
</table>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
<div class="paragraph">
<p>Some metrics might be missing from the output if they contain no data.</p>
</div>
</td>
</tr>
</table>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="see-the-output"><a class="anchor" href="#see-the-output"></a>See the output</h2>
<div class="sectionbody">
<div class="sect2">
<h3 id="grafana-otel-lgtm-dev-service"><a class="anchor" href="#grafana-otel-lgtm-dev-service"></a>Grafana-OTel-LGTM Dev Service</h3>
<div class="paragraph">
<p>You can use the <a href="observability-devservices-lgtm">Grafana-OTel-LGTM</a> Dev Service.</p>
</div>
<div class="paragraph">
<p>This Dev Service includes Grafana for visualizing data, Loki to store logs, Tempo to store traces and Prometheus to store metrics.
It also provides an OTel collector to receive the data</p>
</div>
</div>
<div class="sect2">
<h3 id="logging-exporter"><a class="anchor" href="#logging-exporter"></a>Logging exporter</h3>
<div class="paragraph">
<p>You can output all metrics to the console by setting the exporter to <code>logging</code> in the <code>application.properties</code> file:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-properties hljs" data-lang="properties">quarkus.otel.metrics.exporter=logging <i class="conum" data-value="1"></i><b>(1)</b>
quarkus.otel.metric.export.interval=10000ms <i class="conum" data-value="2"></i><b>(2)</b></code></pre>
</div>
</div>
<div class="colist arabic">
<table>
<tr>
<td><i class="conum" data-value="1"></i><b>1</b></td>
<td>Set the exporter to <code>logging</code>.
Normally you don&#8217;t need to set this.
The default is <code>cdi</code>.</td>
</tr>
<tr>
<td><i class="conum" data-value="2"></i><b>2</b></td>
<td>Set the interval to export the metrics.
The default is <code>1m</code>, which is too long for debugging.</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>Also add this dependency to your project:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-xml hljs" data-lang="xml">&lt;dependency&gt;
    &lt;groupId&gt;io.opentelemetry&lt;/groupId&gt;
    &lt;artifactId&gt;opentelemetry-exporter-logging&lt;/artifactId&gt;
&lt;/dependency&gt;</code></pre>
</div>
</div>
</div>
</div>
</div>
    </div>
    <div class="grid__item width-4-12 width-12-12-m tocwrapper">
      <div class="hide-mobile toc"><ul class="sectlevel1">
<li><a href="#usage">Usage</a></li>
<li><a href="#configuration">Configuration</a></li>
<li><a href="#metric-differences-between-micrometer-and-opentelemetry">Metric differences between Micrometer and OpenTelemetry</a>
<ul class="sectlevel2">
<li><a href="#api-differences">API differences</a></li>
<li><a href="#semantic-convention-differences">Semantic convention differences</a></li>
</ul>
</li>
<li><a href="#see-the-output">See the output</a>
<ul class="sectlevel2">
<li><a href="#grafana-otel-lgtm-dev-service">Grafana-OTel-LGTM Dev Service</a></li>
<li><a href="#logging-exporter">Logging exporter</a></li>
</ul>
</li>
</ul></div>
    </div>
  </div>
  <h2>Related content</h2>
  <div class="grid-wrapper relations">
    <div class="grid__item width-6-12 width-12-12-m">
      <h3>On the same topics</h3>
      <ul class="related-content">
      
        
        <li class="reference"><a href="/version/main/guides/observability">Observability in Quarkus</a></li>
      
        
        <li class="tutorial"><a href="/version/main/guides/telemetry-opentracing-to-otel-tutorial">Migrate from OpenTracing to OpenTelemetry tracing</a></li>
      
        
        <li class="guide"><a href="/version/main/guides/observability-devservices-lgtm">Observability Dev Services with Grafana OTel LGTM</a></li>
      
        
        <li class="guide"><a href="/version/main/guides/opentelemetry-metrics">Using OpenTelemetry Metrics</a></li>
      
        
        <li class="guide"><a href="/version/main/guides/opentelemetry-tracing">Using OpenTelemetry Tracing</a></li>
      
        
        <li class="tutorial"><a href="/version/main/guides/telemetry-micrometer-tutorial">Collect metrics using Micrometer</a></li>
      
        
        <li class="reference"><a href="/version/main/guides/telemetry-micrometer">Micrometer Metrics</a></li>
      
        
        <li class="guide"><a href="/version/main/guides/smallrye-metrics">SmallRye Metrics</a></li>
      
        
        <li class="reference"><a href="/version/main/guides/opentelemetry">Using OpenTelemetry</a></li>
      
        
        <li class="guide"><a href="/version/main/guides/opentelemetry-logging">Using OpenTelemetry Logging</a></li>
      
        
        <li class="guide"><a href="/version/main/guides/centralized-log-management">Centralized log management (Graylog, Logstash, Fluentd)</a></li>
      
        
        <li class="reference"><a href="/version/main/guides/logging">Logging configuration</a></li>
      
        
        <li class="reference"><a href="/version/main/guides/management-interface-reference">Management interface reference</a></li>
      
        
        <li class="guide"><a href="/version/main/guides/observability-devservices">Observability Dev Services</a></li>
      
        
        <li class="guide"><a href="/version/main/guides/smallrye-health">SmallRye Health</a></li>
      
        
        <li class="guide"><a href="/version/main/guides/jfr">Using Java Flight Recorder</a></li>
      </ul>
    </div>
    </div>
  </div>

  </div>

  <div class="content project-footer">
  <div class="footer-section">
    <div class="logo-wrapper">
      <a href="/"><img src="/assets/images/quarkus_logo_horizontal_rgb_reverse.svg" class="project-logo" title="Quarkus"></a>
    </div>
  </div>
  <div class="grid-wrapper">
    <p class="grid__item width-3-12">Quarkus is open. All dependencies of this project are available under the <a href='https://www.apache.org/licenses/LICENSE-2.0' target='_blank'>Apache Software License 2.0</a> or compatible license.<br /><br />This website was built with <a href='https://jekyllrb.com/' target='_blank'>Jekyll</a>, is hosted on <a href='https://pages.github.com/' target='_blank'>GitHub Pages</a> and is completely open source. If you want to make it better, <a href='https://github.com/quarkusio/quarkusio.github.io' target='_blank'>fork the website</a> and show us what you’ve got.</p>

    
      <div class="width-1-12 project-links">
        <span>Navigation</span>
        <ul class="footer-links">
          
          
            <li><a href="/" target="_blank">Home</a></li>
          
          
          
            <li><a href="/about" target="_blank">About</a></li>
          
          
          
            <li><a href="/blog" target="_blank">Blog</a></li>
          
          
          
            <li><a href="/insights" target="_blank">Podcast</a></li>
          
          
          
            <li><a href="/events" target="_blank">Events</a></li>
          
          
          
            <li><a href="/newsletter" target="_blank">Newsletter</a></li>
          
          
          
            <li><a href="/userstories" target="_blank">User Stories</a></li>
          
          
          
            <li><a href="https://github.com/orgs/quarkusio/projects/13/views/1" target="_blank">Roadmap</a></li>
          
          
          
            <li><a href="/security" target="_blank">Security&nbsp;policy</a></li>
          
          
          
            <li><a href="/usage" target="_blank">Usage</a></li>
          
          
          
            <li><a href="/brand" target="_blank">Brand</a></li>
          
          
          
            <li><a href="/desktopwallpapers" target="_blank">Wallpapers</a></li>
          
          
        </ul>
      </div>
    
      <div class="width-1-12 project-links">
        <span>Follow Us</span>
        <ul class="footer-links">
          
          
            <li><a href="https://x.com/quarkusio" target="_blank">X</a></li>
          
          
          
            <li><a href="https://bsky.app/profile/quarkus.io" target="_blank">Bluesky</a></li>
          
          
          
            <li><a rel="me" href="https://fosstodon.org/@quarkusio" target="_blank">Mastodon</a></li>
            
          
          
            <li><a href="https://www.facebook.com/quarkusio" target="_blank">Facebook</a></li>
          
          
          
            <li><a href="https://www.linkedin.com/company/quarkusio/" target="_blank">Linkedin</a></li>
          
          
          
            <li><a href="https://www.youtube.com/channel/UCaW8QG_QoIk_FnjLgr5eOqg" target="_blank">Youtube</a></li>
          
          
          
            <li><a href="https://github.com/quarkusio" target="_blank">GitHub</a></li>
          
          
        </ul>
      </div>
    
      <div class="width-2-12 project-links">
        <span>Get Help</span>
        <ul class="footer-links">
          
          
            <li><a href="/support" target="_blank">Support</a></li>
          
          
          
            <li><a href="/guides" target="_blank">Guides</a></li>
          
          
          
            <li><a href="/faq" target="_blank">FAQ</a></li>
          
          
          
            <li><a href="/get-started" target="_blank">Get Started</a></li>
          
          
          
            <li><a href="https://stackoverflow.com/questions/tagged/quarkus" target="_blank">Stack Overflow</a></li>
          
          
          
            <li><a href="https://github.com/quarkusio/quarkus/discussions" target="_blank">Discussions</a></li>
          
          
          
            <li><a href="https://groups.google.com/forum/#!forum/quarkus-dev" target="_blank">Development mailing list</a></li>
          
          
        </ul>
      </div>
    
      <div class="width-1-12 project-links">
        <span>Languages</span>
        <ul class="footer-links">
          
          
            <li><a href="https://quarkus.io/" target="_blank">English</a></li>
          
          
          
            <li><a href="https://pt.quarkus.io/" target="_blank">Português&nbsp;(Brasileiro)</a></li>
          
          
          
            <li><a href="https://es.quarkus.io/" target="_blank">Español</a></li>
          
          
          
            <li><a href="https://cn.quarkus.io/" target="_blank">简体中文</a></li>
          
          
          
            <li><a href="https://ja.quarkus.io/" target="_blank">日本語</a></li>
          
          
        </ul>
      </div>
    

    
      <div class="width-4-12 more-links">
        <span>Quarkus is made of community projects</span>
        <ul class="footer-links">
          
            <li><a blah href="https://vertx.io/" target="_blank">Eclipse Vert.x</a></li>
          
            <li><a blah href="https://smallrye.io" target="_blank">SmallRye</a></li>
          
            <li><a blah href="https://hibernate.org" target="_blank">Hibernate</a></li>
          
            <li><a blah href="https://netty.io" target="_blank">Netty</a></li>
          
            <li><a blah href="https://resteasy.github.io" target="_blank">RESTEasy</a></li>
          
            <li><a blah href="https://camel.apache.org" target="_blank">Apache Camel</a></li>
          
            <li><a blah href="https://microprofile.io" target="_blank">Eclipse MicroProfile</a></li>
          
            <li><a blah href="https://code.quarkus.io/" target="_blank">And many more...</a></li>
          
        </ul>
      </div>
    
  </div>
</div>

  <div class="content redhat-footer">
  <div class="grid-wrapper">
    <span class="licence">
      <i class="fab fa-creative-commons"></i><i class="fab fa-creative-commons-by"></i> <a href="https://creativecommons.org/licenses/by/3.0/" target="_blank">CC by 3.0</a> | <a href="https://www.redhat.com/en/about/privacy-policy">Privacy Policy</a>
    </span>
    <span class="redhat">
      Sponsored by
    </span>
    <span class="redhat-logo">
      <a href="https://www.redhat.com/" target="_blank"><img src="/assets/images/redhat_reversed.svg"></a>
    </span>
  </div>
</div>


  <script src="https://ajax.googleapis.com/ajax/libs/jquery/2.1.4/jquery.min.js" integrity="sha384-8gBf6Y4YYq7Jx97PIqmTwLPin4hxIzQw5aDmUg/DDhul9fFpbbLcLh3nTIIDJKhx" crossorigin="anonymous"></script>
  <script type="text/javascript" src="/assets/javascript/mobile-nav.js"></script>
  <script type="text/javascript" src="/assets/javascript/scroll-down.js"></script>
  <script src="/assets/javascript/satellite.js" type="text/javascript"></script>
  <script src="/guides/javascript/config.js" type="text/javascript"></script>
  <script src="/assets/javascript/guides-version-dropdown.js" type="text/javascript"></script>
  <script src="/assets/javascript/back-to-top.js" type="text/javascript"></script>
  <script src="/assets/javascript/clipboard.min.js" type="text/javascript"></script>
  <script src="/assets/javascript/copy.js" type="text/javascript"></script>
  <script src="/assets/javascript/asciidoc-tabs.js" type="text/javascript"></script>
  <script src="/assets/javascript/future-date.js" type="text/javascript"></script>
</body>

</html>
