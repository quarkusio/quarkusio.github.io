<!DOCTYPE html>
<html lang="en">







<head>
  <title>Testing Your Application - 3.15 - Quarkus</title>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <meta http-equiv="Content-Security-Policy" content="
  connect-src 'self' https://dpm.demdex.net https://adobedc.demdex.net https://route-default-test-mscherer-matamo.apps.ospo-osci.z3b1.p1.openshiftapps.com/ https://search.quarkus.io https://smetrics.redhat.com; 
  script-src 'self' 'unsafe-inline' 'unsafe-eval'
      
      https://assets.adobedtm.com
      js.bizographics.com
      https://www.redhat.com
      https://static.redhat.com
      https://app.requestly.io/
      jsonip.com
      https://ajax.googleapis.com
      https://use.fontawesome.com
      http://www.youtube.com
      http://www.googleadservices.com
      https://googleads.g.doubleclick.net
      https://giscus.app
      https://route-default-test-mscherer-matamo.apps.ospo-osci.z3b1.p1.openshiftapps.com/
      https://app.mailjet.com;

  style-src 'self' https://fonts.googleapis.com https://use.fontawesome.com; 
  img-src 'self' * data:; 
  media-src 'self'; 
  frame-src https://redhat.demdex.net https://www.youtube.com https://embed.restream.io https://app.mailjet.com http://xy0p2.mjt.lu https://mj.quarkus.io https://giscus.app; 
  base-uri 'none'; 
  object-src 'none'; 
  form-action 'none'; 
  font-src 'self' https://use.fontawesome.com https://fonts.gstatic.com;" />
  <script id="adobe_dtm" src="https://www.redhat.com/dtm.js" type="text/javascript"></script>
  <script src="/assets/javascript/highlight.pack.js" type="text/javascript"></script>
  <META HTTP-EQUIV='X-XSS-Protection' CONTENT="1; mode=block">
  <META HTTP-EQUIV='X-Content-Type-Options' CONTENT="nosniff">
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <meta name="description" content="Quarkus: Supersonic Subatomic Java">
  <meta name="twitter:card" content="summary_large_image">
  <meta name="twitter:site" content="@QuarkusIO"> 
  <meta name="twitter:creator" content="@QuarkusIO">
  <meta property="og:url" content="https://quarkus.io/version/3.15/guides/getting-started-testing" />
  <meta property="og:title" content="Testing Your Application - 3.15" />
  <meta property="og:description" content="Quarkus: Supersonic Subatomic Java" />
  <meta property="og:image" content="https://quarkus.io/assets/images/quarkus_card.png" />
  
  <link rel="canonical" href="https://quarkus.io/guides/getting-started-testing">
  <link rel="shortcut icon" type="image/png" href="/favicon.ico" >
  <link rel="stylesheet" href="/guides/stylesheet/config.css" />
  <link rel="stylesheet" href="/assets/css/main.css?2021-07-29" />
  <link rel="stylesheet" href="https://use.fontawesome.com/releases/v6.5.2/css/all.css" crossorigin="anonymous">
  <link rel="alternate" type="application/rss+xml"  href="/feed.xml" title="Quarkus">
  <script src="/assets/javascript/hl.js" type="text/javascript"></script>
  
  
  
  
  <link rel="alternate" hreflang="en" href="https://quarkus.io/version/3.15/guides/getting-started-testing" />
  
  <link rel="alternate" hreflang="pt-br" href="https://pt.quarkus.io/version/3.15/guides/getting-started-testing" />
  
  <link rel="alternate" hreflang="es" href="https://es.quarkus.io/version/3.15/guides/getting-started-testing" />
  
  <link rel="alternate" hreflang="zh" href="https://cn.quarkus.io/version/3.15/guides/getting-started-testing" />
  
  <link rel="alternate" hreflang="ja" href="https://ja.quarkus.io/version/3.15/guides/getting-started-testing" />
  
  <link rel="alternate" hreflang="x-default" href="https://quarkus.io/" />  
  <script src="/assets/javascript/tracking.js"></script>
  
  <script src="/assets/javascript/colormode.js" type="text/javascript"></script>

</head>

<body class="guides">

  
  <div class="nav-wrapper">
  <div class="grid-wrapper">
    <div class="width-12-12">
      <input type="checkbox" id="checkbox" />
      <nav id="main-nav" class="main-nav">
        <div class="logo-wrapper">
           <a href="/"><img src="/assets/images/quarkus_logo_horizontal_rgb_600px_reverse.png" class="project-logo" title="Quarkus"></a>
        </div>
    <label class="nav-toggle" for="checkbox">
      <i class="fa fa-bars"></i>
    </label>
    <ul id="menu" class="menu">
      <li class="dropdown">
        <span href="/about/">Why<i class="fas fa-chevron-down"></i></span>
        <ul class="submenu">
          <li><a href="/about" class="">WHAT IS QUARKUS?</a></li>
          <li><a href="/container-first" class="">CONTAINER FIRST</a></li>
          <li><a href="/continuum" class="">VERSATILITY</a></li>
          <li><a href="/developer-joy" class="">DEVELOPER JOY</a></li>
          <li><a href="/kubernetes-native" class="">KUBERNETES NATIVE</a></li>
          <li><a href="/standards" class="">STANDARDS</a></li>
        </ul>
      </li>
      <li class="dropdown">
        <span href="/learn/">Learn<i class="fas fa-chevron-down"></i></span>
        <ul class="submenu">
          <li><a href="/get-started" class="">GET STARTED</a></li>
          <li><a href="/guides" class="active">DOCUMENTATION</a></li>
          <li><a href="/qtips" class="">"Q" TIP VIDEOS</a></li>          
          <li><a href="/books" class="">BOOKS</a></li>
          </ul>
      </li>
      <li class="dropdown">
        <span href="https://quarkus.io/extensions/">Extensions<i class="fas fa-chevron-down"></i></span>
        <ul class="submenu">
          <!-- Note that quarkus.io is hardcoded here, because it is the only url which supports extensions -->
          <li><a href="https://quarkus.io/extensions/" class="">BROWSE EXTENSIONS</a></li>
          <li><a href="/faq/#what-is-a-quarkus-extension" class="">USE EXTENSIONS</a></li>
          <li><a href="/guides/writing-extensions" class="">CREATE EXTENSIONS</a></li>
          <li><a href="https://hub.quarkiverse.io" class="">SHARE EXTENSIONS</a></li>
        </ul>
      </li>
      <li class="dropdown">
        <span href="/community/">Community<i class="fas fa-chevron-down"></i></span>
        <ul class="submenu">
          <li><a href="/support/" class="">SUPPORT</a></li>
          <li><a href="/blog" class="">BLOG</a></li>
          <li><a href="/discussion" class="">DISCUSSION</a></li>
          <li><a href="/working-groups" class="">WORKING GROUPS</a></li>
          <li><a href="/insights" class="">PODCAST</a></li>
          <li><a href="/events" class="">EVENTS</a></li>
          <li><a href="/newsletter" class="">NEWSLETTER</a></li>
          <li><a href="https://github.com/orgs/quarkusio/projects/13/views/1" class="">ROADMAP</a></li>
          </ul>
      </li>
      <li>
        <a href="https://code.quarkus.io" class="button-cta secondary white">START CODING</a>
      </li>
      <li class="dropdown">
        <span href="/language/"><div class="fas fa-globe langicon"></div><i class="fas fa-chevron-down"></i></span>
        <ul class="submenu">
          <li><a href="https://quarkus.io/version/3.15/guides/getting-started-testing" >OFFICIAL (ENGLISH)</a></li>
          <li><a href="https://pt.quarkus.io/version/3.15/guides/getting-started-testing">PORTUGUÊS (BR)</a></li>
          <li><a href="https://es.quarkus.io/version/3.15/guides/getting-started-testing">ESPAÑOL</a></li>
          <li><a href="https://cn.quarkus.io/version/3.15/guides/getting-started-testing">简体中文</a></li>
          <li><a href="https://ja.quarkus.io/version/3.15/guides/getting-started-testing">日本語</a></li>
          </ul>
      </li>
      <li>
        <span href="#" class="modeswitcher" id='theme-toggle'><i class="fas fa-sun"></i><i class="fas fa-moon"></i><i class="fas fa-cog"></i></span>
      </li>
    </ul>
      </nav>
    </div>
  </div>
</div>

  <div class="content">
    







<section class="full-width-version-bg flexfilterbar guides">
  <div class="guideflexcontainer">
    <div class="docslink">
      <a class="returnlink" href="/version/3.15/guides/"> Back to Guides</a>
    </div>
    <div class="flexlabel">
      <label>By Version</label>
    </div>
    <div class="guidepulldown version">
    <select id="guide-version-dropdown">
      
        
        
        <option value="main" >Main - SNAPSHOT</option>
        
        
        
        <option value="latest" >3.16.2 - Latest</option>
        
        
        
        <option value="3.15" selected>3.15</option>
        
        
        
        <option value="3.8" >3.8</option>
        
        
        
        <option value="3.2" >3.2</option>
        
        
        
        <option value="2.16" >2.16</option>
        
        
        
        <option value="2.13" >2.13</option>
        </select>
    </div>
  </div>
</section>

<div class="guide">
  <div class="grid-wrapper">
    <div class="grid__item width-8-12 width-12-12-m">
      
      <h1 class="text-caps">Testing Your Application </h1>
      <div id="preamble">
<div class="sectionbody">
<div class="paragraph">
<p>Learn how to test your Quarkus Application.
This guide covers:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Testing in JVM mode</p>
</li>
<li>
<p>Testing in native mode</p>
</li>
<li>
<p>Injection of resources into tests</p>
</li>
</ul>
</div>
</div>
</div>
<div class="sect1">
<h2 id="prerequisites"><a class="anchor" href="#prerequisites"></a>1. Prerequisites</h2>
<div class="sectionbody">
<div class="paragraph">
<p>To complete this guide, you need:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Roughly 15 minutes</p>
</li>
<li>
<p>An IDE</p>
</li>
<li>
<p>JDK 17+ installed with <code>JAVA_HOME</code> configured appropriately</p>
</li>
<li>
<p>Apache Maven 3.9.8</p>
</li>
<li>
<p>Optionally the <a href="cli-tooling">Quarkus CLI</a> if you want to use it</p>
</li>
<li>
<p>Optionally Mandrel or GraalVM installed and <a href="building-native-image#configuring-graalvm">configured appropriately</a> if you want to build a native executable (or Docker if you use a native container build)</p>
</li>
<li>
<p>The completed greeter application from the <a href="getting-started">Getting Started Guide</a></p>
</li>
</ul>
</div>
</div>
</div>
<div class="sect1">
<h2 id="architecture"><a class="anchor" href="#architecture"></a>2. Architecture</h2>
<div class="sectionbody">
<div class="paragraph">
<p>In this guide, we expand on the initial test that was created as part of the Getting Started Guide.
We cover injection into tests and also how to test native executables.</p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
Quarkus supports Continuous testing, but this is covered by the <a href="continuous-testing">Continuous Testing Guide</a>.
</td>
</tr>
</table>
</div>
</div>
</div>
<div class="sect1">
<h2 id="solution"><a class="anchor" href="#solution"></a>3. Solution</h2>
<div class="sectionbody">
<div class="paragraph">
<p>We recommend that you follow the instructions in the next sections and create the application step by step.
However, you can go right to the completed example.</p>
</div>
<div class="paragraph">
<p>Clone the Git repository: <code>git clone -b 3.15 <a href="https://github.com/quarkusio/quarkus-quickstarts.git" class="bare">https://github.com/quarkusio/quarkus-quickstarts.git</a></code>, or download an <a href="https://github.com/quarkusio/quarkus-quickstarts/archive/3.15.zip">archive</a>.</p>
</div>
<div class="paragraph">
<p>The solution is located in the <code>getting-started-testing</code> <a href="https://github.com/quarkusio/quarkus-quickstarts/tree/3.15/getting-started-testing">directory</a>.</p>
</div>
<div class="paragraph">
<p>This guide assumes you already have the completed application from the <code>getting-started</code> directory.</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="recap-of-http-based-testing-in-jvm-mode"><a class="anchor" href="#recap-of-http-based-testing-in-jvm-mode"></a>4. Recap of HTTP based Testing in JVM mode</h2>
<div class="sectionbody">
<div class="paragraph">
<p>If you have started from the Getting Started example you should already have a completed test, including the correct
tooling setup.</p>
</div>
<div class="paragraph">
<p>In your build file you should see 2 test dependencies:</p>
</div>
<div class="sidebarblock primary asciidoc-tabs-sync-maven">
<div class="content">
<div class="title">Maven</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-xml hljs" data-lang="xml">&lt;dependency&gt;
    &lt;groupId&gt;io.quarkus&lt;/groupId&gt;
    &lt;artifactId&gt;quarkus-junit5&lt;/artifactId&gt;
    &lt;scope&gt;test&lt;/scope&gt;
&lt;/dependency&gt;
&lt;dependency&gt;
    &lt;groupId&gt;io.rest-assured&lt;/groupId&gt;
    &lt;artifactId&gt;rest-assured&lt;/artifactId&gt;
    &lt;scope&gt;test&lt;/scope&gt;
&lt;/dependency&gt;</code></pre>
</div>
</div>
</div>
</div>
<div class="sidebarblock secondary asciidoc-tabs-sync-gradle">
<div class="content">
<div class="title">Gradle</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-groovy hljs" data-lang="groovy">dependencies {
    testImplementation("io.quarkus:quarkus-junit5")
    testImplementation("io.rest-assured:rest-assured")
}</code></pre>
</div>
</div>
</div>
</div>
<div class="paragraph">
<p><code>quarkus-junit5</code> is required for testing, as it provides the <code>@QuarkusTest</code> annotation that controls the testing framework.
<code>rest-assured</code> is not required but is a convenient way to test HTTP endpoints, we also provide integration that automatically
sets the correct URL so no configuration is required.</p>
</div>
<div class="paragraph">
<p>Because we are using JUnit 5, the version of the <a href="https://maven.apache.org/surefire/maven-surefire-plugin/">Surefire Maven Plugin</a>
must be set, as the default version does not support Junit 5:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-xml hljs" data-lang="xml">&lt;plugin&gt;
    &lt;artifactId&gt;maven-surefire-plugin&lt;/artifactId&gt;
    &lt;version&gt;${surefire-plugin.version}&lt;/version&gt;
    &lt;configuration&gt;
       &lt;systemPropertyVariables&gt;
          &lt;java.util.logging.manager&gt;org.jboss.logmanager.LogManager&lt;/java.util.logging.manager&gt;
          &lt;maven.home&gt;${maven.home}&lt;/maven.home&gt;
       &lt;/systemPropertyVariables&gt;
    &lt;/configuration&gt;
&lt;/plugin&gt;</code></pre>
</div>
</div>
<div class="paragraph">
<p>We also set the <code>java.util.logging.manager</code> system property to make sure tests will use the correct logmanager and <code>maven.home</code> to ensure that custom configuration
from <code>${maven.home}/conf/settings.xml</code> is applied (if any).</p>
</div>
<div class="paragraph">
<p>The project should also contain a simple test:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-java hljs" data-lang="java">package org.acme.getting.started.testing;

import io.quarkus.test.junit.QuarkusTest;
import org.junit.jupiter.api.Test;

import java.util.UUID;

import static io.restassured.RestAssured.given;
import static org.hamcrest.CoreMatchers.is;

@QuarkusTest
public class GreetingResourceTest {

    @Test
    public void testHelloEndpoint() {
        given()
          .when().get("/hello")
          .then()
             .statusCode(200)
             .body(is("hello"));
    }

    @Test
    public void testGreetingEndpoint() {
        String uuid = UUID.randomUUID().toString();
        given()
          .pathParam("name", uuid)
          .when().get("/hello/greeting/{name}")
          .then()
            .statusCode(200)
            .body(is("hello " + uuid));
    }

}</code></pre>
</div>
</div>
<div class="paragraph">
<p>This test uses HTTP to directly test our REST endpoint. When the test is run the application will be started before
the test is run.</p>
</div>
<div class="sect2">
<h3 id="controlling-the-test-port"><a class="anchor" href="#controlling-the-test-port"></a>4.1. Controlling the test port</h3>
<div class="paragraph">
<p>While Quarkus will listen on port <code>8080</code> by default, when running tests it defaults to <code>8081</code>. This allows you to run
tests while having the application running in parallel.</p>
</div>
<div class="admonitionblock tip">
<table>
<tr>
<td class="icon">
<i class="fa icon-tip" title="Tip"></i>
</td>
<td class="content">
<div class="title">Changing the test port</div>
<div class="paragraph">
<p>You can configure the ports used by tests by configuring <code>quarkus.http.test-port</code> for HTTP and <code>quarkus.http.test-ssl-port</code> for HTTPS in your <code>application.properties</code>:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-properties hljs" data-lang="properties">quarkus.http.test-port=8083
quarkus.http.test-ssl-port=8446</code></pre>
</div>
</div>
<div class="paragraph">
<p><code>0</code> will result in the use of a random port (assigned by the operating system).</p>
</div>
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>Quarkus also provides RestAssured integration that updates the default port used by RestAssured before the tests are run,
so no additional configuration should be required.</p>
</div>
</div>
<div class="sect2">
<h3 id="controlling-http-interaction-timeout"><a class="anchor" href="#controlling-http-interaction-timeout"></a>4.2. Controlling HTTP interaction timeout</h3>
<div class="paragraph">
<p>When using REST Assured in your test, the connection and response timeouts are set to 30 seconds.
You can override this setting with the <code>quarkus.http.test-timeout</code> property:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-properties hljs" data-lang="properties">quarkus.http.test-timeout=10s</code></pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="injecting-a-uri"><a class="anchor" href="#injecting-a-uri"></a>4.3. Injecting a URI</h3>
<div class="paragraph">
<p>It is also possible to directly inject the URL into the test which can make is easy to use a different client. This is
done via the <code>@TestHTTPResource</code> annotation.</p>
</div>
<div class="paragraph">
<p>Let&#8217;s write a simple test that shows this off to load some static resources. First create a simple HTML file in
<code>src/main/resources/META-INF/resources/index.html</code> :</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-xml hljs" data-lang="xml">&lt;html&gt;
    &lt;head&gt;
        &lt;title&gt;Testing Guide&lt;/title&gt;
    &lt;/head&gt;
    &lt;body&gt;
        Information about testing
    &lt;/body&gt;
&lt;/html&gt;</code></pre>
</div>
</div>
<div class="paragraph">
<p>We will create a simple test to ensure that this is being served correctly:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-java hljs" data-lang="java">package org.acme.getting.started.testing;

import java.io.IOException;
import java.io.InputStream;
import java.net.URL;
import java.nio.charset.StandardCharsets;

import org.junit.jupiter.api.Assertions;
import org.junit.jupiter.api.Test;

import io.quarkus.test.common.http.TestHTTPResource;
import io.quarkus.test.junit.QuarkusTest;

@QuarkusTest
public class StaticContentTest {

    @TestHTTPResource("index.html") <i class="conum" data-value="1"></i><b>(1)</b>
    URL url;

    @Test
    public void testIndexHtml() throws IOException {
        try (InputStream in = url.openStream()) {
            String contents = new String(in.readAllBytes(), StandardCharsets.UTF_8);
            Assertions.assertTrue(contents.contains("&lt;title&gt;Testing Guide&lt;/title&gt;"));
        }
    }
}</code></pre>
</div>
</div>
<div class="colist arabic">
<table>
<tr>
<td><i class="conum" data-value="1"></i><b>1</b></td>
<td>This annotation allows you to directly inject the URL of the Quarkus instance, the value of the annotation will be the path component of the URL</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>For now <code>@TestHTTPResource</code> allows you to inject <code>URI</code>, <code>URL</code> and <code>String</code> representations of the URL.</p>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="testing-a-specific-endpoint"><a class="anchor" href="#testing-a-specific-endpoint"></a>5. Testing a specific endpoint</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Both RESTassured and <code>@TestHTTPResource</code> allow you to specify the endpoint class you are testing rather than hard coding
a path. This currently supports both Jakarta REST endpoints, Servlets and Reactive Routes. This makes it a lot easier to see exactly which endpoints
a given test is testing.</p>
</div>
<div class="paragraph">
<p>For the purposes of these examples I am going to assume we have an endpoint that looks like the following:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-java hljs" data-lang="java">@Path("/hello")
public class GreetingResource {

    @GET
    @Produces(MediaType.TEXT_PLAIN)
    public String hello() {
        return "hello";
    }
}</code></pre>
</div>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
This currently does not support the <code>@ApplicationPath()</code> annotation to set the Jakarta REST context path. Use the
<code>quarkus.resteasy.path</code> config value instead if you want a custom context path.
</td>
</tr>
</table>
</div>
<div class="sect2">
<h3 id="testhttpresource"><a class="anchor" href="#testhttpresource"></a>5.1. TestHTTPResource</h3>
<div class="paragraph">
<p>You can the use the <code>io.quarkus.test.common.http.TestHTTPEndpoint</code> annotation to specify the endpoint path, and the path
will be extracted from the provided endpoint. If you also specify a value for the <code>TestHTTPResource</code> endpoint it will
be appended to the end of the endpoint path.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-java hljs" data-lang="java">package org.acme.getting.started.testing;

import java.io.IOException;
import java.io.InputStream;
import java.net.URL;
import java.nio.charset.StandardCharsets;

import org.junit.jupiter.api.Assertions;
import org.junit.jupiter.api.Test;

import io.quarkus.test.common.http.TestHTTPEndpoint;
import io.quarkus.test.common.http.TestHTTPResource;
import io.quarkus.test.junit.QuarkusTest;

@QuarkusTest
public class StaticContentTest {

    @TestHTTPEndpoint(GreetingResource.class)  <i class="conum" data-value="1"></i><b>(1)</b>
    @TestHTTPResource
    URL url;

    @Test
    public void testIndexHtml() throws IOException {
        try (InputStream in = url.openStream()) {
            String contents = new String(in.readAllBytes(), StandardCharsets.UTF_8);
            Assertions.assertEquals("hello", contents);
        }
    }
}</code></pre>
</div>
</div>
<div class="colist arabic">
<table>
<tr>
<td><i class="conum" data-value="1"></i><b>1</b></td>
<td>Because <code>GreetingResource</code> is annotated with <code>@Path("/hello")</code> the injected URL
will end with <code>/hello</code>.</td>
</tr>
</table>
</div>
</div>
<div class="sect2">
<h3 id="restassured"><a class="anchor" href="#restassured"></a>5.2. RESTassured</h3>
<div class="paragraph">
<p>To control the RESTassured base path (i.e. the default path that serves as the root for every
request) you can use the <code>io.quarkus.test.common.http.TestHTTPEndpoint</code> annotation. This can
be applied at the class or method level. To test out greeting resource we would do:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-java hljs" data-lang="java">package org.acme.getting.started.testing;

import io.quarkus.test.junit.QuarkusTest;
import io.quarkus.test.common.http.TestHTTPEndpoint;
import org.junit.jupiter.api.Test;

import java.util.UUID;

import static io.restassured.RestAssured.when;
import static org.hamcrest.CoreMatchers.is;

@QuarkusTest
@TestHTTPEndpoint(GreetingResource.class) <i class="conum" data-value="1"></i><b>(1)</b>
public class GreetingResourceTest {

    @Test
    public void testHelloEndpoint() {
        when().get()    <i class="conum" data-value="2"></i><b>(2)</b>
          .then()
             .statusCode(200)
             .body(is("hello"));
    }
}</code></pre>
</div>
</div>
<div class="colist arabic">
<table>
<tr>
<td><i class="conum" data-value="1"></i><b>1</b></td>
<td>This tells RESTAssured to prefix all requests with <code>/hello</code>.</td>
</tr>
<tr>
<td><i class="conum" data-value="2"></i><b>2</b></td>
<td>Note we don&#8217;t need to specify a path here, as <code>/hello</code> is the default for this test</td>
</tr>
</table>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="injection-into-tests"><a class="anchor" href="#injection-into-tests"></a>6. Injection into tests</h2>
<div class="sectionbody">
<div class="paragraph">
<p>So far we have only covered integration style tests that test the app via HTTP endpoints, but what if we want to do unit
testing and test our beans directly?</p>
</div>
<div class="paragraph">
<p>Quarkus supports this by allowing you to inject CDI beans into your tests via the <code>@Inject</code> annotation (in fact, tests in
Quarkus are full CDI beans, so you can use all CDI functionality). Let&#8217;s create a simple test that tests the greeting
service directly without using HTTP:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-java hljs" data-lang="java">package org.acme.getting.started.testing;

import jakarta.inject.Inject;

import org.junit.jupiter.api.Assertions;
import org.junit.jupiter.api.Test;

import io.quarkus.test.junit.QuarkusTest;

@QuarkusTest
public class GreetingServiceTest {

    @Inject <i class="conum" data-value="1"></i><b>(1)</b>
    GreetingService service;

    @Test
    public void testGreetingService() {
        Assertions.assertEquals("hello Quarkus", service.greeting("Quarkus"));
    }
}</code></pre>
</div>
</div>
<div class="colist arabic">
<table>
<tr>
<td><i class="conum" data-value="1"></i><b>1</b></td>
<td>The <code>GreetingService</code> bean will be injected into the test</td>
</tr>
</table>
</div>
</div>
</div>
<div class="sect1">
<h2 id="applying-interceptors-to-tests"><a class="anchor" href="#applying-interceptors-to-tests"></a>7. Applying Interceptors to Tests</h2>
<div class="sectionbody">
<div class="paragraph">
<p>As mentioned above Quarkus tests are actually full CDI beans, and as such you can apply CDI interceptors as you would
normally. As an example, if you want a test method to run within the context of a transaction you can simply apply the
<code>@Transactional</code> annotation to the method and the transaction interceptor will handle it.</p>
</div>
<div class="paragraph">
<p>In addition to this you can also create your own test stereotypes. For example, we could create a <code>@TransactionalQuarkusTest</code>
as follows:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-java hljs" data-lang="java">@QuarkusTest
@Stereotype
@Transactional
@Retention(RetentionPolicy.RUNTIME)
@Target(ElementType.TYPE)
public @interface TransactionalQuarkusTest {
}</code></pre>
</div>
</div>
<div class="paragraph">
<p>If we then apply this annotation to a test class it will act as if we had applied both the <code>@QuarkusTest</code> and
<code>@Transactional</code> annotations, e.g.:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-java hljs" data-lang="java">@TransactionalQuarkusTest
public class TestStereotypeTestCase {

    @Inject
    UserTransaction userTransaction;

    @Test
    public void testUserTransaction() throws Exception {
        Assertions.assertEquals(Status.STATUS_ACTIVE, userTransaction.getStatus());
    }

}</code></pre>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="tests-and-transactions"><a class="anchor" href="#tests-and-transactions"></a>8. Tests and Transactions</h2>
<div class="sectionbody">
<div class="paragraph">
<p>You can use the standard Quarkus <code>@Transactional</code> annotation on tests, but this means that the changes your
test makes to the database will be persistent. If you want any changes made to be rolled back at the end of
the test you can use the <code>io.quarkus.test.TestTransaction</code> annotation. This will run the test method in a
transaction, but roll it back once the test method is complete to revert any database changes.</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="enrichment-via-quarkustestcallback"><a class="anchor" href="#enrichment-via-quarkustestcallback"></a>9. Enrichment via QuarkusTest*Callback</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Alternatively or additionally to an interceptor, you can enrich <strong>all</strong> your <code>@QuarkusTest</code> classes by implementing the following callback interfaces:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><code>io.quarkus.test.junit.callback.QuarkusTestBeforeClassCallback</code></p>
</li>
<li>
<p><code>io.quarkus.test.junit.callback.QuarkusTestAfterConstructCallback</code></p>
</li>
<li>
<p><code>io.quarkus.test.junit.callback.QuarkusTestBeforeEachCallback</code></p>
</li>
<li>
<p><code>io.quarkus.test.junit.callback.QuarkusTestBeforeTestExecutionCallback</code></p>
</li>
<li>
<p><code>io.quarkus.test.junit.callback.QuarkusTestAfterTestExecutionCallback</code></p>
</li>
<li>
<p><code>io.quarkus.test.junit.callback.QuarkusTestAfterEachCallback</code></p>
</li>
</ul>
</div>
<div class="paragraph">
<p>Optionally, you can enable these callbacks also for the <code>@QuarkusIntegrationTest</code> tests if the property <code>quarkus.test.enable-callbacks-for-integration-tests</code> is <code>true</code>.</p>
</div>
<div class="paragraph">
<p>Such a callback implementation has to be registered as a "service provider" as defined by <code>java.util.ServiceLoader</code>.</p>
</div>
<div class="paragraph">
<p>E.g. the following sample callback:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-java hljs" data-lang="java">package org.acme.getting.started.testing;

import io.quarkus.test.junit.callback.QuarkusTestBeforeEachCallback;
import io.quarkus.test.junit.callback.QuarkusTestMethodContext;

public class MyQuarkusTestBeforeEachCallback implements QuarkusTestBeforeEachCallback {

    @Override
    public void beforeEach(QuarkusTestMethodContext context) {
        System.out.println("Executing " + context.getTestMethod());
    }
}</code></pre>
</div>
</div>
<div class="paragraph">
<p>has to be registered via <code>src/main/resources/META-INF/services/io.quarkus.test.junit.callback.QuarkusTestBeforeEachCallback</code> as follows:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-none hljs">org.acme.getting.started.testing.MyQuarkusTestBeforeEachCallback</code></pre>
</div>
</div>
<div class="admonitionblock tip">
<table>
<tr>
<td class="icon">
<i class="fa icon-tip" title="Tip"></i>
</td>
<td class="content">
It is possible to read annotations from the test class or method to control what the callback shall be doing.
</td>
</tr>
</table>
</div>
<div class="admonitionblock warning">
<table>
<tr>
<td class="icon">
<i class="fa icon-warning" title="Warning"></i>
</td>
<td class="content">
While it is possible to use JUnit Jupiter callback interfaces like <code>BeforeEachCallback</code>, you might run into classloading issues because Quarkus has
         to run tests in a custom classloader which JUnit is not aware of.
</td>
</tr>
</table>
</div>
</div>
</div>
<div class="sect1">
<h2 id="testing_different_profiles"><a class="anchor" href="#testing_different_profiles"></a>10. Testing Different Profiles</h2>
<div class="sectionbody">
<div class="paragraph">
<p>So far in all our examples we only start Quarkus once for all tests. Before the first test is run Quarkus will boot,
then all tests will run, then Quarkus will shut down at the end. This makes for a very fast testing experience however
it is a bit limited as you can&#8217;t test different configurations.</p>
</div>
<div class="paragraph">
<p>To get around this Quarkus supports the idea of a test profile. If a test has a different profile to the previously
run test then Quarkus will be shut down and started with the new profile before running the tests. This is obviously
a bit slower, as it adds a shutdown/startup cycle to the test time, but gives a great deal of flexibility.</p>
</div>
<div class="paragraph">
<p>To reduce the amount of times Quarkus needs to restart, <code>io.quarkus.test.junit.util.QuarkusTestProfileAwareClassOrderer</code>
is registered as a global <code>ClassOrderer</code> as described in the
<a href="https://junit.org/junit5/docs/current/user-guide/#writing-tests-test-execution-order-classes">JUnit 5 User Guide</a>.
The behavior of this <code>ClassOrderer</code> is configurable via <code>junit-platform.properties</code> (see the source code or javadoc for more details).
It can also be disabled entirely by setting another <code>ClassOrderer</code> that is provided by JUnit 5 or even your own custom one.<br>
Please note that as of JUnit 5.8.2 <a href="https://github.com/junit-team/junit5/issues/2794">only a single <code>junit-platform.properties</code> is picked up and a warning is logged if more than one is found</a>.
If you encounter such warnings, you can get rid of them by removing the Quarkus-supplied <code>junit-platform.properties</code> from the classpath via an exclusion:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-xml hljs" data-lang="xml">&lt;dependency&gt;
    &lt;groupId&gt;io.quarkus&lt;/groupId&gt;
    &lt;artifactId&gt;quarkus-junit5&lt;/artifactId&gt;
    &lt;scope&gt;test&lt;/scope&gt;
    &lt;exclusions&gt;
        &lt;exclusion&gt;
            &lt;groupId&gt;io.quarkus&lt;/groupId&gt;
            &lt;artifactId&gt;quarkus-junit5-properties&lt;/artifactId&gt;
        &lt;/exclusion&gt;
    &lt;/exclusions&gt;
&lt;/dependency&gt;</code></pre>
</div>
</div>
<div class="sect2">
<h3 id="writing-a-profile"><a class="anchor" href="#writing-a-profile"></a>10.1. Writing a Profile</h3>
<div class="paragraph">
<p>To implement a test profile we need to implement <code>io.quarkus.test.junit.QuarkusTestProfile</code>:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-java hljs" data-lang="java">package org.acme.getting.started.testing;

import java.util.Collections;
import java.util.List;
import java.util.Map;
import java.util.Set;

import jakarta.enterprise.inject.Produces;

import io.quarkus.test.junit.QuarkusTestProfile;
import io.quarkus.test.junit.QuarkusTestProfile.TestResourceEntry;

public class MockGreetingProfile implements QuarkusTestProfile { <i class="conum" data-value="1"></i><b>(1)</b>

    /**
     * Returns additional config to be applied to the test. This
     * will override any existing config (including in application.properties),
     * however existing config will be merged with this (i.e. application.properties
     * config will still take effect, unless a specific config key has been overridden).
     *
     * Here we are changing the Jakarta REST root path.
     */
    @Override
    public Map&lt;String, String&gt; getConfigOverrides() {
        return Collections.singletonMap("quarkus.resteasy.path","/api");
    }

    /**
     * Returns enabled alternatives.
     *
     * This has the same effect as setting the 'quarkus.arc.selected-alternatives' config key,
     * however it may be more convenient.
     */
    @Override
    public Set&lt;Class&lt;?&gt;&gt; getEnabledAlternatives() {
        return Collections.singleton(MockGreetingService.class);
    }

    /**
     * Allows the default config profile to be overridden. This basically just sets the quarkus.test.profile system
     * property before the test is run.
     *
     * Here we are setting the profile to test-mocked
     */
    @Override
    public String getConfigProfile() {
        return "test-mocked";
    }

    /**
     * Additional {@link QuarkusTestResourceLifecycleManager} classes (along with their init params) to be used from this
     * specific test profile.
     *
     * If this method is not overridden, then only the {@link QuarkusTestResourceLifecycleManager} classes enabled via the {@link io.quarkus.test.common.QuarkusTestResource} class
     * annotation will be used for the tests using this profile (which is the same behavior as tests that don't use a profile at all).
     */
    @Override
    public List&lt;TestResourceEntry&gt; testResources() {
        return Collections.singletonList(new TestResourceEntry(CustomWireMockServerManager.class));
    }


    /**
     * If this returns true then only the test resources returned from {@link #testResources()} will be started,
     * global annotated test resources will be ignored.
     */
    @Override
    public boolean disableGlobalTestResources() {
        return false;
    }

    /**
     * The tags this profile is associated with.
     * When the {@code quarkus.test.profile.tags} System property is set (its value is a comma separated list of strings)
     * then Quarkus will only execute tests that are annotated with a {@code @TestProfile} that has at least one of the
     * supplied (via the aforementioned system property) tags.
     */
    @Override
    public Set&lt;String&gt; tags() {
        return Collections.emptySet();
    }

    /**
     * The command line parameters that are passed to the main method on startup.
     */
    @Override
    public String[] commandLineParameters() {
        return new String[0];
    }

    /**
     * If the main method should be run.
     */
    @Override
    public boolean runMainMethod() {
        return false;
    }

    /**
     * If this method returns true then all {@code StartupEvent} and {@code ShutdownEvent} observers declared on application
     * beans should be disabled.
     */
    @Override
    public boolean disableApplicationLifecycleObservers() {
        return false;
    }

    @Produces <i class="conum" data-value="2"></i><b>(2)</b>
    public ExternalService mockExternalService() {
       return new ExternalService("mock");
    }
}</code></pre>
</div>
</div>
<div class="colist arabic">
<table>
<tr>
<td><i class="conum" data-value="1"></i><b>1</b></td>
<td>All these methods have default implementations so just override the ones you need to override.</td>
</tr>
<tr>
<td><i class="conum" data-value="2"></i><b>2</b></td>
<td>If a test profile implementation declares a CDI bean (via producer method/field or nested static class) then this bean is only taken into account if the test profile is used, i.e. it&#8217;s ignored for any other test profile.</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>Now we have defined our profile we need to include it on our test class.
We do this by annotating the test class with <code>@TestProfile(MockGreetingProfile.class)</code>.</p>
</div>
<div class="paragraph">
<p>All the test profile configuration is stored in a single class, which makes it easy to tell if the previous test ran with the
same configuration.</p>
</div>
</div>
<div class="sect2">
<h3 id="running-specific-tests"><a class="anchor" href="#running-specific-tests"></a>10.2. Running specific tests</h3>
<div class="paragraph">
<p>Quarkus provides the ability to limit test execution to tests with specific  <code>@TestProfile</code> annotations.
This works by leveraging the <code>tags</code> method of <code>QuarkusTestProfile</code> in conjunction with the <code>quarkus.test.profile.tags</code> system property.</p>
</div>
<div class="paragraph">
<p>Essentially, any <code>QuarkusTestProfile</code> with at least one matching tag matching the value of <code>quarkus.test.profile.tags</code> will be considered active
and all the tests annotated with <code>@TestProfile</code> of active profiles, will be run while the rest will be skipped.
This is best shown in the following example.</p>
</div>
<div class="paragraph">
<p>First let&#8217;s define a few <code>QuarkusTestProfile</code> implementations like so:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-java hljs" data-lang="java">public class Profiles {

    public static class NoTags implements QuarkusTestProfile {

    }

    public static class SingleTag implements QuarkusTestProfile {
        @Override
        public Set&lt;String&gt; tags() {
            return Set.of("test1");
        }
    }

    public static class MultipleTags implements QuarkusTestProfile {
        @Override
        public Set&lt;String&gt; tags() {
            return Set.of("test1", "test2");
        }
    }
}</code></pre>
</div>
</div>
<div class="paragraph">
<p>Now let&#8217;s assume that we have the following tests:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-java hljs" data-lang="java">@QuarkusTest
public class NoQuarkusProfileTest {

    @Test
    public void test() {
        // test something
    }
}</code></pre>
</div>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-java hljs" data-lang="java">@QuarkusTest
@TestProfile(Profiles.NoTags.class)
public class NoTagsTest {

    @Test
    public void test() {
        // test something
    }
}</code></pre>
</div>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-java hljs" data-lang="java">@QuarkusTest
@TestProfile(Profiles.SingleTag.class)
public class SingleTagTest {

    @Test
    public void test() {
        // test something
    }
}</code></pre>
</div>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-java hljs" data-lang="java">@QuarkusTest
@TestProfile(Profiles.MultipleTags.class)
public class MultipleTagsTest {

    @Test
    public void test() {
        // test something
    }
}</code></pre>
</div>
</div>
<div class="paragraph">
<p>Let&#8217;s consider the following scenarios:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><code>quarkus.test.profile.tags</code> is not set: All tests will be executed.</p>
</li>
<li>
<p><code>quarkus.test.profile.tags=foo</code>: In this case none of tests will be executed because none of the tags defined on the <code>QuarkusTestProfile</code> implementations match the value of <code>quarkus.test.profile.tags</code>.
Note that <code>NoQuarkusProfileTest</code> is not executed either because it is not annotated with <code>@TestProfile</code>.</p>
</li>
<li>
<p><code>quarkus.test.profile.tags=test1</code>: In this case <code>SingleTagTest</code> and <code>MultipleTagsTest</code> will be run because the tags on their respective <code>QuarkusTestProfile</code> implementations
match the value of <code>quarkus.test.profile.tags</code>.</p>
</li>
<li>
<p><code>quarkus.test.profile.tags=test1,test3</code>: This case results in the same tests being executed as the previous case.</p>
</li>
<li>
<p><code>quarkus.test.profile.tags=test2,test3</code>: In this case only <code>MultipleTagsTest</code> will be run because <code>MultipleTagsTest</code> is the only <code>QuarkusTestProfile</code> implementation whose <code>tags</code> method
matches the value of <code>quarkus.test.profile.tags</code>.</p>
</li>
</ul>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="mock-support"><a class="anchor" href="#mock-support"></a>11. Mock Support</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Quarkus supports the use of mock objects using two different approaches. You can either use CDI alternatives to
mock out a bean for all test classes, or use <code>QuarkusMock</code> to mock out beans on a per test basis.</p>
</div>
<div class="sect2">
<h3 id="cdi-alternative-mechanism"><a class="anchor" href="#cdi-alternative-mechanism"></a>11.1. CDI <code>@Alternative</code> mechanism.</h3>
<div class="paragraph">
<p>To use this simply override the bean you wish to mock with a class in the <code>src/test/java</code> directory, and put the <code>@Alternative</code> and <code>@Priority(1)</code> annotations on the bean.
Alternatively, a convenient <code>io.quarkus.test.Mock</code> stereotype annotation could be used.
This built-in stereotype declares <code>@Alternative</code>, <code>@Priority(1)</code> and <code>@Dependent</code>.
For example if I have the following service:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-java hljs" data-lang="java">@ApplicationScoped
public class ExternalService {

    public String service() {
        return "external";
    }

}</code></pre>
</div>
</div>
<div class="paragraph">
<p>I could mock it with the following class in <code>src/test/java</code>:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-java hljs" data-lang="java">@Mock
@ApplicationScoped <i class="conum" data-value="1"></i><b>(1)</b>
public class MockExternalService extends ExternalService {

    @Override
    public String service() {
        return "mock";
    }
}</code></pre>
</div>
</div>
<div class="colist arabic">
<table>
<tr>
<td><i class="conum" data-value="1"></i><b>1</b></td>
<td>Overrides the <code>@Dependent</code> scope declared on the <code>@Mock</code> stereotype.</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>It is important that the alternative be present in the <code>src/test/java</code> directory rather than <code>src/main/java</code>, as otherwise
it will take effect all the time, not just when testing.</p>
</div>
<div class="paragraph">
<p>Note that at present this approach does not work with native image testing, as this would require the test alternatives
to be baked into the native image.</p>
</div>
</div>
<div class="sect2">
<h3 id="quarkus_mock"><a class="anchor" href="#quarkus_mock"></a>11.2. Mocking using QuarkusMock</h3>
<div class="paragraph">
<p>The <code>io.quarkus.test.junit.QuarkusMock</code> class can be used to temporarily mock out any normal scoped
bean. If you use this method in a <code>@BeforeAll</code> method the mock will take effect for all tests on the current class,
while if you use this in a test method the mock will only take effect for the duration of the current test.</p>
</div>
<div class="paragraph">
<p>This method can be used for any normal scoped CDI bean (e.g. <code>@ApplicationScoped</code>, <code>@RequestScoped</code> etc, basically
every scope except <code>@Singleton</code> and <code>@Dependent</code>).</p>
</div>
<div class="paragraph">
<p>An example usage could look like:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-java hljs" data-lang="java">@QuarkusTest
public class MockTestCase {

    @Inject
    MockableBean1 mockableBean1;

    @Inject
    MockableBean2 mockableBean2;

    @BeforeAll
    public static void setup() {
        MockableBean1 mock = Mockito.mock(MockableBean1.class);
        Mockito.when(mock.greet("Stuart")).thenReturn("A mock for Stuart");
        QuarkusMock.installMockForType(mock, MockableBean1.class);  <i class="conum" data-value="1"></i><b>(1)</b>
    }

    @Test
    public void testBeforeAll() {
        Assertions.assertEquals("A mock for Stuart", mockableBean1.greet("Stuart"));
        Assertions.assertEquals("Hello Stuart", mockableBean2.greet("Stuart"));
    }

    @Test
    public void testPerTestMock() {
        QuarkusMock.installMockForInstance(new BonjourGreeter(), mockableBean2); <i class="conum" data-value="2"></i><b>(2)</b>
        Assertions.assertEquals("A mock for Stuart", mockableBean1.greet("Stuart"));
        Assertions.assertEquals("Bonjour Stuart", mockableBean2.greet("Stuart"));
    }

    @ApplicationScoped
    public static class MockableBean1 {

        public String greet(String name) {
            return "Hello " + name;
        }
    }

    @ApplicationScoped
    public static class MockableBean2 {

        public String greet(String name) {
            return "Hello " + name;
        }
    }

    public static class BonjourGreeter extends MockableBean2 {
        @Override
        public String greet(String name) {
            return "Bonjour " + name;
        }
    }
}</code></pre>
</div>
</div>
<div class="colist arabic">
<table>
<tr>
<td><i class="conum" data-value="1"></i><b>1</b></td>
<td>As the injected instance is not available here we use <code>installMockForType</code>, this mock is used for both test methods</td>
</tr>
<tr>
<td><i class="conum" data-value="2"></i><b>2</b></td>
<td>We use <code>installMockForInstance</code> to replace the injected bean, this takes effect for the duration of the test method.</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>Note that there is no dependency on Mockito, you can use any mocking library you like, or even manually override the
objects to provide the behaviour you require.</p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
Using <code>@Inject</code> will get you a CDI proxy to the mock instance you install, which is not suitable for passing to methods such as <code>Mockito.verify</code>
which want the mock instance itself.
So if you need to call methods such as <code>verify</code> you should hang on to the mock instance in your test, or use <code>@io.quarkus.test.InjectMock</code>.
</td>
</tr>
</table>
</div>
<div class="sect3">
<h4 id="further-simplification-with-injectmock"><a class="anchor" href="#further-simplification-with-injectmock"></a>11.2.1. Further simplification with <code>@InjectMock</code></h4>
<div class="paragraph">
<p>Building on the features provided by <code>QuarkusMock</code>, Quarkus also allows users to effortlessly take advantage of <a href="https://site.mockito.org/">Mockito</a> for mocking the beans supported by <code>QuarkusMock</code>.</p>
</div>
<div class="admonitionblock important">
<table>
<tr>
<td class="icon">
<i class="fa icon-important" title="Important"></i>
</td>
<td class="content">
<div class="paragraph">
<p>This functionality is available with the <code>@io.quarkus.test.InjectMock</code> annotation <strong>only if</strong> the <code>quarkus-junit5-mockito</code> dependency is present:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-xml hljs" data-lang="xml">&lt;dependency&gt;
    &lt;groupId&gt;io.quarkus&lt;/groupId&gt;
    &lt;artifactId&gt;quarkus-junit5-mockito&lt;/artifactId&gt;
    &lt;scope&gt;test&lt;/scope&gt;
&lt;/dependency&gt;</code></pre>
</div>
</div>
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>Using <code>@InjectMock</code>, the previous example could be written as follows:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-java hljs" data-lang="java">@QuarkusTest
public class MockTestCase {

    @InjectMock
    MockableBean1 mockableBean1; <i class="conum" data-value="1"></i><b>(1)</b>

    @InjectMock
    MockableBean2 mockableBean2;

    @BeforeEach
    public void setup() {
        Mockito.when(mockableBean1.greet("Stuart")).thenReturn("A mock for Stuart"); <i class="conum" data-value="2"></i><b>(2)</b>
    }

    @Test
    public void firstTest() {
        Assertions.assertEquals("A mock for Stuart", mockableBean1.greet("Stuart"));
        Assertions.assertEquals(null, mockableBean2.greet("Stuart")); <i class="conum" data-value="3"></i><b>(3)</b>
    }

    @Test
    public void secondTest() {
        Mockito.when(mockableBean2.greet("Stuart")).thenReturn("Bonjour Stuart"); <i class="conum" data-value="4"></i><b>(4)</b>
        Assertions.assertEquals("A mock for Stuart", mockableBean1.greet("Stuart"));
        Assertions.assertEquals("Bonjour Stuart", mockableBean2.greet("Stuart"));
    }

    @ApplicationScoped
    public static class MockableBean1 {

        public String greet(String name) {
            return "Hello " + name;
        }
    }

    @ApplicationScoped
    public static class MockableBean2 {

        public String greet(String name) {
            return "Hello " + name;
        }
    }
}</code></pre>
</div>
</div>
<div class="colist arabic">
<table>
<tr>
<td><i class="conum" data-value="1"></i><b>1</b></td>
<td><code>@InjectMock</code> results in a Mockito mock being created, which is then available in test methods of the test class (other test classes are <strong>not</strong> affected by this)</td>
</tr>
<tr>
<td><i class="conum" data-value="2"></i><b>2</b></td>
<td>The <code>mockableBean1</code> is configured here for every test method of the class</td>
</tr>
<tr>
<td><i class="conum" data-value="3"></i><b>3</b></td>
<td>Since the <code>mockableBean2</code> mock has not been configured, it will return the default Mockito response.</td>
</tr>
<tr>
<td><i class="conum" data-value="4"></i><b>4</b></td>
<td>In this test the <code>mockableBean2</code> is configured, so it returns the configured response.</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>Although the test above is good for showing the capabilities of <code>@InjectMock</code>, it is not a good representation of a real test. In a real test
we would most likely configure a mock, but then test a bean that uses the mocked bean.
Here is an example:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-java hljs" data-lang="java">@QuarkusTest
public class MockGreetingServiceTest {

    @InjectMock
    GreetingService greetingService;

    @Test
    public void testGreeting() {
        when(greetingService.greet()).thenReturn("hi");
        given()
                .when().get("/greeting")
                .then()
                .statusCode(200)
                .body(is("hi")); <i class="conum" data-value="1"></i><b>(1)</b>
    }

    @Path("greeting")
    public static class GreetingResource {

        final GreetingService greetingService;

        public GreetingResource(GreetingService greetingService) {
            this.greetingService = greetingService;
        }

        @GET
        @Produces("text/plain")
        public String greet() {
            return greetingService.greet();
        }
    }

    @ApplicationScoped
    public static class GreetingService {
        public String greet(){
            return "hello";
        }
    }
}</code></pre>
</div>
</div>
<div class="colist arabic">
<table>
<tr>
<td><i class="conum" data-value="1"></i><b>1</b></td>
<td>Since we configured <code>greetingService</code> as a mock, the <code>GreetingResource</code> which uses the <code>GreetingService</code> bean, we get the mocked response instead of the response of the regular <code>GreetingService</code> bean</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>By default, the <code>@InjectMock</code> annotation can be used for any normal CDI scoped bean (e.g. <code>@ApplicationScoped</code>, <code>@RequestScoped</code>).
Mocking <code>@Singleton</code> beans can be performed by adding the <code>@MockitoConfig(convertScopes = true)</code> annotation.
This will convert the <code>@Singleton</code> bean to an <code>@ApplicationScoped</code> bean for the test.</p>
</div>
<div class="paragraph">
<p>This is considered an advanced option and should only be performed if you fully understand the consequences of changing the scope of the bean.</p>
</div>
</div>
<div class="sect3">
<h4 id="using-spies-instead-of-mocks-with-injectspy"><a class="anchor" href="#using-spies-instead-of-mocks-with-injectspy"></a>11.2.2. Using Spies instead of Mocks with <code>@InjectSpy</code></h4>
<div class="paragraph">
<p>Building on the features provided by <code>InjectMock</code>, Quarkus also allows users to effortlessly take advantage of <a href="https://site.mockito.org/">Mockito</a> for spying on the beans supported by <code>QuarkusMock</code>.
This functionality is available via the <code>@io.quarkus.test.junit.mockito.InjectSpy</code> annotation which is available in the <code>quarkus-junit5-mockito</code> dependency.</p>
</div>
<div class="paragraph">
<p>Sometimes when testing you only need to verify that a certain logical path was taken, or you only need to stub out a single method&#8217;s response while still executing the rest of the methods on the Spied clone. Please see <a href="https://javadoc.io/doc/org.mockito/mockito-core/latest/org/mockito/Mockito.html#13">Mockito documentation - Spying on real objects</a> for more details on Spy partial mocks.
In either of those situations a Spy of the object is preferable.
Using <code>@InjectSpy</code>, the previous example could be written as follows:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-java hljs" data-lang="java">@QuarkusTest
public class SpyGreetingServiceTest {

    @InjectSpy
    GreetingService greetingService;

    @Test
    public void testDefaultGreeting() {
        given()
                .when().get("/greeting")
                .then()
                .statusCode(200)
                .body(is("hello"));

        Mockito.verify(greetingService, Mockito.times(1)).greet(); <i class="conum" data-value="1"></i><b>(1)</b>
    }

    @Test
    public void testOverrideGreeting() {
        doReturn("hi").when(greetingService).greet(); <i class="conum" data-value="2"></i><b>(2)</b>
        given()
                .when().get("/greeting")
                .then()
                .statusCode(200)
                .body(is("hi")); <i class="conum" data-value="3"></i><b>(3)</b>
    }

    @Path("greeting")
    public static class GreetingResource {

        final GreetingService greetingService;

        public GreetingResource(GreetingService greetingService) {
            this.greetingService = greetingService;
        }

        @GET
        @Produces("text/plain")
        public String greet() {
            return greetingService.greet();
        }
    }

    @ApplicationScoped
    public static class GreetingService {
        public String greet(){
            return "hello";
        }
    }
}</code></pre>
</div>
</div>
<div class="colist arabic">
<table>
<tr>
<td><i class="conum" data-value="1"></i><b>1</b></td>
<td>Instead of overriding the value, we just want to ensure that the greet method on our <code>GreetingService</code> was called by this test.</td>
</tr>
<tr>
<td><i class="conum" data-value="2"></i><b>2</b></td>
<td>Here we are telling the Spy to return "hi" instead of "hello". When the <code>GreetingResource</code> requests the greeting from <code>GreetingService</code> we get the mocked response instead of the response of the regular <code>GreetingService</code> bean. Sometimes it&#8217;s impossible or impractical to use <code>when(Object)</code> for stubbing spies. Therefore when using spies please consider <code>doReturn|Answer|Throw()</code> family of methods for stubbing.</td>
</tr>
<tr>
<td><i class="conum" data-value="3"></i><b>3</b></td>
<td>We are verifying that we get the mocked response from the Spy.</td>
</tr>
</table>
</div>
</div>
<div class="sect3">
<h4 id="using-injectmock-with-restclient"><a class="anchor" href="#using-injectmock-with-restclient"></a>11.2.3. Using <code>@InjectMock</code> with <code>@RestClient</code></h4>
<div class="paragraph">
<p>The <code>@RegisterRestClient</code> registers the implementation of the REST Client at runtime, and because the bean needs to be a regular scope, you have to annotate your interface with <code>@ApplicationScoped</code>.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-java hljs" data-lang="java">@Path("/")
@ApplicationScoped
@RegisterRestClient
public interface GreetingService {

    @GET
    @Path("/hello")
    @Produces(MediaType.TEXT_PLAIN)
    String hello();
}</code></pre>
</div>
</div>
<div class="paragraph">
<p>For the test class here is an example:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-java hljs" data-lang="java">@QuarkusTest
public class GreetingResourceTest {

    @InjectMock
    @RestClient <i class="conum" data-value="1"></i><b>(1)</b>
    GreetingService greetingService;

    @Test
    public void testHelloEndpoint() {
        Mockito.when(greetingService.hello()).thenReturn("hello from mockito");

        given()
          .when().get("/hello")
          .then()
             .statusCode(200)
             .body(is("hello from mockito"));
    }

}</code></pre>
</div>
</div>
<div class="colist arabic">
<table>
<tr>
<td><i class="conum" data-value="1"></i><b>1</b></td>
<td>Indicate that this injection point is meant to use an instance of <code>RestClient</code>.</td>
</tr>
</table>
</div>
</div>
</div>
<div class="sect2">
<h3 id="mocking-with-panache"><a class="anchor" href="#mocking-with-panache"></a>11.3. Mocking with Panache</h3>
<div class="paragraph">
<p>If you are using the <code>quarkus-hibernate-orm-panache</code> or <code>quarkus-mongodb-panache</code> extensions, check out the <a href="hibernate-orm-panache#mocking">Hibernate ORM with Panache Mocking</a> and <a href="mongodb-panache#mocking">MongoDB with Panache Mocking</a> documentation for the easiest way to mock your data access.</p>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="testing-security"><a class="anchor" href="#testing-security"></a>12. Testing Security</h2>
<div class="sectionbody">
<div class="paragraph">
<p>If you are using Quarkus Security, check out the <a href="security-testing">Testing Security</a> section for information on how to easily test security features of the application.</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="quarkus-test-resource"><a class="anchor" href="#quarkus-test-resource"></a>13. Starting services before the Quarkus application starts</h2>
<div class="sectionbody">
<div class="paragraph">
<p>A very common need is to start some services on which your Quarkus application depends, before the Quarkus application starts for testing. To address this need, Quarkus provides <code>@io.quarkus.test.common.QuarkusTestResource</code> and <code>io.quarkus.test.common.QuarkusTestResourceLifecycleManager</code>.</p>
</div>
<div class="paragraph">
<p>By simply annotating any test in the test suite with <code>@QuarkusTestResource</code>, Quarkus will run the corresponding <code>QuarkusTestResourceLifecycleManager</code> before any tests are run.
A test suite is also free to utilize multiple <code>@QuarkusTestResource</code> annotations, in which case all the corresponding <code>QuarkusTestResourceLifecycleManager</code> objects will be run before the tests.</p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
Test resources are global, even if they are defined on a test class or custom profile, which means they will all be activated for all tests, even though we do
remove duplicates. If you want to only enable a test resource on a single test class or test profile, you can use <code>@QuarkusTestResource(restrictToAnnotatedClass = true)</code>.
</td>
</tr>
</table>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
When using multiple test resources, they can be started concurrently. For that you need to set <code>@QuarkusTestResource(parallel = true)</code>.
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>Quarkus provides a few implementations of <code>QuarkusTestResourceLifecycleManager</code> out of the box (see <code>io.quarkus.test.h2.H2DatabaseTestResource</code> which starts an H2 database, or <code>io.quarkus.test.kubernetes.client.KubernetesServerTestResource</code> which starts a mock Kubernetes API server),
but it is common to create custom implementations to address specific application needs.
Common cases include starting docker containers using <a href="https://www.testcontainers.org/">Testcontainers</a> (an example of which can be found <a href="https://github.com/quarkusio/quarkus/blob/main/test-framework/keycloak-server/src/main/java/io/quarkus/test/keycloak/server/KeycloakTestResourceLifecycleManager.java">here</a>),
or starting a mock HTTP server using <a href="https://wiremock.org/">Wiremock</a> (an example of which can be found <a href="https://github.com/geoand/quarkus-test-demo/blob/main/src/test/java/org/acme/getting/started/country/WiremockCountries.java">here</a>).</p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
As <code>QuarkusTestResourceLifecycleManager</code> is not a CDI Bean, classes that implement it can&#8217;t have fields injected with <code>@Inject</code>. You can use <code>String propertyName = ConfigProvider.getConfig().getValue("quarkus.my-config-group.myconfig", String.class);</code>
</td>
</tr>
</table>
</div>
<div class="sect2">
<h3 id="altering-the-test-class"><a class="anchor" href="#altering-the-test-class"></a>13.1. Altering the test class</h3>
<div class="paragraph">
<p>When creating a custom <code>QuarkusTestResourceLifecycleManager</code> that needs to inject something into the test class, the <code>inject</code> methods can be used.
If for example you have a test like the following:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-java hljs" data-lang="java">@QuarkusTest
@QuarkusTestResource(MyWireMockResource.class)
public class MyTest {

    @InjectWireMock // this a custom annotation you are defining in your own application
    WireMockServer wireMockServer;

    @Test
    public someTest() {
        // control wiremock in some way and perform test
    }
}</code></pre>
</div>
</div>
<div class="paragraph">
<p>Making <code>MyWireMockResource</code> inject the <code>wireMockServer</code> field can be done as shown in the <code>inject</code> method of the following code snippet:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-java hljs" data-lang="java">public class MyWireMockResource implements QuarkusTestResourceLifecycleManager {

    WireMockServer wireMockServer;

    @Override
    public Map&lt;String, String&gt; start() {
        wireMockServer = new WireMockServer(8090);
        wireMockServer.start();

        // create some stubs

        return Map.of("some.service.url", "localhost:" + wireMockServer.port());
    }

    @Override
    public synchronized void stop() {
        if (wireMockServer != null) {
            wireMockServer.stop();
            wireMockServer = null;
        }
    }

    @Override
    public void inject(TestInjector testInjector) {
        testInjector.injectIntoFields(wireMockServer, new TestInjector.AnnotatedAndMatchesType(InjectWireMock.class, WireMockServer.class));
    }
}</code></pre>
</div>
</div>
<div class="admonitionblock important">
<table>
<tr>
<td class="icon">
<i class="fa icon-important" title="Important"></i>
</td>
<td class="content">
It is worth mentioning that this injection into the test class is not under the control of CDI and happens after CDI has performed
any necessary injections into the test class.
</td>
</tr>
</table>
</div>
</div>
<div class="sect2">
<h3 id="annotation-based-test-resources"><a class="anchor" href="#annotation-based-test-resources"></a>13.2. Annotation-based test resources</h3>
<div class="paragraph">
<p>It is possible to write test resources that are enabled and configured using annotations. This is enabled by placing the <code>@QuarkusTestResource</code>
on an annotation which will be used to enable and configure the test resource.</p>
</div>
<div class="paragraph">
<p>For example, this defines the <code>@WithKubernetesTestServer</code> annotation, which you can use on your tests to activate the <code>KubernetesServerTestResource</code>,
but only for the annotated test class. You can also place them on your <code>QuarkusTestProfile</code> test profiles.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-java hljs" data-lang="java">@QuarkusTestResource(KubernetesServerTestResource.class)
@Retention(RetentionPolicy.RUNTIME)
@Target(ElementType.TYPE)
public @interface WithKubernetesTestServer {
    /**
     * Start it with HTTPS
     */
    boolean https() default false;

    /**
     * Start it in CRUD mode
     */
    boolean crud() default true;

    /**
     * Port to use, defaults to any available port
     */
    int port() default 0;
}</code></pre>
</div>
</div>
<div class="paragraph">
<p>The <code>KubernetesServerTestResource</code> class has to implement the
<code>QuarkusTestResourceConfigurableLifecycleManager</code> interface in order to be configured using the previous annotation:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-java hljs" data-lang="java">public class KubernetesServerTestResource
        implements QuarkusTestResourceConfigurableLifecycleManager&lt;WithKubernetesTestServer&gt; {

    private boolean https = false;
    private boolean crud = true;
    private int port = 0;

    @Override
    public void init(WithKubernetesTestServer annotation) {
        this.https = annotation.https();
        this.crud = annotation.crud();
        this.port = annotation.port();
    }

    // ...
}</code></pre>
</div>
</div>
<div class="paragraph">
<p>If you want to make the annotation repeatable, the containing annotation type must be annotated with <code>@QuarkusTestResourceRepeatable</code>.
For example, this would define a repeatable <code>@WithRepeatableTestResource</code> annotation.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-java hljs" data-lang="java">@QuarkusTestResource(KubernetesServerTestResource.class)
@Retention(RetentionPolicy.RUNTIME)
@Target(ElementType.TYPE)
@Repeatable(WithRepeatableTestResource.List.class)
public @interface WithRepeatableTestResource {

    String key() default "";

    @Target(ElementType.TYPE)
    @Retention(RetentionPolicy.RUNTIME)
    @QuarkusTestResourceRepeatable(WithRepeatableTestResource.class)
    @interface List {
        WithRepeatableTestResource[] value();
    }
}</code></pre>
</div>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="hang-detection"><a class="anchor" href="#hang-detection"></a>14. Hang Detection</h2>
<div class="sectionbody">
<div class="paragraph">
<p><code>@QuarkusTest</code> has support for hang detection to help diagnose any unexpected hangs. If no progress is made for a specified
time (i.e. no JUnit callbacks are invoked) then Quarkus will print a stack trace to the console to help diagnose the hang.
The default value for this timeout is 10 minutes.</p>
</div>
<div class="paragraph">
<p>No further action will be taken, and the tests will continue as normal (generally until CI times out), however the printed
stack traces should help diagnose why the build has failed. You can control this timeout with the
<code>quarkus.test.hang-detection-timeout</code> system property (you can also set this in application.properties, but this won&#8217;t
be read until Quarkus has started, so the timeout for Quarkus start will be the default of 10 minutes).</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="native-executable-testing"><a class="anchor" href="#native-executable-testing"></a>15. Native Executable Testing</h2>
<div class="sectionbody">
<div class="paragraph">
<p>It is also possible to test native executables using <code>@QuarkusIntegrationTest</code>. This supports all the features mentioned in this
guide except injecting into tests (and the native executable runs in a separate non-JVM process this is not really possible).</p>
</div>
<div class="paragraph">
<p>This is covered in the <a href="building-native-image">Native Executable Guide</a>.</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="quarkus-integration-test"><a class="anchor" href="#quarkus-integration-test"></a>16. Using <code>@QuarkusIntegrationTest</code></h2>
<div class="sectionbody">
<div class="paragraph">
<p><code>@QuarkusIntegrationTest</code> should be used to launch and test the artifact produced by the Quarkus build, and supports testing a jar (of whichever type), a native image or container image.
Put simply, this means that if the result of a Quarkus build (<code>mvn package</code> or <code>gradle build</code>) is a jar, that jar will be launched as <code>java -jar &#8230;&#8203;</code> and tests run against it.
If instead a native image was built, then the application is launched as <code>./application &#8230;&#8203;</code> and again the tests run against the running application.
Finally, if a container image was created during the build (by including the <code>quarkus-container-image-jib</code>, <code>quarkus-container-image-docker</code>, or <code>container-image-podman</code> extensions and having the
<code>quarkus.container-image.build=true</code> property configured), then a container is created and run (this requires the <code>docker</code> or <code>podman</code> executable being present).</p>
</div>
<div class="paragraph">
<p>This is a black box test that supports the same set features and has the same limitations.</p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
<div class="paragraph">
<p>As a test annotated with <code>@QuarkusIntegrationTest</code> tests the result of the build, it should be run as part of the integration test suite - i.e. by setting <code>-DskipITs=false</code> if using Maven or the <code>quarkusIntTest</code> task if using Gradle.
These tests will <strong>not</strong> work if run in the same phase as <code>@QuarkusTest</code> as Quarkus has not yet created the final artifact.</p>
</div>
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>The <code>pom.xml</code> file contains:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-xml hljs" data-lang="xml">&lt;plugin&gt;
    &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;
    &lt;artifactId&gt;maven-failsafe-plugin&lt;/artifactId&gt;
    &lt;version&gt;${surefire-plugin.version}&lt;/version&gt;
    &lt;executions&gt;
        &lt;execution&gt;
            &lt;goals&gt;
                &lt;goal&gt;integration-test&lt;/goal&gt;
                &lt;goal&gt;verify&lt;/goal&gt;
            &lt;/goals&gt;
            &lt;configuration&gt;
                &lt;systemPropertyVariables&gt;
                    &lt;native.image.path&gt;${project.build.directory}/${project.build.finalName}-runner&lt;/native.image.path&gt;
                    &lt;java.util.logging.manager&gt;org.jboss.logmanager.LogManager&lt;/java.util.logging.manager&gt;
                    &lt;maven.home&gt;${maven.home}&lt;/maven.home&gt;
                &lt;/systemPropertyVariables&gt;
            &lt;/configuration&gt;
        &lt;/execution&gt;
    &lt;/executions&gt;
&lt;/plugin&gt;</code></pre>
</div>
</div>
<div class="paragraph">
<p>This instructs the failsafe-maven-plugin to run integration-test.</p>
</div>
<div class="paragraph">
<p>Then, open the <code>src/test/java/org/acme/quickstart/GreetingResourceIT.java</code>. It contains:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-java hljs" data-lang="java">package org.acme.quickstart;


import io.quarkus.test.junit.QuarkusIntegrationTest;

@QuarkusIntegrationTest <i class="conum" data-value="1"></i><b>(1)</b>
public class GreetingResourceIT extends GreetingResourceTest { <i class="conum" data-value="2"></i><b>(2)</b>

    // Run the same tests

}</code></pre>
</div>
</div>
<div class="colist arabic">
<table>
<tr>
<td><i class="conum" data-value="1"></i><b>1</b></td>
<td>Use another test runner that starts the application from the native file before the tests.
The executable is retrieved by the <em>Failsafe Maven Plugin</em>.</td>
</tr>
<tr>
<td><i class="conum" data-value="2"></i><b>2</b></td>
<td>We extend our previous tests as a convenience, but you can also implement your tests.</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>More information can be found in the <a href="building-native-image#testing-the-native-executable">Testing the native executable Guide</a>.</p>
</div>
<div class="admonitionblock important">
<table>
<tr>
<td class="icon">
<i class="fa icon-important" title="Important"></i>
</td>
<td class="content">
<div class="paragraph">
<p>When the application is tested using <code>@QuarkusIntegrationTest</code> it is launched using the <code>prod</code> configuration profile, but this can be changed using the <code>quarkus.test.integration-test-profile</code> property.</p>
</div>
</td>
</tr>
</table>
</div>
<div class="admonitionblock important">
<table>
<tr>
<td class="icon">
<i class="fa icon-important" title="Important"></i>
</td>
<td class="content">
<div class="paragraph">
<p>While adding test-specific configuration properties using <code>src/test/resources/application.properties</code> (note there&#8217;s <code>test</code>, not <code>main</code>)
is possible for unit tests, it&#8217;s not possible for integration tests.</p>
</div>
</td>
</tr>
</table>
</div>
<div class="sect2">
<h3 id="launching-containers"><a class="anchor" href="#launching-containers"></a>16.1. Launching containers</h3>
<div class="paragraph">
<p>When <code>@QuarkusIntegrationTest</code> results in launching a container (because the application was built with <code>quarkus.container-image.build</code> set to <code>true</code>), the container is launched on a predictable container network. This facilitates writing integration tests that need to launch services to support the application.
This means that <code>@QuarkusIntegrationTest</code> works out of the box with containers launched via <a href="dev-services">Dev Services</a>, but it also means that it enables using <a href="#quarkus-test-resource">QuarkusTestLifecycleManager</a> resources that launch additional containers.
This can be achieved by having your <code>QuarkusTestLifecycleManager</code> implement <code>io.quarkus.test.common.DevServicesContext.ContextAware</code>. A simple example could be the following:</p>
</div>
<div class="paragraph">
<p>The container running the resource to test against, for example PostgreSQL via Testcontainers, is assigned an IP address from the container&#8217;s network.
Use the container&#8217;s "public" IP from its network and the "unmapped" port number to connect to the service.
The Testcontainers library usually return connection strings without respecting the container network, so additional code is needed to provide Quarkus the "correct" connection string using the container&#8217;s IP on the container network and the <em>unmapped</em> port number.</p>
</div>
<div class="paragraph">
<p>The following example illustrates the use with PostgreSQL, but the approach is applicable to all containers.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-java hljs" data-lang="java">import io.quarkus.test.common.DevServicesContext;
import io.quarkus.test.common.QuarkusTestResourceLifecycleManager;

import org.testcontainers.containers.JdbcDatabaseContainer;
import org.testcontainers.containers.PostgreSQLContainer;

import java.util.HashMap;
import java.util.Map;
import java.util.Optional;

public class CustomResource implements QuarkusTestResourceLifecycleManager, DevServicesContext.ContextAware {

    private Optional&lt;String&gt; containerNetworkId;
    private JdbcDatabaseContainer container;

    @Override
    public void setIntegrationTestContext(DevServicesContext context) {
        containerNetworkId = context.containerNetworkId();
    }

    @Override
    public Map&lt;String, String&gt; start() {
        // start a container making sure to call withNetworkMode() with the value of containerNetworkId if present
        container = new PostgreSQLContainer&lt;&gt;("postgres:latest").withLogConsumer(outputFrame -&gt; {});

        // apply the network to the container
        containerNetworkId.ifPresent(container::withNetworkMode);

        // start container before retrieving its URL or other properties
        container.start();

        String jdbcUrl = container.getJdbcUrl();
        if (containerNetworkId.isPresent()) {
            // Replace hostname + port in the provided JDBC URL with the hostname of the Docker container
            // running PostgreSQL and the listening port.
            jdbcUrl = fixJdbcUrl(jdbcUrl);
        }

        // return a map containing the configuration the application needs to use the service
        return ImmutableMap.of(
            "quarkus.datasource.username", container.getUsername(),
            "quarkus.datasource.password", container.getPassword(),
            "quarkus.datasource.jdbc.url", jdbcUrl);
    }

    private String fixJdbcUrl(String jdbcUrl) {
        // Part of the JDBC URL to replace
        String hostPort = container.getHost() + ':' + container.getMappedPort(PostgreSQLContainer.POSTGRESQL_PORT);

        // Host/IP on the container network plus the unmapped port
        String networkHostPort =
            container.getCurrentContainerInfo().getConfig().getHostName()
            + ':'
            + PostgreSQLContainer.POSTGRESQL_PORT;

        return jdbcUrl.replace(hostPort, networkHostPort);
    }

    @Override
    public void stop() {
        // close container
    }
}</code></pre>
</div>
</div>
<div class="paragraph">
<p><code>CustomResource</code> would be activated on a <code>@QuarkusIntegrationTest</code> using <code>@QuarkusTestResource</code> as is described in the corresponding section of this doc.</p>
</div>
</div>
<div class="sect2">
<h3 id="executing-against-a-running-application"><a class="anchor" href="#executing-against-a-running-application"></a>16.2. Executing against a running application</h3>
<div class="paragraph">
<p><code>@QuarkusIntegrationTest</code> supports executing tests against an already running instance of the application. This can be achieved by setting the
<code>quarkus.http.test-host</code> system property when running the tests.</p>
</div>
<div class="paragraph">
<p>An example use of this could be the following Maven command, that forces <code>@QuarkusIntegrationTest</code> to execute against that is accessible at <code><a href="http://1.2.3.4:4321" class="bare">http://1.2.3.4:4321</a></code>:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-bash hljs" data-lang="bash">./mvnw verify -Dquarkus.http.test-host=1.2.3.4 -Dquarkus.http.test-port=4321</code></pre>
</div>
</div>
<div class="paragraph">
<p>To test against a running instance that only accepts SSL/TLS connection (example: <code><a href="https://1.2.3.4:4321" class="bare">https://1.2.3.4:4321</a></code>) set the system property <code>quarkus.http.test-ssl-enabled</code> to <code>true</code>.</p>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="mixing-quarkustest-with-other-type-of-tests"><a class="anchor" href="#mixing-quarkustest-with-other-type-of-tests"></a>17. Mixing <code>@QuarkusTest</code> with other type of tests</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Mixing tests annotated with <code>@QuarkusTest</code> with tests annotated with either <code>@QuarkusDevModeTest</code>, <code>@QuarkusProdModeTest</code> or <code>@QuarkusUnitTest</code>
is not allowed in a single execution run (in a single Maven Surefire Plugin execution, for instance),
while the latter three can coexist.</p>
</div>
<div class="paragraph">
<p>The reason of this restriction is that <code>@QuarkusTest</code> starts a Quarkus server for the whole lifetime of the tests execution run,
thus preventing the other tests to start their own Quarkus server.</p>
</div>
<div class="paragraph">
<p>To alleviate this restriction, the <code>@QuarkusTest</code> annotation defines a JUnit 5 <code>@Tag</code>: <code>io.quarkus.test.junit.QuarkusTest</code>.
You can use this tag to isolate the <code>@QuarkusTest</code> test in a specific execution run, for example with the Maven Surefire Plugin:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-xml hljs" data-lang="xml">&lt;plugin&gt;
    &lt;artifactId&gt;maven-surefire-plugin&lt;/artifactId&gt;
    &lt;version&gt;${surefire-plugin.version}&lt;/version&gt;
    &lt;executions&gt;
        &lt;execution&gt;
            &lt;id&gt;default-test&lt;/id&gt;
            &lt;goals&gt;
                &lt;goal&gt;test&lt;/goal&gt;
            &lt;/goals&gt;
            &lt;configuration&gt;
                &lt;excludedGroups&gt;io.quarkus.test.junit.QuarkusTest&lt;/excludedGroups&gt;
            &lt;/configuration&gt;
        &lt;/execution&gt;
        &lt;execution&gt;
            &lt;id&gt;quarkus-test&lt;/id&gt;
            &lt;goals&gt;
                &lt;goal&gt;test&lt;/goal&gt;
            &lt;/goals&gt;
            &lt;configuration&gt;
                &lt;groups&gt;io.quarkus.test.junit.QuarkusTest&lt;/groups&gt;
            &lt;/configuration&gt;
        &lt;/execution&gt;
    &lt;/executions&gt;
    &lt;configuration&gt;
        &lt;systemProperties&gt;
            &lt;java.util.logging.manager&gt;org.jboss.logmanager.LogManager&lt;/java.util.logging.manager&gt;
        &lt;/systemProperties&gt;
    &lt;/configuration&gt;
&lt;/plugin&gt;</code></pre>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="test-from-ide"><a class="anchor" href="#test-from-ide"></a>18. Running <code>@QuarkusTest</code> from an IDE</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Most IDEs offer the possibility to run a selected class as a JUnit test directly. For this you should set a few properties in the settings of your chosen IDE:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><code>java.util.logging.manager</code> (see <a href="logging">Logging Guide</a>)</p>
</li>
<li>
<p><code>maven.home</code> (only if there are any custom settings in <code>${maven.home}/conf/settings.xml</code>, see <a href="maven-tooling">Maven Guide</a>)</p>
</li>
<li>
<p><code>maven.settings</code> (in case a custom version of <code>settings.xml</code> file should be used for the tests)</p>
</li>
</ul>
</div>
<div class="sect2">
<h3 id="eclipse-separate-jre-definition"><a class="anchor" href="#eclipse-separate-jre-definition"></a>18.1. Eclipse separate JRE definition</h3>
<div class="paragraph">
<p>Copy your current "Installed JRE" definition into a new one, where you will add the properties as a new VM arguments:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><code>-Djava.util.logging.manager=org.jboss.logmanager.LogManager</code></p>
</li>
<li>
<p><code>-Dmaven.home=&lt;path-to-your-maven-installation&gt;</code></p>
</li>
</ul>
</div>
<div class="paragraph">
<p>Use this JRE definition as your Quarkus project targeted runtime and the workaround will be applied to any "Run as JUnit" configuration.</p>
</div>
</div>
<div class="sect2">
<h3 id="vscode-run-with-configuration"><a class="anchor" href="#vscode-run-with-configuration"></a>18.2. VSCode "run with" configuration</h3>
<div class="paragraph">
<p>The <code>settings.json</code> placed in the root of your project directory or in the workspace will need the following workaround in your test configuration:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-json hljs" data-lang="json">"java.test.config": [
    {
        "name": "quarkusConfiguration",
        "vmargs": [ "-Djava.util.logging.manager=org.jboss.logmanager.LogManager -Dmaven.home=&lt;path-to-your-maven-installation&gt; ..." ],
        ...
    },
  ...
]</code></pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="intellij-idea-junit-template"><a class="anchor" href="#intellij-idea-junit-template"></a>18.3. IntelliJ IDEA JUnit template</h3>
<div class="paragraph">
<p>Nothing needed in IntelliJ IDEA because the IDE will pick the <code>systemPropertyVariables</code> from the surefire plugin configuration in <code>pom.xml</code>.</p>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="testing-dev-services"><a class="anchor" href="#testing-dev-services"></a>19. Testing Dev Services</h2>
<div class="sectionbody">
<div class="paragraph">
<p>By default, tests should just work with <a href="dev-services">Dev Services</a>, however from some use cases you may need access to
the automatically configured properties in your tests.</p>
</div>
<div class="paragraph">
<p>You can do this with <code>io.quarkus.test.common.DevServicesContext</code>, which can be injected directly into any <code>@QuarkusTest</code>
or <code>@QuarkusIntegrationTest</code>. All you need to do is define a field of type <code>DevServicesContext</code> and it will be automatically
injected. Using this you can retrieve any properties that have been set. Generally this is used to directly connect to a
resource from the test itself, e.g. to connect to kafka to send messages to the application under test.</p>
</div>
<div class="paragraph">
<p>Injection is also supported into objects that implement <code>io.quarkus.test.common.DevServicesContext.ContextAware</code>. If you
have a field that implements <code>io.quarkus.test.common.DevServicesContext.ContextAware</code> Quarkus will call the
<code>setIntegrationTestContext</code> method to pass the context into this object. This allows client logic to be encapsulated in
a utility class.</p>
</div>
<div class="paragraph">
<p><code>QuarkusTestResourceLifecycleManager</code> implementations can also implement <code>ContextAware</code> to get access to these properties,
which allows you to set up the resource before Quarkus starts (e.g. configure a KeyCloak instance, add data to a database etc).</p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
<div class="paragraph">
<p>For <code>@QuarkusIntegrationTest</code> tests that result in launcher the application as a container, <code>io.quarkus.test.common.DevServicesContext</code> also provides access to the id of the container network on which the application container was launched (via the <code>containerNetworkId</code> method).
This can be used by <code>QuarkusTestResourceLifecycleManager</code> that need to launch additional containers that the application will communicate with.</p>
</div>
</td>
</tr>
</table>
</div>
</div>
</div>
<div class="sect1">
<h2 id="testing-components"><a class="anchor" href="#testing-components"></a>20. Testing Components</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Quarkus provides the <code>QuarkusComponentTestExtension</code>, a JUnit extension to ease the testing of components and mocking of their dependencies.
This JUnit extension is available in the <code>quarkus-junit5-component</code> dependency.</p>
</div>
<div class="paragraph">
<p>Let&#8217;s have a component <code>Foo</code> - a CDI bean with two injection points.</p>
</div>
<div class="listingblock">
<div class="title"><code>Foo</code> component</div>
<div class="content">
<pre class="highlightjs highlight"><code class="language-java hljs" data-lang="java">package org.acme;

import jakarta.enterprise.context.ApplicationScoped;
import jakarta.inject.Inject;

@ApplicationScoped <i class="conum" data-value="1"></i><b>(1)</b>
public class Foo {

    @Inject
    Charlie charlie; <i class="conum" data-value="2"></i><b>(2)</b>

    @ConfigProperty(name = "bar")
    boolean bar; <i class="conum" data-value="3"></i><b>(3)</b>

    public String ping() {
        return bar ? charlie.ping() : "nok";
    }
}</code></pre>
</div>
</div>
<div class="colist arabic">
<table>
<tr>
<td><i class="conum" data-value="1"></i><b>1</b></td>
<td><code>Foo</code> is an <code>@ApplicationScoped</code> CDI bean.</td>
</tr>
<tr>
<td><i class="conum" data-value="2"></i><b>2</b></td>
<td><code>Foo</code> depends on <code>Charlie</code> which declares a method <code>ping()</code>.</td>
</tr>
<tr>
<td><i class="conum" data-value="3"></i><b>3</b></td>
<td><code>Foo</code> depends on the config property <code>bar</code>. <code>@Inject</code> is not needed for this injection point because it also declares a CDI qualifier - this is a Quarkus-specific feature.</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>Then a component test could look like:</p>
</div>
<div class="listingblock">
<div class="title">Simple component test</div>
<div class="content">
<pre class="highlightjs highlight"><code class="language-java hljs" data-lang="java">import static org.junit.jupiter.api.Assertions.assertEquals;

import jakarta.inject.Inject;
import io.quarkus.test.InjectMock;
import io.quarkus.test.component.TestConfigProperty;
import io.quarkus.test.component.QuarkusComponentTest;
import org.junit.jupiter.api.Test;
import org.mockito.Mockito;

@QuarkusComponentTest <i class="conum" data-value="1"></i><b>(1)</b>
@TestConfigProperty(key = "bar", value = "true") <i class="conum" data-value="2"></i><b>(2)</b>
public class FooTest {

    @Inject
    Foo foo; <i class="conum" data-value="3"></i><b>(3)</b>

    @InjectMock
    Charlie charlieMock; <i class="conum" data-value="4"></i><b>(4)</b>

    @Test
    public void testPing() {
        Mockito.when(charlieMock.ping()).thenReturn("OK"); <i class="conum" data-value="5"></i><b>(5)</b>
        assertEquals("OK", foo.ping());
    }
}</code></pre>
</div>
</div>
<div class="colist arabic">
<table>
<tr>
<td><i class="conum" data-value="1"></i><b>1</b></td>
<td>The <code>QuarkusComponentTest</code> annotation registers the JUnit extension.</td>
</tr>
<tr>
<td><i class="conum" data-value="2"></i><b>2</b></td>
<td>Sets a configuration property for the test.</td>
</tr>
<tr>
<td><i class="conum" data-value="3"></i><b>3</b></td>
<td>The test injects the component under the test. The types of all fields annotated with <code>@Inject</code> are considered the component types under test. You can also specify additional component classes via <code>@QuarkusComponentTest#value()</code>. Furthermore, the static nested classes declared on the test class are components too.</td>
</tr>
<tr>
<td><i class="conum" data-value="4"></i><b>4</b></td>
<td>The test also injects a mock for <code>Charlie</code>. <code>Charlie</code> is an <em>unsatisifed</em> dependency for which a synthetic <code>@Singleton</code> bean is registered automatically. The injected reference is an "unconfigured" Mockito mock.</td>
</tr>
<tr>
<td><i class="conum" data-value="5"></i><b>5</b></td>
<td>We can leverage the Mockito API in a test method to configure the behavior.</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>You can find more examples and hints in the <a href="testing-components">testing components reference guide</a>.</p>
</div>
</div>
</div>
    </div>
    <div class="grid__item width-4-12 width-12-12-m tocwrapper">
      <div class="hide-mobile toc"><ul class="sectlevel1">
<li><a href="#prerequisites">1. Prerequisites</a></li>
<li><a href="#architecture">2. Architecture</a></li>
<li><a href="#solution">3. Solution</a></li>
<li><a href="#recap-of-http-based-testing-in-jvm-mode">4. Recap of HTTP based Testing in JVM mode</a>
<ul class="sectlevel2">
<li><a href="#controlling-the-test-port">4.1. Controlling the test port</a></li>
<li><a href="#controlling-http-interaction-timeout">4.2. Controlling HTTP interaction timeout</a></li>
<li><a href="#injecting-a-uri">4.3. Injecting a URI</a></li>
</ul>
</li>
<li><a href="#testing-a-specific-endpoint">5. Testing a specific endpoint</a>
<ul class="sectlevel2">
<li><a href="#testhttpresource">5.1. TestHTTPResource</a></li>
<li><a href="#restassured">5.2. RESTassured</a></li>
</ul>
</li>
<li><a href="#injection-into-tests">6. Injection into tests</a></li>
<li><a href="#applying-interceptors-to-tests">7. Applying Interceptors to Tests</a></li>
<li><a href="#tests-and-transactions">8. Tests and Transactions</a></li>
<li><a href="#enrichment-via-quarkustestcallback">9. Enrichment via QuarkusTest*Callback</a></li>
<li><a href="#testing_different_profiles">10. Testing Different Profiles</a>
<ul class="sectlevel2">
<li><a href="#writing-a-profile">10.1. Writing a Profile</a></li>
<li><a href="#running-specific-tests">10.2. Running specific tests</a></li>
</ul>
</li>
<li><a href="#mock-support">11. Mock Support</a>
<ul class="sectlevel2">
<li><a href="#cdi-alternative-mechanism">11.1. CDI <code>@Alternative</code> mechanism.</a></li>
<li><a href="#quarkus_mock">11.2. Mocking using QuarkusMock</a></li>
<li><a href="#mocking-with-panache">11.3. Mocking with Panache</a></li>
</ul>
</li>
<li><a href="#testing-security">12. Testing Security</a></li>
<li><a href="#quarkus-test-resource">13. Starting services before the Quarkus application starts</a>
<ul class="sectlevel2">
<li><a href="#altering-the-test-class">13.1. Altering the test class</a></li>
<li><a href="#annotation-based-test-resources">13.2. Annotation-based test resources</a></li>
</ul>
</li>
<li><a href="#hang-detection">14. Hang Detection</a></li>
<li><a href="#native-executable-testing">15. Native Executable Testing</a></li>
<li><a href="#quarkus-integration-test">16. Using <code>@QuarkusIntegrationTest</code></a>
<ul class="sectlevel2">
<li><a href="#launching-containers">16.1. Launching containers</a></li>
<li><a href="#executing-against-a-running-application">16.2. Executing against a running application</a></li>
</ul>
</li>
<li><a href="#mixing-quarkustest-with-other-type-of-tests">17. Mixing <code>@QuarkusTest</code> with other type of tests</a></li>
<li><a href="#test-from-ide">18. Running <code>@QuarkusTest</code> from an IDE</a>
<ul class="sectlevel2">
<li><a href="#eclipse-separate-jre-definition">18.1. Eclipse separate JRE definition</a></li>
<li><a href="#vscode-run-with-configuration">18.2. VSCode "run with" configuration</a></li>
<li><a href="#intellij-idea-junit-template">18.3. IntelliJ IDEA JUnit template</a></li>
</ul>
</li>
<li><a href="#testing-dev-services">19. Testing Dev Services</a></li>
<li><a href="#testing-components">20. Testing Components</a></li>
</ul></div>
    </div>
  </div>
  <h2>Related content</h2>
  <div class="grid-wrapper relations">
    <div class="grid__item width-6-12 width-12-12-m">
      <h3>On the same topics</h3>
      <ul class="related-content">
      
        
        <li class="guide"><a href="/version/3.15/guides/continuous-testing">Continuous Testing</a></li>
      
        
        <li class="guide"><a href="/version/3.15/guides/tests-with-coverage">Measuring the coverage of your tests</a></li>
      
        
        <li class="guide"><a href="/version/3.15/guides/testing-components">Testing components</a></li>
      
        
        <li class="guide"><a href="/version/3.15/guides/cli-tooling">Building Quarkus apps with Quarkus Command Line Interface (CLI)</a></li>
      
        
        <li class="guide"><a href="/version/3.15/guides/upx">Compressing native executables using UPX</a></li>
      
        
        <li class="tutorial"><a href="/version/3.15/guides/getting-started">Creating Your First Application</a></li>
      
        
        <li class="howto"><a href="/version/3.15/guides/security-openid-connect-dev-services">Dev Services and Dev UI for OpenID Connect (OIDC)</a></li>
      
        
        <li class="guide"><a href="/version/3.15/guides/amqp-dev-services">Dev Services for AMQP</a></li>
      
        
        <li class="guide"><a href="/version/3.15/guides/apicurio-registry-dev-services">Dev Services for Apicurio Registry</a></li>
      
        
        <li class="guide"><a href="/version/3.15/guides/databases-dev-services">Dev Services for Databases</a></li>
      
        
        <li class="guide"><a href="/version/3.15/guides/elasticsearch-dev-services">Dev Services for Elasticsearch</a></li>
      
        
        <li class="guide"><a href="/version/3.15/guides/infinispan-dev-services">Dev Services for Infinispan</a></li>
      
        
        <li class="guide"><a href="/version/3.15/guides/kafka-dev-services">Dev Services for Kafka</a></li>
      
        
        <li class="guide"><a href="/version/3.15/guides/kubernetes-dev-services">Dev Services for Kubernetes</a></li>
      
        
        <li class="guide"><a href="/version/3.15/guides/pulsar-dev-services">Dev Services for Pulsar</a></li>
      
        
        <li class="guide"><a href="/version/3.15/guides/rabbitmq-dev-services">Dev Services for RabbitMQ</a></li>
      
        
        <li class="guide"><a href="/version/3.15/guides/redis-dev-services">Dev Services for Redis</a></li>
      
        
        <li class="guide"><a href="/version/3.15/guides/dev-services">Dev Services Overview</a></li>
      
        
        <li class="guide"><a href="/version/3.15/guides/dev-ui">Dev UI for extension developers</a></li>
      
        
        <li class="tutorial"><a href="/version/3.15/guides/getting-started-reactive">Getting Started With Reactive</a></li>
      </ul>
    </div>
    </div>
  </div>

  </div>

  <div class="content project-footer">
  <div class="footer-section">
    <div class="logo-wrapper">
      <a href="/"><img src="/assets/images/quarkus_logo_horizontal_rgb_reverse.svg" class="project-logo" title="Quarkus"></a>
    </div>
  </div>
  <div class="grid-wrapper">
    <p class="grid__item width-3-12">Quarkus is open. All dependencies of this project are available under the <a href='https://www.apache.org/licenses/LICENSE-2.0' target='_blank'>Apache Software License 2.0</a> or compatible license.<br /><br />This website was built with <a href='https://jekyllrb.com/' target='_blank'>Jekyll</a>, is hosted on <a href='https://pages.github.com/' target='_blank'>GitHub Pages</a> and is completely open source. If you want to make it better, <a href='https://github.com/quarkusio/quarkusio.github.io' target='_blank'>fork the website</a> and show us what you’ve got.</p>

    
      <div class="width-1-12 project-links">
        <span>Navigation</span>
        <ul class="footer-links">
          
          
            <li><a href="/" target="_blank">Home</a></li>
          
          
          
            <li><a href="/about" target="_blank">About</a></li>
          
          
          
            <li><a href="/blog" target="_blank">Blog</a></li>
          
          
          
            <li><a href="/insights" target="_blank">Podcast</a></li>
          
          
          
            <li><a href="/events" target="_blank">Events</a></li>
          
          
          
            <li><a href="/newsletter" target="_blank">Newsletter</a></li>
          
          
          
            <li><a href="https://github.com/orgs/quarkusio/projects/13/views/1" target="_blank">Roadmap</a></li>
          
          
          
            <li><a href="/security" target="_blank">Security&nbsp;policy</a></li>
          
          
          
            <li><a href="/usage" target="_blank">Usage</a></li>
          
          
          
            <li><a href="/brand" target="_blank">Brand</a></li>
          
          
          
            <li><a href="/desktopwallpapers" target="_blank">Wallpapers</a></li>
          
          
        </ul>
      </div>
    
      <div class="width-1-12 project-links">
        <span>Follow Us</span>
        <ul class="footer-links">
          
          
            <li><a href="https://x.com/quarkusio" target="_blank">X</a></li>
          
          
          
            <li><a rel="me" href="https://fosstodon.org/@quarkusio" target="_blank">Mastodon</a></li>
            
          
          
            <li><a href="https://www.facebook.com/quarkusio" target="_blank">Facebook</a></li>
          
          
          
            <li><a href="https://www.linkedin.com/company/quarkusio/" target="_blank">Linkedin</a></li>
          
          
          
            <li><a href="https://www.youtube.com/channel/UCaW8QG_QoIk_FnjLgr5eOqg" target="_blank">Youtube</a></li>
          
          
          
            <li><a href="https://github.com/quarkusio" target="_blank">GitHub</a></li>
          
          
        </ul>
      </div>
    
      <div class="width-2-12 project-links">
        <span>Get Help</span>
        <ul class="footer-links">
          
          
            <li><a href="/support" target="_blank">Support</a></li>
          
          
          
            <li><a href="/guides" target="_blank">Guides</a></li>
          
          
          
            <li><a href="/faq" target="_blank">FAQ</a></li>
          
          
          
            <li><a href="/get-started" target="_blank">Get Started</a></li>
          
          
          
            <li><a href="https://stackoverflow.com/questions/tagged/quarkus" target="_blank">Stack Overflow</a></li>
          
          
          
            <li><a href="https://github.com/quarkusio/quarkus/discussions" target="_blank">Discussions</a></li>
          
          
          
            <li><a href="https://groups.google.com/forum/#!forum/quarkus-dev" target="_blank">Development mailing list</a></li>
          
          
        </ul>
      </div>
    
      <div class="width-1-12 project-links">
        <span>Languages</span>
        <ul class="footer-links">
          
          
            <li><a href="https://quarkus.io/" target="_blank">English</a></li>
          
          
          
            <li><a href="https://pt.quarkus.io/" target="_blank">Português&nbsp;(Brasileiro)</a></li>
          
          
          
            <li><a href="https://es.quarkus.io/" target="_blank">Español</a></li>
          
          
          
            <li><a href="https://cn.quarkus.io/" target="_blank">简体中文</a></li>
          
          
          
            <li><a href="https://ja.quarkus.io/" target="_blank">日本語</a></li>
          
          
        </ul>
      </div>
    

    
      <div class="width-4-12 more-links">
        <span>Quarkus is made of community projects</span>
        <ul class="footer-links">
          
            <li><a blah href="https://vertx.io/" target="_blank">Eclipse Vert.x</a></li>
          
            <li><a blah href="https://smallrye.io" target="_blank">SmallRye</a></li>
          
            <li><a blah href="https://hibernate.org" target="_blank">Hibernate</a></li>
          
            <li><a blah href="https://netty.io" target="_blank">Netty</a></li>
          
            <li><a blah href="https://resteasy.github.io" target="_blank">RESTEasy</a></li>
          
            <li><a blah href="https://camel.apache.org" target="_blank">Apache Camel</a></li>
          
            <li><a blah href="https://microprofile.io" target="_blank">Eclipse MicroProfile</a></li>
          
            <li><a blah href="https://code.quarkus.io/" target="_blank">And many more...</a></li>
          
        </ul>
      </div>
    
  </div>
</div>

  <div class="content redhat-footer">
  <div class="grid-wrapper">
    <span class="licence">
      <i class="fab fa-creative-commons"></i><i class="fab fa-creative-commons-by"></i> <a href="https://creativecommons.org/licenses/by/3.0/" target="_blank">CC by 3.0</a> | <a href="https://www.redhat.com/en/about/privacy-policy">Privacy Policy</a>
    </span>
    <span class="redhat">
      Sponsored by
    </span>
    <span class="redhat-logo">
      <a href="https://www.redhat.com/" target="_blank"><img src="/assets/images/redhat_reversed.svg"></a>
    </span>
  </div>
</div>


  <script src="https://ajax.googleapis.com/ajax/libs/jquery/2.1.4/jquery.min.js" integrity="sha384-8gBf6Y4YYq7Jx97PIqmTwLPin4hxIzQw5aDmUg/DDhul9fFpbbLcLh3nTIIDJKhx" crossorigin="anonymous"></script>
  <script type="text/javascript" src="/assets/javascript/mobile-nav.js"></script>
  <script type="text/javascript" src="/assets/javascript/scroll-down.js"></script>
  <script src="/assets/javascript/satellite.js" type="text/javascript"></script>
  <script src="/guides/javascript/config.js" type="text/javascript"></script>
  <script src="/assets/javascript/guides-version-dropdown.js" type="text/javascript"></script>
  <script src="/assets/javascript/back-to-top.js" type="text/javascript"></script>
  <script src="/assets/javascript/clipboard.min.js" type="text/javascript"></script>
  <script src="/assets/javascript/copy.js" type="text/javascript"></script>
  <script src="/assets/javascript/asciidoc-tabs.js" type="text/javascript"></script>
  <script src="/assets/javascript/future-date.js" type="text/javascript"></script>
</body>

</html>
