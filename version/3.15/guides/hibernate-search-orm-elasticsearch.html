<!DOCTYPE html>
<html lang="en">







<head>
  <title>Use Hibernate Search with Hibernate ORM and Elasticsearch/OpenSearch - 3.15 - Quarkus</title>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <meta http-equiv="Content-Security-Policy" content="
  connect-src 'self' https://dpm.demdex.net https://adobedc.demdex.net https://route-default-test-mscherer-matamo.apps.ospo-osci.z3b1.p1.openshiftapps.com/ https://search.quarkus.io https://smetrics.redhat.com; 
  script-src 'self' 'unsafe-inline' 'unsafe-eval'
      
      https://assets.adobedtm.com
      js.bizographics.com
      https://www.redhat.com
      https://static.redhat.com
      https://app.requestly.io/
      jsonip.com
      https://ajax.googleapis.com
      https://use.fontawesome.com
      http://www.youtube.com
      http://www.googleadservices.com
      https://googleads.g.doubleclick.net
      https://giscus.app
      https://route-default-test-mscherer-matamo.apps.ospo-osci.z3b1.p1.openshiftapps.com/
      https://app.mailjet.com;

  style-src 'self' https://fonts.googleapis.com https://use.fontawesome.com; 
  img-src 'self' * data:; 
  media-src 'self'; 
  frame-src https://redhat.demdex.net https://www.youtube.com https://embed.restream.io https://app.mailjet.com http://xy0p2.mjt.lu https://mj.quarkus.io https://giscus.app; 
  base-uri 'none'; 
  object-src 'none'; 
  form-action 'none'; 
  font-src 'self' https://use.fontawesome.com https://fonts.gstatic.com;" />
  <script id="adobe_dtm" src="https://www.redhat.com/dtm.js" type="text/javascript"></script>
  <script src="/assets/javascript/highlight.pack.js" type="text/javascript"></script>
  <META HTTP-EQUIV='X-XSS-Protection' CONTENT="1; mode=block">
  <META HTTP-EQUIV='X-Content-Type-Options' CONTENT="nosniff">
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <meta name="description" content="Quarkus: Supersonic Subatomic Java">
  <meta name="twitter:card" content="summary_large_image">
  <meta name="twitter:site" content="@QuarkusIO"> 
  <meta name="twitter:creator" content="@QuarkusIO">
  <meta property="og:url" content="https://quarkus.io/version/3.15/guides/hibernate-search-orm-elasticsearch" />
  <meta property="og:title" content="Use Hibernate Search with Hibernate ORM and Elasticsearch/OpenSearch - 3.15" />
  <meta property="og:description" content="Quarkus: Supersonic Subatomic Java" />
  <meta property="og:image" content="https://quarkus.io/assets/images/quarkus_card.png" />
  
  <link rel="canonical" href="https://quarkus.io/guides/hibernate-search-orm-elasticsearch">
  <link rel="shortcut icon" type="image/png" href="/favicon.ico" >
  <link rel="stylesheet" href="/guides/stylesheet/config.css" />
  <link rel="stylesheet" href="/assets/css/main.css?2021-07-29" />
  <link rel="stylesheet" href="https://use.fontawesome.com/releases/v6.5.2/css/all.css" crossorigin="anonymous">
  <link rel="alternate" type="application/rss+xml"  href="/feed.xml" title="Quarkus">
  <script src="/assets/javascript/hl.js" type="text/javascript"></script>
  
  
  
  
  <link rel="alternate" hreflang="en" href="https://quarkus.io/version/3.15/guides/hibernate-search-orm-elasticsearch" />
  
  <link rel="alternate" hreflang="pt-br" href="https://pt.quarkus.io/version/3.15/guides/hibernate-search-orm-elasticsearch" />
  
  <link rel="alternate" hreflang="es" href="https://es.quarkus.io/version/3.15/guides/hibernate-search-orm-elasticsearch" />
  
  <link rel="alternate" hreflang="zh" href="https://cn.quarkus.io/version/3.15/guides/hibernate-search-orm-elasticsearch" />
  
  <link rel="alternate" hreflang="ja" href="https://ja.quarkus.io/version/3.15/guides/hibernate-search-orm-elasticsearch" />
  
  <link rel="alternate" hreflang="x-default" href="https://quarkus.io/" />  
  <script src="/assets/javascript/tracking.js"></script>
  
  <script src="/assets/javascript/colormode.js" type="text/javascript"></script>

</head>

<body class="guides">

  
  <div class="nav-wrapper">
  <div class="grid-wrapper">
    <div class="width-12-12">
      <input type="checkbox" id="checkbox" />
      <nav id="main-nav" class="main-nav">
        <div class="logo-wrapper">
           <a href="/"><img src="/assets/images/quarkus_logo_horizontal_rgb_600px_reverse.png" class="project-logo" title="Quarkus"></a>
        </div>
    <label class="nav-toggle" for="checkbox">
      <i class="fa fa-bars"></i>
    </label>
    <ul id="menu" class="menu">
      <li class="dropdown">
        <span href="/about/">Why<i class="fas fa-chevron-down"></i></span>
        <ul class="submenu">
          <li><a href="/about" class="">WHAT IS QUARKUS?</a></li>
          <li><a href="/container-first" class="">CONTAINER FIRST</a></li>
          <li><a href="/continuum" class="">VERSATILITY</a></li>
          <li><a href="/developer-joy" class="">DEVELOPER JOY</a></li>
          <li><a href="/kubernetes-native" class="">KUBERNETES NATIVE</a></li>
          <li><a href="/standards" class="">STANDARDS</a></li>
        </ul>
      </li>
      <li class="dropdown">
        <span href="/learn/">Learn<i class="fas fa-chevron-down"></i></span>
        <ul class="submenu">
          <li><a href="/get-started" class="">GET STARTED</a></li>
          <li><a href="/guides" class="active">DOCUMENTATION</a></li>
          <li><a href="/qtips" class="">"Q" TIP VIDEOS</a></li>          
          <li><a href="/books" class="">BOOKS</a></li>
          </ul>
      </li>
      <li class="dropdown">
        <span href="https://quarkus.io/extensions/">Extensions<i class="fas fa-chevron-down"></i></span>
        <ul class="submenu">
          <!-- Note that quarkus.io is hardcoded here, because it is the only url which supports extensions -->
          <li><a href="https://quarkus.io/extensions/" class="">BROWSE EXTENSIONS</a></li>
          <li><a href="/faq/#what-is-a-quarkus-extension" class="">USE EXTENSIONS</a></li>
          <li><a href="/guides/writing-extensions" class="">CREATE EXTENSIONS</a></li>
          <li><a href="https://hub.quarkiverse.io" class="">SHARE EXTENSIONS</a></li>
        </ul>
      </li>
      <li class="dropdown">
        <span href="/community/">Community<i class="fas fa-chevron-down"></i></span>
        <ul class="submenu">
          <li><a href="/support/" class="">SUPPORT</a></li>
          <li><a href="/blog" class="">BLOG</a></li>
          <li><a href="/discussion" class="">DISCUSSION</a></li>
          <li><a href="/working-groups" class="">WORKING GROUPS</a></li>
          <li><a href="/insights" class="">PODCAST</a></li>
          <li><a href="/events" class="">EVENTS</a></li>
          <li><a href="/newsletter" class="">NEWSLETTER</a></li>
          <li><a href="https://github.com/orgs/quarkusio/projects/13/views/1" class="">ROADMAP</a></li>
          </ul>
      </li>
      <li>
        <a href="https://code.quarkus.io" class="button-cta secondary white">START CODING</a>
      </li>
      <li class="dropdown">
        <span href="/language/"><div class="fas fa-globe langicon"></div><i class="fas fa-chevron-down"></i></span>
        <ul class="submenu">
          <li><a href="https://quarkus.io/version/3.15/guides/hibernate-search-orm-elasticsearch" >OFFICIAL (ENGLISH)</a></li>
          <li><a href="https://pt.quarkus.io/version/3.15/guides/hibernate-search-orm-elasticsearch">PORTUGUÊS (BR)</a></li>
          <li><a href="https://es.quarkus.io/version/3.15/guides/hibernate-search-orm-elasticsearch">ESPAÑOL</a></li>
          <li><a href="https://cn.quarkus.io/version/3.15/guides/hibernate-search-orm-elasticsearch">简体中文</a></li>
          <li><a href="https://ja.quarkus.io/version/3.15/guides/hibernate-search-orm-elasticsearch">日本語</a></li>
          </ul>
      </li>
      <li>
        <span href="#" class="modeswitcher" id='theme-toggle'><i class="fas fa-sun"></i><i class="fas fa-moon"></i><i class="fas fa-cog"></i></span>
      </li>
    </ul>
      </nav>
    </div>
  </div>
</div>

  <div class="content">
    







<section class="full-width-version-bg flexfilterbar guides">
  <div class="guideflexcontainer">
    <div class="docslink">
      <a class="returnlink" href="/version/3.15/guides/"> Back to Guides</a>
    </div>
    <div class="flexlabel">
      <label>By Version</label>
    </div>
    <div class="guidepulldown version">
    <select id="guide-version-dropdown">
      
        
        
        <option value="main" >Main - SNAPSHOT</option>
        
        
        
        <option value="latest" >3.16.2 - Latest</option>
        
        
        
        <option value="3.15" selected>3.15</option>
        
        
        
        <option value="3.8" >3.8</option>
        
        
        
        <option value="3.2" >3.2</option>
        
        
        
        <option value="2.16" >2.16</option>
        
        
        
        <option value="2.13" >2.13</option>
        </select>
    </div>
  </div>
</section>

<div class="guide">
  <div class="grid-wrapper">
    <div class="grid__item width-8-12 width-12-12-m">
      
      <h1 class="text-caps">Use Hibernate Search with Hibernate ORM and Elasticsearch/OpenSearch </h1>
      <div id="preamble">
<div class="sectionbody">
<div class="paragraph">
<p>You have a Hibernate ORM-based application? You want to provide a full-featured full-text search to your users? You&#8217;re at the right place.</p>
</div>
<div class="paragraph">
<p>With this guide, you&#8217;ll learn how to synchronize your entities to an Elasticsearch or OpenSearch cluster in a heartbeat with Hibernate Search.
We will also explore how you can query your Elasticsearch or OpenSearch cluster using the Hibernate Search API.</p>
</div>
<div class="admonitionblock important">
<table>
<tr>
<td class="icon">
<i class="fa icon-important" title="Important"></i>
</td>
<td class="content">
<div class="paragraph">
<p>If you want to index entities that are not Hibernate ORM entities,
see <a href="hibernate-search-standalone-elasticsearch">this dedicated guide</a> instead.</p>
</div>
</td>
</tr>
</table>
</div>
</div>
</div>
<div class="sect1">
<h2 id="prerequisites"><a class="anchor" href="#prerequisites"></a>Prerequisites</h2>
<div class="sectionbody">
<div class="paragraph">
<p>To complete this guide, you need:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Roughly 20 minutes</p>
</li>
<li>
<p>An IDE</p>
</li>
<li>
<p>JDK 17+ installed with <code>JAVA_HOME</code> configured appropriately</p>
</li>
<li>
<p>Apache Maven 3.9.8</p>
</li>
<li>
<p>A working container runtime (Docker or <a href="podman">Podman</a>)</p>
</li>
<li>
<p>Optionally the <a href="cli-tooling">Quarkus CLI</a> if you want to use it</p>
</li>
<li>
<p>Optionally Mandrel or GraalVM installed and <a href="building-native-image#configuring-graalvm">configured appropriately</a> if you want to build a native executable (or Docker if you use a native container build)</p>
</li>
</ul>
</div>
</div>
</div>
<div class="sect1">
<h2 id="architecture"><a class="anchor" href="#architecture"></a>Architecture</h2>
<div class="sectionbody">
<div class="paragraph">
<p>The application described in this guide allows to manage a (simple) library: you manage authors and their books.</p>
</div>
<div class="paragraph">
<p>The entities are stored in a PostgreSQL database and indexed in an Elasticsearch cluster.</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="solution"><a class="anchor" href="#solution"></a>Solution</h2>
<div class="sectionbody">
<div class="paragraph">
<p>We recommend that you follow the instructions in the next sections and create the application step by step.
However, you can go right to the completed example.</p>
</div>
<div class="paragraph">
<p>Clone the Git repository: <code>git clone -b 3.15 <a href="https://github.com/quarkusio/quarkus-quickstarts.git" class="bare">https://github.com/quarkusio/quarkus-quickstarts.git</a></code>, or download an <a href="https://github.com/quarkusio/quarkus-quickstarts/archive/3.15.zip">archive</a>.</p>
</div>
<div class="paragraph">
<p>The solution is located in the <code>hibernate-search-orm-elasticsearch-quickstart</code> <a href="https://github.com/quarkusio/quarkus-quickstarts/tree/3.15/hibernate-search-orm-elasticsearch-quickstart">directory</a>.</p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
<div class="paragraph">
<p>The provided solution contains a few additional elements such as tests and testing infrastructure.</p>
</div>
</td>
</tr>
</table>
</div>
</div>
</div>
<div class="sect1">
<h2 id="creating-the-maven-project"><a class="anchor" href="#creating-the-maven-project"></a>Creating the Maven project</h2>
<div class="sectionbody">
<div class="paragraph">
<p>First, we need a new project. Create a new project with the following command:</p>
</div>
<div class="sidebarblock primary asciidoc-tabs-sync-cli">
<div class="content">
<div class="title">CLI</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-bash hljs" data-lang="bash">quarkus create app org.acme:hibernate-search-orm-elasticsearch-quickstart \
    --extension='hibernate-orm-panache,jdbc-postgresql,hibernate-search-orm-elasticsearch,rest-jackson' \
    --no-code
cd hibernate-search-orm-elasticsearch-quickstart</code></pre>
</div>
</div>
<div class="paragraph">
<p>To create a Gradle project, add the <code>--gradle</code> or <code>--gradle-kotlin-dsl</code> option.</p>
</div>
<div class="paragraph">
<p>For more information about how to install and use the Quarkus CLI, see the <a href="cli-tooling">Quarkus CLI</a> guide.</p>
</div>
</div>
</div>
<div class="sidebarblock secondary asciidoc-tabs-sync-maven">
<div class="content">
<div class="title">Maven</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-bash hljs" data-lang="bash">mvn io.quarkus.platform:quarkus-maven-plugin:3.15.1:create \
    -DprojectGroupId=org.acme \
    -DprojectArtifactId=hibernate-search-orm-elasticsearch-quickstart \
    -Dextensions='hibernate-orm-panache,jdbc-postgresql,hibernate-search-orm-elasticsearch,rest-jackson' \
    -DnoCode
cd hibernate-search-orm-elasticsearch-quickstart</code></pre>
</div>
</div>
<div class="paragraph">
<p>To create a Gradle project, add the <code>-DbuildTool=gradle</code> or <code>-DbuildTool=gradle-kotlin-dsl</code> option.</p>
</div>
</div>
</div>
<div class="paragraph">
<p>For Windows users:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>If using cmd, (don&#8217;t use backward slash <code>\</code> and put everything on the same line)</p>
</li>
<li>
<p>If using Powershell, wrap <code>-D</code> parameters in double quotes e.g. <code>"-DprojectArtifactId=hibernate-search-orm-elasticsearch-quickstart"</code></p>
</li>
</ul>
</div>
<div class="paragraph">
<p>This command generates a Maven structure importing the following extensions:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Hibernate ORM with Panache,</p>
</li>
<li>
<p>the PostgreSQL JDBC driver,</p>
</li>
<li>
<p>Hibernate Search + Elasticsearch,</p>
</li>
<li>
<p>Quarkus REST (formerly RESTEasy Reactive) and Jackson.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>If you already have your Quarkus project configured, you can add the <code>hibernate-search-orm-elasticsearch</code> extension
to your project by running the following command in your project base directory:</p>
</div>
<div class="listingblock primary asciidoc-tabs-sync-cli">
<div class="title">CLI</div>
<div class="content">
<pre class="highlightjs highlight"><code class="language-bash hljs" data-lang="bash">quarkus extension add hibernate-search-orm-elasticsearch</code></pre>
</div>
</div>
<div class="listingblock secondary asciidoc-tabs-sync-maven">
<div class="title">Maven</div>
<div class="content">
<pre class="highlightjs highlight"><code class="language-bash hljs" data-lang="bash">./mvnw quarkus:add-extension -Dextensions='hibernate-search-orm-elasticsearch'</code></pre>
</div>
</div>
<div class="listingblock secondary asciidoc-tabs-sync-gradle">
<div class="title">Gradle</div>
<div class="content">
<pre class="highlightjs highlight"><code class="language-bash hljs" data-lang="bash">./gradlew addExtension --extensions='hibernate-search-orm-elasticsearch'</code></pre>
</div>
</div>
<div class="paragraph">
<p>This will add the following to your <code>pom.xml</code>:</p>
</div>
<div class="listingblock primary asciidoc-tabs-target-sync-cli asciidoc-tabs-target-sync-maven">
<div class="title">pom.xml</div>
<div class="content">
<pre class="highlightjs highlight"><code class="language-xml hljs" data-lang="xml">&lt;dependency&gt;
    &lt;groupId&gt;io.quarkus&lt;/groupId&gt;
    &lt;artifactId&gt;quarkus-hibernate-search-orm-elasticsearch&lt;/artifactId&gt;
&lt;/dependency&gt;</code></pre>
</div>
</div>
<div class="listingblock secondary asciidoc-tabs-target-sync-gradle">
<div class="title">build.gradle</div>
<div class="content">
<pre class="highlightjs highlight"><code class="language-gradle hljs" data-lang="gradle">implementation("io.quarkus:quarkus-hibernate-search-orm-elasticsearch")</code></pre>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="creating-the-bare-entities"><a class="anchor" href="#creating-the-bare-entities"></a>Creating the bare entities</h2>
<div class="sectionbody">
<div class="paragraph">
<p>First, let&#8217;s create our Hibernate ORM entities <code>Book</code> and <code>Author</code> in the <code>model</code> subpackage.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-java hljs" data-lang="java">package org.acme.hibernate.search.elasticsearch.model;

import java.util.List;
import java.util.Objects;

import jakarta.persistence.CascadeType;
import jakarta.persistence.Entity;
import jakarta.persistence.FetchType;
import jakarta.persistence.OneToMany;

import io.quarkus.hibernate.orm.panache.PanacheEntity;

@Entity
public class Author extends PanacheEntity { <i class="conum" data-value="1"></i><b>(1)</b>

    public String firstName;

    public String lastName;

    @OneToMany(mappedBy = "author", cascade = CascadeType.ALL, orphanRemoval = true, fetch = FetchType.EAGER) <i class="conum" data-value="2"></i><b>(2)</b>
    public List&lt;Book&gt; books;

    @Override
    public boolean equals(Object o) {
        if (this == o) {
            return true;
        }
        if (!(o instanceof Author)) {
            return false;
        }

        Author other = (Author) o;

        return Objects.equals(id, other.id);
    }

    @Override
    public int hashCode() {
        return 31;
    }
}</code></pre>
</div>
</div>
<div class="colist arabic">
<table>
<tr>
<td><i class="conum" data-value="1"></i><b>1</b></td>
<td>We are using Hibernate ORM with Panache, it is not mandatory.</td>
</tr>
<tr>
<td><i class="conum" data-value="2"></i><b>2</b></td>
<td>We are loading these elements eagerly so that they are present in the JSON output.
In a real world application, you should probably use a DTO approach.</td>
</tr>
</table>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-java hljs" data-lang="java">package org.acme.hibernate.search.elasticsearch.model;

import java.util.Objects;

import jakarta.persistence.Entity;
import jakarta.persistence.ManyToOne;

import com.fasterxml.jackson.annotation.JsonIgnore;

import io.quarkus.hibernate.orm.panache.PanacheEntity;

@Entity
public class Book extends PanacheEntity {

    public String title;

    @ManyToOne
    @JsonIgnore <i class="conum" data-value="1"></i><b>(1)</b>
    public Author author;

    @Override
    public boolean equals(Object o) {
        if (this == o) {
            return true;
        }
        if (!(o instanceof Book)) {
            return false;
        }

        Book other = (Book) o;

        return Objects.equals(id, other.id);
    }

    @Override
    public int hashCode() {
        return 31;
    }
}</code></pre>
</div>
</div>
<div class="colist arabic">
<table>
<tr>
<td><i class="conum" data-value="1"></i><b>1</b></td>
<td>We mark this property with <code>@JsonIgnore</code> to avoid infinite loops when serializing with Jackson.</td>
</tr>
</table>
</div>
</div>
</div>
<div class="sect1">
<h2 id="initializing-the-rest-service"><a class="anchor" href="#initializing-the-rest-service"></a>Initializing the REST service</h2>
<div class="sectionbody">
<div class="paragraph">
<p>While everything is not yet set up for our REST service, we can initialize it with the standard CRUD operations we will need.</p>
</div>
<div class="paragraph">
<p>Create the <code>org.acme.hibernate.search.elasticsearch.LibraryResource</code> class:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-java hljs" data-lang="java">package org.acme.hibernate.search.elasticsearch;

import java.util.List;
import java.util.Optional;

import jakarta.enterprise.event.Observes;
import jakarta.inject.Inject;
import jakarta.transaction.Transactional;
import jakarta.ws.rs.DELETE;
import jakarta.ws.rs.GET;
import jakarta.ws.rs.POST;
import jakarta.ws.rs.PUT;
import jakarta.ws.rs.Path;
import jakarta.ws.rs.core.MediaType;

import org.acme.hibernate.search.elasticsearch.model.Author;
import org.acme.hibernate.search.elasticsearch.model.Book;
import org.hibernate.search.mapper.orm.session.SearchSession;
import org.jboss.resteasy.reactive.RestForm;
import org.jboss.resteasy.reactive.RestQuery;

import io.quarkus.runtime.StartupEvent;

@Path("/library")
public class LibraryResource {

    @PUT
    @Path("book")
    @Transactional
    @Consumes(MediaType.APPLICATION_FORM_URLENCODED)
    public void addBook(@RestForm String title, @RestForm Long authorId) {
        Author author = Author.findById(authorId);
        if (author == null) {
            return;
        }

        Book book = new Book();
        book.title = title;
        book.author = author;
        book.persist();

        author.books.add(book);
        author.persist();
    }

    @DELETE
    @Path("book/{id}")
    @Transactional
    public void deleteBook(Long id) {
        Book book = Book.findById(id);
        if (book != null) {
            book.author.books.remove(book);
            book.delete();
        }
    }

    @PUT
    @Path("author")
    @Transactional
    @Consumes(MediaType.APPLICATION_FORM_URLENCODED)
    public void addAuthor(@RestForm String firstName, @RestForm String lastName) {
        Author author = new Author();
        author.firstName = firstName;
        author.lastName = lastName;
        author.persist();
    }

    @POST
    @Path("author/{id}")
    @Transactional
    @Consumes(MediaType.APPLICATION_FORM_URLENCODED)
    public void updateAuthor(Long id, @RestForm String firstName, @RestForm String lastName) {
        Author author = Author.findById(id);
        if (author == null) {
            return;
        }
        author.firstName = firstName;
        author.lastName = lastName;
        author.persist();
    }

    @DELETE
    @Path("author/{id}")
    @Transactional
    public void deleteAuthor(Long id) {
        Author author = Author.findById(id);
        if (author != null) {
            author.delete();
        }
    }
}</code></pre>
</div>
</div>
<div class="paragraph">
<p>Nothing out of the ordinary here: it is just good old Hibernate ORM with Panache operations in a REST service.</p>
</div>
<div class="paragraph">
<p>In fact, the interesting part is that we will need to add very few elements to make our full text search application working.</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="using-hibernate-search-annotations"><a class="anchor" href="#using-hibernate-search-annotations"></a>Using Hibernate Search annotations</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Let&#8217;s go back to our entities.</p>
</div>
<div class="paragraph">
<p>Enabling full text search capabilities for them is as simple as adding a few annotations.</p>
</div>
<div class="paragraph">
<p>Let&#8217;s edit the <code>Book</code> entity again to include this content:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-java hljs" data-lang="java">package org.acme.hibernate.search.elasticsearch.model;

import java.util.Objects;

import jakarta.persistence.Entity;
import jakarta.persistence.ManyToOne;

import org.hibernate.search.mapper.pojo.mapping.definition.annotation.FullTextField;
import org.hibernate.search.mapper.pojo.mapping.definition.annotation.Indexed;

import com.fasterxml.jackson.annotation.JsonIgnore;

import io.quarkus.hibernate.orm.panache.PanacheEntity;

@Entity
@Indexed <i class="conum" data-value="1"></i><b>(1)</b>
public class Book extends PanacheEntity {

    @FullTextField(analyzer = "english") <i class="conum" data-value="2"></i><b>(2)</b>
    public String title;

    @ManyToOne
    @JsonIgnore
    public Author author;

    // Preexisting equals()/hashCode() methods
}</code></pre>
</div>
</div>
<div class="colist arabic">
<table>
<tr>
<td><i class="conum" data-value="1"></i><b>1</b></td>
<td>First, let&#8217;s use the <code>@Indexed</code> annotation to register our <code>Book</code> entity as part of the full text index.</td>
</tr>
<tr>
<td><i class="conum" data-value="2"></i><b>2</b></td>
<td>The <code>@FullTextField</code> annotation declares a field in the index specifically tailored for full text search.
In particular, we have to define an analyzer to split and analyze the tokens (~ words) - more on this later.</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>Now that our books are indexed, we can do the same for the authors.</p>
</div>
<div class="paragraph">
<p>Open the <code>Author</code> class and include the content below.</p>
</div>
<div class="paragraph">
<p>Things are quite similar here: we use the <code>@Indexed</code>, <code>@FullTextField</code> and <code>@KeywordField</code> annotations.</p>
</div>
<div class="paragraph">
<p>There are a few differences/additions though. Let&#8217;s check them out.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-java hljs" data-lang="java">package org.acme.hibernate.search.elasticsearch.model;

import java.util.List;
import java.util.Objects;

import jakarta.persistence.CascadeType;
import jakarta.persistence.Entity;
import jakarta.persistence.FetchType;
import jakarta.persistence.OneToMany;

import org.hibernate.search.engine.backend.types.Sortable;
import org.hibernate.search.mapper.pojo.mapping.definition.annotation.FullTextField;
import org.hibernate.search.mapper.pojo.mapping.definition.annotation.Indexed;
import org.hibernate.search.mapper.pojo.mapping.definition.annotation.IndexedEmbedded;
import org.hibernate.search.mapper.pojo.mapping.definition.annotation.KeywordField;

import io.quarkus.hibernate.orm.panache.PanacheEntity;

@Entity
@Indexed
public class Author extends PanacheEntity {

    @FullTextField(analyzer = "name") <i class="conum" data-value="1"></i><b>(1)</b>
    @KeywordField(name = "firstName_sort", sortable = Sortable.YES, normalizer = "sort") <i class="conum" data-value="2"></i><b>(2)</b>
    public String firstName;

    @FullTextField(analyzer = "name")
    @KeywordField(name = "lastName_sort", sortable = Sortable.YES, normalizer = "sort")
    public String lastName;

    @OneToMany(mappedBy = "author", cascade = CascadeType.ALL, orphanRemoval = true, fetch = FetchType.EAGER)
    @IndexedEmbedded <i class="conum" data-value="3"></i><b>(3)</b>
    public List&lt;Book&gt; books;

    // Preexisting equals()/hashCode() methods
}</code></pre>
</div>
</div>
<div class="colist arabic">
<table>
<tr>
<td><i class="conum" data-value="1"></i><b>1</b></td>
<td>We use a <code>@FullTextField</code> similar to what we did for <code>Book</code> but you&#8217;ll notice that the analyzer is different - more on this later.</td>
</tr>
<tr>
<td><i class="conum" data-value="2"></i><b>2</b></td>
<td>As you can see, we can define several fields for the same property.
Here, we define a <code>@KeywordField</code> with a specific name.
The main difference is that a keyword field is not tokenized (the string is kept as one single token) but can be normalized (i.e. filtered) - more on this later.
This field is marked as sortable as our intention is to use it for sorting our authors.</td>
</tr>
<tr>
<td><i class="conum" data-value="3"></i><b>3</b></td>
<td>The purpose of <code>@IndexedEmbedded</code> is to include the <code>Book</code> fields into the <code>Author</code> index.
In this case, we just use the default configuration: all the fields of the associated <code>Book</code> entities are included in the index (i.e. the <code>title</code> field).
The nice thing with <code>@IndexedEmbedded</code> is that it is able to automatically reindex an <code>Author</code> if one of its <code>Book</code>s has been updated thanks to the bidirectional relation.
<code>@IndexedEmbedded</code> also supports nested documents (using the <code>structure = NESTED</code> attribute), but we don&#8217;t need it here.
You can also specify the fields you want to embed in your parent index using the <code>includePaths</code>/<code>excludePaths</code> attributes if you don&#8217;t want them all.</td>
</tr>
</table>
</div>
</div>
</div>
<div class="sect1">
<h2 id="analyzers-and-normalizers"><a class="anchor" href="#analyzers-and-normalizers"></a>Analyzers and normalizers</h2>
<div class="sectionbody">
<div class="sect2">
<h3 id="introduction"><a class="anchor" href="#introduction"></a>Introduction</h3>
<div class="paragraph">
<p>Analysis is a big part of full text search: it defines how text will be processed when indexing or building search queries.</p>
</div>
<div class="paragraph">
<p>The role of analyzers is to split the text into tokens (~ words) and filter them (making it all lowercase and removing accents for instance).</p>
</div>
<div class="paragraph">
<p>Normalizers are a special type of analyzers that keeps the input as a single token.
It is especially useful for sorting or indexing keywords.</p>
</div>
<div class="paragraph">
<p>There are a lot of bundled analyzers, but you can also develop your own for your own specific purposes.</p>
</div>
<div class="paragraph">
<p>You can learn more about the Elasticsearch analysis framework in the <a href="https://www.elastic.co/guide/en/elasticsearch/reference/current/analysis.html">Analysis section of the Elasticsearch documentation</a>.</p>
</div>
</div>
<div class="sect2">
<h3 id="defining-the-analyzers-used"><a class="anchor" href="#defining-the-analyzers-used"></a>Defining the analyzers used</h3>
<div class="paragraph">
<p>When we added the Hibernate Search annotations to our entities, we defined the analyzers and normalizers used.
Typically:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-java hljs" data-lang="java">@FullTextField(analyzer = "english")</code></pre>
</div>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-java hljs" data-lang="java">@FullTextField(analyzer = "name")</code></pre>
</div>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-java hljs" data-lang="java">@KeywordField(name = "lastName_sort", sortable = Sortable.YES, normalizer = "sort")</code></pre>
</div>
</div>
<div class="paragraph">
<p>We use:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>an analyzer called <code>name</code> for person names,</p>
</li>
<li>
<p>an analyzer called <code>english</code> for book titles,</p>
</li>
<li>
<p>a normalizer called <code>sort</code> for our sort fields</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>but we haven&#8217;t set them up yet.</p>
</div>
<div class="paragraph">
<p>Let&#8217;s see how you can do it with Hibernate Search.</p>
</div>
</div>
<div class="sect2">
<h3 id="analysis-configurer"><a class="anchor" href="#analysis-configurer"></a>Setting up the analyzers</h3>
<div class="paragraph">
<p>It is an easy task, we just need to create an implementation of <code>ElasticsearchAnalysisConfigurer</code>
(and configure Quarkus to use it, more on that later).</p>
</div>
<div class="paragraph">
<p>To fulfill our requirements, let&#8217;s create the following implementation:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-java hljs" data-lang="java">package org.acme.hibernate.search.elasticsearch.config;

import org.hibernate.search.backend.elasticsearch.analysis.ElasticsearchAnalysisConfigurationContext;
import org.hibernate.search.backend.elasticsearch.analysis.ElasticsearchAnalysisConfigurer;

import io.quarkus.hibernate.search.orm.elasticsearch.SearchExtension;

@SearchExtension <i class="conum" data-value="1"></i><b>(1)</b>
public class AnalysisConfigurer implements ElasticsearchAnalysisConfigurer {

    @Override
    public void configure(ElasticsearchAnalysisConfigurationContext context) {
        context.analyzer("name").custom() <i class="conum" data-value="2"></i><b>(2)</b>
                .tokenizer("standard")
                .tokenFilters("asciifolding", "lowercase");

        context.analyzer("english").custom() <i class="conum" data-value="3"></i><b>(3)</b>
                .tokenizer("standard")
                .tokenFilters("asciifolding", "lowercase", "porter_stem");

        context.normalizer("sort").custom() <i class="conum" data-value="4"></i><b>(4)</b>
                .tokenFilters("asciifolding", "lowercase");
    }
}</code></pre>
</div>
</div>
<div class="colist arabic">
<table>
<tr>
<td><i class="conum" data-value="1"></i><b>1</b></td>
<td>Annotate the configurer implementation with the <code>@SearchExtension</code> qualifier
to tell Quarkus it should be used in the default persistence unit, for all Elasticsearch indexes (by default).
<div class="paragraph">
<p>The annotation can also target a specific persistence unit (<code>@SearchExtension(persistenceUnit = "nameOfYourPU")</code>),
backend (<code>@SearchExtension(backend = "nameOfYourBackend")</code>), index (<code>@SearchExtension(index = "nameOfYourIndex")</code>),
or a combination of those
(<code>@SearchExtension(persistenceUnit = "nameOfYourPU", backend = "nameOfYourBackend", index = "nameOfYourIndex")</code>).</p>
</div></td>
</tr>
<tr>
<td><i class="conum" data-value="2"></i><b>2</b></td>
<td>This is a simple analyzer separating the words on spaces, removing any non-ASCII characters by its ASCII counterpart (and thus removing accents) and putting everything in lowercase.
It is used in our examples for the author&#8217;s names.</td>
</tr>
<tr>
<td><i class="conum" data-value="3"></i><b>3</b></td>
<td>We are a bit more aggressive with this one and we include some stemming: we will be able to search for <code>mystery</code> and get a result even if the indexed input contains <code>mysteries</code>.
It is definitely too aggressive for person names, but it is perfect for the book titles.</td>
</tr>
<tr>
<td><i class="conum" data-value="4"></i><b>4</b></td>
<td>Here is the normalizer used for sorting. Very similar to our first analyzer, except we don&#8217;t tokenize the words as we want one and only one token.</td>
</tr>
</table>
</div>
<div class="admonitionblock tip">
<table>
<tr>
<td class="icon">
<i class="fa icon-tip" title="Tip"></i>
</td>
<td class="content">
<div class="paragraph">
<p>Alternatively, if for some reason you can&#8217;t or don&#8217;t want to annotate your analysis configurer with <code>@SearchExtension</code>,
you can simply annotate it with <code>@Dependent @Named("myAnalysisConfigurer")</code>
and then reference it from configuration properties:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-properties hljs" data-lang="properties">quarkus.hibernate-search-orm.elasticsearch.analysis.configurer=bean:myAnalysisConfigurer</code></pre>
</div>
</div>
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>For more information about configuring analyzers,
see <a href="https://docs.jboss.org/hibernate/search/7.2/reference/en-US/html_single/#backend-elasticsearch-analysis">this section of the reference documentation</a>.</p>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="adding-full-text-capabilities-to-our-rest-service"><a class="anchor" href="#adding-full-text-capabilities-to-our-rest-service"></a>Adding full text capabilities to our REST service</h2>
<div class="sectionbody">
<div class="paragraph">
<p>In our existing <code>LibraryResource</code>, we just need to inject the <code>SearchSession</code>:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-java hljs" data-lang="java">    @Inject
    SearchSession searchSession; <i class="conum" data-value="1"></i><b>(1)</b></code></pre>
</div>
</div>
<div class="colist arabic">
<table>
<tr>
<td><i class="conum" data-value="1"></i><b>1</b></td>
<td>Inject a Hibernate Search session, which relies on the <code>EntityManager</code> under the hood.
Applications with multiple persistence units can use the CDI qualifier <code>@io.quarkus.hibernate.orm.PersistenceUnit</code>
to select the right one:
see <a href="#multiple-persistence-units-attaching-cdi">CDI integration</a>.</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>And then the magic begins.
When we added annotations to our entities, we made them available for full text search;
we can now query the index using the Hibernate Search DSL,
simply by adding the following method (and a few <code>import</code>s):</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-java hljs" data-lang="java">    @GET
    @Path("author/search")
    @Transactional <i class="conum" data-value="1"></i><b>(1)</b>
    public List&lt;Author&gt; searchAuthors(@RestQuery String pattern, <i class="conum" data-value="2"></i><b>(2)</b>
            @RestQuery Optional&lt;Integer&gt; size) {
        return searchSession.search(Author.class) <i class="conum" data-value="3"></i><b>(3)</b>
                .where(f -&gt;
                    pattern == null || pattern.trim().isEmpty() ?
                        f.matchAll() : <i class="conum" data-value="4"></i><b>(4)</b>
                        f.simpleQueryString()
                                .fields("firstName", "lastName", "books.title").matching(pattern) <i class="conum" data-value="5"></i><b>(5)</b>
                )
                .sort(f -&gt; f.field("lastName_sort").then().field("firstName_sort")) <i class="conum" data-value="6"></i><b>(6)</b>
                .fetchHits(size.orElse(20)); <i class="conum" data-value="7"></i><b>(7)</b>
    }</code></pre>
</div>
</div>
<div class="colist arabic">
<table>
<tr>
<td><i class="conum" data-value="1"></i><b>1</b></td>
<td>Important point: we need a transactional context for this method.</td>
</tr>
<tr>
<td><i class="conum" data-value="2"></i><b>2</b></td>
<td>Use the <code>org.jboss.resteasy.reactive.RestQuery</code> annotation type to avoid repeating the parameter name.</td>
</tr>
<tr>
<td><i class="conum" data-value="3"></i><b>3</b></td>
<td>We indicate that we are searching for <code>Author</code>s.</td>
</tr>
<tr>
<td><i class="conum" data-value="4"></i><b>4</b></td>
<td>We create a predicate: if the pattern is empty, we use a <code>matchAll()</code> predicate.</td>
</tr>
<tr>
<td><i class="conum" data-value="5"></i><b>5</b></td>
<td>If we have a valid pattern, we create a <a href="https://www.elastic.co/guide/en/elasticsearch/reference/current/query-dsl-simple-query-string-query.html"><code>simpleQueryString()</code></a> predicate on the <code>firstName</code>, <code>lastName</code> and <code>books.title</code> fields matching our pattern.</td>
</tr>
<tr>
<td><i class="conum" data-value="6"></i><b>6</b></td>
<td>We define the sort order of our results. Here we sort by last name, then by first name. Note that we use the specific fields we created for sorting.</td>
</tr>
<tr>
<td><i class="conum" data-value="7"></i><b>7</b></td>
<td>Fetch the <code>size</code> top hits, <code>20</code> by default. Obviously, paging is also supported.</td>
</tr>
</table>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
<div class="paragraph">
<p>The Hibernate Search DSL supports a significant subset of the Elasticsearch predicates (match, range, nested, phrase, spatial&#8230;&#8203;).
Feel free to explore the DSL using autocompletion.</p>
</div>
<div class="paragraph">
<p>When that&#8217;s not enough, you can always fall back to
<a href="https://docs.jboss.org/hibernate/search/7.2/reference/en-US/html_single/#search-dsl-predicate-extensions-elasticsearch-from-json">defining a predicate using JSON directly</a>.</p>
</div>
</td>
</tr>
</table>
</div>
</div>
</div>
<div class="sect1">
<h2 id="automatic-import-script"><a class="anchor" href="#automatic-import-script"></a>Automatic data initialization</h2>
<div class="sectionbody">
<div class="paragraph">
<p>For the purpose of this demonstration, let&#8217;s import an initial dataset.</p>
</div>
<div class="paragraph">
<p>Let&#8217;s create a <code>src/main/resources/import.sql</code> file with the following content
(we&#8217;ll reference it in configuration later):</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-sql hljs" data-lang="sql">INSERT INTO author(id, firstname, lastname) VALUES (1, 'John', 'Irving');
INSERT INTO author(id, firstname, lastname) VALUES (2, 'Paul', 'Auster');
ALTER SEQUENCE author_seq RESTART WITH 3;

INSERT INTO book(id, title, author_id) VALUES (1, 'The World According to Garp', 1);
INSERT INTO book(id, title, author_id) VALUES (2, 'The Hotel New Hampshire', 1);
INSERT INTO book(id, title, author_id) VALUES (3, 'The Cider House Rules', 1);
INSERT INTO book(id, title, author_id) VALUES (4, 'A Prayer for Owen Meany', 1);
INSERT INTO book(id, title, author_id) VALUES (5, 'Last Night in Twisted River', 1);
INSERT INTO book(id, title, author_id) VALUES (6, 'In One Person', 1);
INSERT INTO book(id, title, author_id) VALUES (7, 'Avenue of Mysteries', 1);
INSERT INTO book(id, title, author_id) VALUES (8, 'The New York Trilogy', 2);
INSERT INTO book(id, title, author_id) VALUES (9, 'Mr. Vertigo', 2);
INSERT INTO book(id, title, author_id) VALUES (10, 'The Brooklyn Follies', 2);
INSERT INTO book(id, title, author_id) VALUES (11, 'Invisible', 2);
INSERT INTO book(id, title, author_id) VALUES (12, 'Sunset Park', 2);
INSERT INTO book(id, title, author_id) VALUES (13, '4 3 2 1', 2);
ALTER SEQUENCE book_seq RESTART WITH 14;</code></pre>
</div>
</div>
<div class="paragraph">
<p>Because this data above will be inserted into the database without Hibernate Search&#8217;s knowledge,
it won&#8217;t be indexed&#8201;&#8212;&#8201;unlike upcoming updates coming through Hibernate ORM operations,
which will be synchronized automatically to the full text index.</p>
</div>
<div class="paragraph">
<p>In our existing <code>LibraryResource</code>, let&#8217;s add the following content (and a few <code>import</code>s)
to index that initial data:</p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
<div class="paragraph">
<p>If you don&#8217;t import data manually in the database, you don&#8217;t need this:
the mass indexer should then only be used when you change your indexing configuration
(adding a new field, changing an analyzer&#8217;s configuration&#8230;&#8203;)
and you want the new configuration to be applied to your existing data.</p>
</div>
</td>
</tr>
</table>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-java hljs" data-lang="java">    @Inject
    SearchMapping searchMapping; <i class="conum" data-value="1"></i><b>(1)</b>

    void onStart(@Observes StartupEvent ev) throws InterruptedException { <i class="conum" data-value="2"></i><b>(2)</b>
        // only reindex if we imported some content
        if (Book.count() &gt; 0) {
            searchMapping.scope(Object.class) <i class="conum" data-value="3"></i><b>(3)</b>
                    .massIndexer() <i class="conum" data-value="4"></i><b>(4)</b>
                    .startAndWait(); <i class="conum" data-value="5"></i><b>(5)</b>
        }
    }</code></pre>
</div>
</div>
<div class="colist arabic">
<table>
<tr>
<td><i class="conum" data-value="1"></i><b>1</b></td>
<td>Inject a Hibernate Search <code>SearchMapping</code>,
which relies on the <code>EntityManagerFactory</code> under the hood.
Applications with multiple persistence units can use the CDI qualifier <code>@io.quarkus.hibernate.orm.PersistenceUnit</code>
to select the right one:
see <a href="#multiple-persistence-units-attaching-cdi">CDI integration</a>.</td>
</tr>
<tr>
<td><i class="conum" data-value="2"></i><b>2</b></td>
<td>Add a method that will get executed on application startup.</td>
</tr>
<tr>
<td><i class="conum" data-value="3"></i><b>3</b></td>
<td>Create a "search scope" targeting all indexed entity types that extend <code>Object</code>&#8201;&#8212;&#8201;that is, every single indexed entity types (<code>Author</code> and <code>Book</code>).</td>
</tr>
<tr>
<td><i class="conum" data-value="4"></i><b>4</b></td>
<td>Create an instance of Hibernate Search&#8217;s mass indexer, which allows indexing a lot of data efficiently (you can fine tune it for better performance).</td>
</tr>
<tr>
<td><i class="conum" data-value="5"></i><b>5</b></td>
<td>Start the mass indexer and wait for it to finish.</td>
</tr>
</table>
</div>
</div>
</div>
<div class="sect1">
<h2 id="configuring-the-application"><a class="anchor" href="#configuring-the-application"></a>Configuring the application</h2>
<div class="sectionbody">
<div class="paragraph">
<p>As usual, we can configure everything in the Quarkus configuration file, <code>application.properties</code>.</p>
</div>
<div class="paragraph">
<p>Edit <code>src/main/resources/application.properties</code> and inject the following configuration:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-properties hljs" data-lang="properties">quarkus.ssl.native=false <i class="conum" data-value="1"></i><b>(1)</b>

quarkus.datasource.db-kind=postgresql <i class="conum" data-value="2"></i><b>(2)</b>

quarkus.hibernate-orm.sql-load-script=import.sql <i class="conum" data-value="3"></i><b>(3)</b>

quarkus.hibernate-search-orm.elasticsearch.version=8 <i class="conum" data-value="4"></i><b>(4)</b>
quarkus.hibernate-search-orm.indexing.plan.synchronization.strategy=sync <i class="conum" data-value="5"></i><b>(5)</b>

%prod.quarkus.datasource.jdbc.url=jdbc:postgresql://localhost/quarkus_test <i class="conum" data-value="6"></i><b>(6)</b>
%prod.quarkus.datasource.username=quarkus_test
%prod.quarkus.datasource.password=quarkus_test
%prod.quarkus.hibernate-orm.database.generation=create
%prod.quarkus.hibernate-search-orm.elasticsearch.hosts=localhost:9200 <i class="conum" data-value="6"></i><b>(6)</b></code></pre>
</div>
</div>
<div class="colist arabic">
<table>
<tr>
<td><i class="conum" data-value="1"></i><b>1</b></td>
<td>We won&#8217;t use SSL, so we disable it to have a more compact native executable.</td>
</tr>
<tr>
<td><i class="conum" data-value="2"></i><b>2</b></td>
<td>Let&#8217;s create a PostgreSQL datasource.</td>
</tr>
<tr>
<td><i class="conum" data-value="3"></i><b>3</b></td>
<td>We load some initial data on startup (see <a href="#automatic-import-script">Automatic data initialization</a>).</td>
</tr>
<tr>
<td><i class="conum" data-value="4"></i><b>4</b></td>
<td>We need to tell Hibernate Search about the version of Elasticsearch we will use.
It is important because there are significant differences between Elasticsearch mapping syntax depending on the version.
Since the mapping is created at build time to reduce startup time, Hibernate Search cannot connect to the cluster to automatically detect the version.
Note that, for OpenSearch, you need to prefix the version with <code>opensearch:</code>; see <a href="#opensearch">OpenSearch compatibility</a>.</td>
</tr>
<tr>
<td><i class="conum" data-value="5"></i><b>5</b></td>
<td>This means that we wait for the entities to be searchable before considering a write complete.
On a production setup, the <code>write-sync</code> default will provide better performance.
Using <code>sync</code> is especially important when testing as you need the entities to be searchable immediately.</td>
</tr>
<tr>
<td><i class="conum" data-value="6"></i><b>6</b></td>
<td>For development and tests, we rely on <a href="#dev-services">Dev Services</a>,
which means Quarkus will start a PostgreSQL database and Elasticsearch cluster automatically.
In production mode, however,
we will want to start a PostgreSQL database and Elasticsearch cluster manually,
which is why we provide Quarkus with this connection info in the <code>prod</code> profile (<code>%prod.</code> prefix).</td>
</tr>
</table>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
<div class="paragraph">
<p>Because we rely on <a href="#dev-services">Dev Services</a>, the database and Elasticsearch schema
will automatically be dropped and re-created on each application startup
in tests and dev mode
(unless <a href="#quarkus-hibernate-search-orm-elasticsearch_quarkus-hibernate-search-orm-schema-management-strategy"><code>quarkus.hibernate-search-orm.schema-management.strategy</code></a> is set explicitly).</p>
</div>
<div class="paragraph">
<p>If for some reason you cannot use Dev Services,
you will have to set the following properties to get similar behavior:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-properties hljs" data-lang="properties">%dev,test.quarkus.hibernate-orm.database.generation=drop-and-create
%dev,test.quarkus.hibernate-search-orm.schema-management.strategy=drop-and-create</code></pre>
</div>
</div>
<div class="paragraph">
<p>See also <a href="#quarkus-hibernate-search-orm-elasticsearch_quarkus-hibernate-search-orm-schema-management-strategy"><code>quarkus.hibernate-search-orm.schema-management.strategy</code></a>.</p>
</div>
</td>
</tr>
</table>
</div>
<div class="admonitionblock tip">
<table>
<tr>
<td class="icon">
<i class="fa icon-tip" title="Tip"></i>
</td>
<td class="content">
For more information about configuration of the Hibernate Search ORM extension, refer to the <a href="#configuration-reference">Configuration Reference</a>.
</td>
</tr>
</table>
</div>
</div>
</div>
<div class="sect1">
<h2 id="creating-a-frontend"><a class="anchor" href="#creating-a-frontend"></a>Creating a frontend</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Now let&#8217;s add a simple web page to interact with our <code>LibraryResource</code>.
Quarkus automatically serves static resources located under the <code>META-INF/resources</code> directory.
In the <code>src/main/resources/META-INF/resources</code> directory, overwrite the existing <code>index.html</code> file with the content from this
<a href="https://github.com/quarkusio/quarkus-quickstarts/blob/3.15/hibernate-search-orm-elasticsearch-quickstart/src/main/resources/META-INF/resources/index.html">index.html</a> file.</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="time-to-play-with-your-application"><a class="anchor" href="#time-to-play-with-your-application"></a>Time to play with your application</h2>
<div class="sectionbody">
<div class="paragraph">
<p>You can now interact with your REST service:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>start your Quarkus application with:</p>
<div class="listingblock primary asciidoc-tabs-sync-cli">
<div class="title">CLI</div>
<div class="content">
<pre class="highlightjs highlight"><code class="language-bash hljs" data-lang="bash">quarkus dev</code></pre>
</div>
</div>
<div class="listingblock secondary asciidoc-tabs-sync-maven">
<div class="title">Maven</div>
<div class="content">
<pre class="highlightjs highlight"><code class="language-bash hljs" data-lang="bash">./mvnw quarkus:dev</code></pre>
</div>
</div>
<div class="listingblock secondary asciidoc-tabs-sync-gradle">
<div class="title">Gradle</div>
<div class="content">
<pre class="highlightjs highlight"><code class="language-bash hljs" data-lang="bash">./gradlew --console=plain quarkusDev</code></pre>
</div>
</div>
</li>
<li>
<p>open a browser to <code><a href="http://localhost:8080/" class="bare">http://localhost:8080/</a></code></p>
</li>
<li>
<p>search for authors or book titles (we initialized some data for you)</p>
</li>
<li>
<p>create new authors and books and search for them too</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>As you can see, all your updates are automatically synchronized to the Elasticsearch cluster.</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="building-a-native-executable"><a class="anchor" href="#building-a-native-executable"></a>Building a native executable</h2>
<div class="sectionbody">
<div class="paragraph">
<p>You can build a native executable with the usual command:</p>
</div>
<div class="listingblock primary asciidoc-tabs-sync-cli">
<div class="title">CLI</div>
<div class="content">
<pre class="highlightjs highlight"><code class="language-bash hljs" data-lang="bash">quarkus build --native</code></pre>
</div>
</div>
<div class="listingblock secondary asciidoc-tabs-sync-maven">
<div class="title">Maven</div>
<div class="content">
<pre class="highlightjs highlight"><code class="language-bash hljs" data-lang="bash">./mvnw install -Dnative</code></pre>
</div>
</div>
<div class="listingblock secondary asciidoc-tabs-sync-gradle">
<div class="title">Gradle</div>
<div class="content">
<pre class="highlightjs highlight"><code class="language-bash hljs" data-lang="bash">./gradlew build -Dquarkus.native.enabled=true</code></pre>
</div>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
<div class="paragraph">
<p>As usual with native executable compilation, this operation consumes a lot of memory.</p>
</div>
<div class="paragraph">
<p>It might be safer to stop the two containers while you are building the native executable and start them again once you are done.</p>
</div>
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>Running the native executable is as simple as executing <code>./target/hibernate-search-orm-elasticsearch-quickstart-1.0.0-SNAPSHOT-runner</code>.</p>
</div>
<div class="paragraph">
<p>You can then point your browser to <code><a href="http://localhost:8080/" class="bare">http://localhost:8080/</a></code> and use your application.</p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
<div class="paragraph">
<p>The startup is a bit slower than usual: it is mostly due to us dropping and recreating the database schema and the Elasticsearch mapping every time at startup.
We also inject some data and execute the mass indexer.</p>
</div>
<div class="paragraph">
<p>In a real life application, it is obviously something you won&#8217;t do on every startup.</p>
</div>
</td>
</tr>
</table>
</div>
</div>
</div>
<div class="sect1">
<h2 id="dev-services"><a class="anchor" href="#dev-services"></a>Dev Services (Configuration Free Datastores)</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Quarkus supports a feature called <a href="dev-services">Dev Services</a> that allows you to start various containers without any config.</p>
</div>
<div class="paragraph">
<p>In the case of Elasticsearch this support extends to the default Elasticsearch connection.
What that means practically, is that if you have not configured <code>quarkus.hibernate-search-orm.elasticsearch.hosts</code>,
Quarkus will automatically start an Elasticsearch container when running tests or in <a href="dev-mode-differences">dev mode</a>,
and automatically configure the connection.</p>
</div>
<div class="paragraph">
<p>When running the production version of the application, the Elasticsearch connection needs to be configured as normal,
so if you want to include a production database config in your <code>application.properties</code> and continue to use Dev Services
we recommend that you use the <code>%prod.</code> profile to define your Elasticsearch settings.</p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
Dev Services for Elasticsearch is currently unable to start multiple clusters concurrently, so it only works with the default backend of the default persistence unit: named persistence units or named backends won&#8217;t be able to take advantage of Dev Services for Elasticsearch.
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>For more information you can read the <a href="elasticsearch-dev-services">Dev Services for Elasticsearch guide</a>.</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="programmatic-mapping"><a class="anchor" href="#programmatic-mapping"></a>Programmatic mapping</h2>
<div class="sectionbody">
<div class="paragraph">
<p>If, for some reason, adding Hibernate Search annotations to entities is not possible,
mapping can be applied programmatically instead.
Programmatic mapping is configured through the <code>ProgrammaticMappingConfigurationContext</code>
that is exposed via a mapping configurer (<code>HibernateOrmSearchMappingConfigurer</code>).</p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
<div class="paragraph">
<p>A mapping configurer (<code>HibernateOrmSearchMappingConfigurer</code>) allows much more than just programmatic mapping capabilities.
It also allows <a href="https://docs.jboss.org/hibernate/search/7.2/reference/en-US/html_single/#mapper-orm-mapping-configurer">configuring annotation mapping, bridges, and more</a>.</p>
</div>
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>Below is an example of a mapping configurer that applies programmatic mapping:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-java hljs" data-lang="java">package org.acme.hibernate.search.elasticsearch.config;

import org.hibernate.search.mapper.orm.mapping.HibernateOrmMappingConfigurationContext;
import org.hibernate.search.mapper.orm.mapping.HibernateOrmSearchMappingConfigurer;
import org.hibernate.search.mapper.pojo.mapping.definition.programmatic.TypeMappingStep;

import io.quarkus.hibernate.search.orm.elasticsearch.SearchExtension;

@SearchExtension <i class="conum" data-value="1"></i><b>(1)</b>
public class CustomMappingConfigurer implements HibernateOrmSearchMappingConfigurer {

	@Override
    public void configure(HibernateOrmMappingConfigurationContext context) {
        TypeMappingStep type = context.programmaticMapping()    <i class="conum" data-value="2"></i><b>(2)</b>
            .type(SomeIndexedEntity.class);                     <i class="conum" data-value="3"></i><b>(3)</b>
        type.indexed()                                          <i class="conum" data-value="4"></i><b>(4)</b>
            .index(SomeIndexedEntity.INDEX_NAME);               <i class="conum" data-value="5"></i><b>(5)</b>
        type.property("id").documentId();                       <i class="conum" data-value="6"></i><b>(6)</b>
        type.property("text").fullTextField();                  <i class="conum" data-value="7"></i><b>(7)</b>
    }
}</code></pre>
</div>
</div>
<div class="colist arabic">
<table>
<tr>
<td><i class="conum" data-value="1"></i><b>1</b></td>
<td>Annotate the configurer implementation with the <code>@SearchExtension</code> qualifier
to tell Quarkus it should be used by Hibernate Search in the default persistence unit.
<div class="paragraph">
<p>The annotation can also target a specific persistence unit (<code>@SearchExtension(persistenceUnit = "nameOfYourPU")</code>).</p>
</div></td>
</tr>
<tr>
<td><i class="conum" data-value="2"></i><b>2</b></td>
<td>Access the programmatic mapping context.</td>
</tr>
<tr>
<td><i class="conum" data-value="3"></i><b>3</b></td>
<td>Create mapping step for the <code>SomeIndexedEntity</code> entity.</td>
</tr>
<tr>
<td><i class="conum" data-value="4"></i><b>4</b></td>
<td>Define the <code>SomeIndexedEntity</code> entity as indexed.</td>
</tr>
<tr>
<td><i class="conum" data-value="5"></i><b>5</b></td>
<td>Provide an index name to be used for the <code>SomeIndexedEntity</code> entity.</td>
</tr>
<tr>
<td><i class="conum" data-value="6"></i><b>6</b></td>
<td>Define the document id property.</td>
</tr>
<tr>
<td><i class="conum" data-value="7"></i><b>7</b></td>
<td>Define a full-text search field for the <code>text</code> property.</td>
</tr>
</table>
</div>
<div class="admonitionblock tip">
<table>
<tr>
<td class="icon">
<i class="fa icon-tip" title="Tip"></i>
</td>
<td class="content">
<div class="paragraph">
<p>Alternatively, if for some reason you can&#8217;t or don&#8217;t want to annotate your mapping configurer with <code>@SearchExtension</code>,
you can simply annotate it with <code>@Dependent @Named("myMappingConfigurer")</code>
and then reference it from configuration properties:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-properties hljs" data-lang="properties">quarkus.hibernate-search-orm.mapping.configurer=bean:myMappingConfigurer</code></pre>
</div>
</div>
</td>
</tr>
</table>
</div>
</div>
</div>
<div class="sect1">
<h2 id="opensearch"><a class="anchor" href="#opensearch"></a>OpenSearch compatibility</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Hibernate Search is compatible with both <a href="https://www.elastic.co/elasticsearch">Elasticsearch</a>
and <a href="https://www.opensearch.org/">OpenSearch</a>,
but it assumes it is working with an Elasticsearch cluster by default.</p>
</div>
<div class="paragraph">
<p>To have Hibernate Search work with an OpenSearch cluster instead,
<a href="https://docs.jboss.org/hibernate/search/7.2/reference/en-US/html_single/#backend-elasticsearch-configuration-version">prefix the configured version with <code>opensearch:</code></a>,
as shown below.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-properties hljs" data-lang="properties">quarkus.hibernate-search-orm.elasticsearch.version=opensearch:2.16</code></pre>
</div>
</div>
<div class="paragraph">
<p>All other configuration options and APIs are exactly the same as with Elasticsearch.</p>
</div>
<div class="paragraph">
<p>You can find more information about compatible distributions and versions of Elasticsearch in
<a href="https://docs.jboss.org/hibernate/search/7.2/reference/en-US/html_single/#compatibility">this section of Hibernate Search&#8217;s reference documentation</a>.</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="multiple-persistence-units"><a class="anchor" href="#multiple-persistence-units"></a>Multiple persistence units</h2>
<div class="sectionbody">
<div class="sect2">
<h3 id="configuring-multiple-persistence-units"><a class="anchor" href="#configuring-multiple-persistence-units"></a>Configuring multiple persistence units</h3>
<div class="paragraph">
<p>With the Hibernate ORM extension,
<a href="hibernate-orm#multiple-persistence-units">you can set up multiple persistence units</a>,
each with its own datasource and configuration.</p>
</div>
<div class="paragraph">
<p>If you do declare multiple persistence units,
you will also configure Hibernate Search separately for each persistence unit.</p>
</div>
<div class="paragraph">
<p>The properties at the root of the <code>quarkus.hibernate-search-orm.</code> namespace define the default persistence unit.
For instance, the following snippet defines a default datasource and a default persistence unit,
and sets the Elasticsearch host for that persistence unit to <code>es1.mycompany.com:9200</code>.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-properties hljs" data-lang="properties">quarkus.datasource.db-kind=h2
quarkus.datasource.jdbc.url=jdbc:h2:mem:default;DB_CLOSE_DELAY=-1

quarkus.hibernate-search-orm.elasticsearch.hosts=es1.mycompany.com:9200
quarkus.hibernate-search-orm.elasticsearch.version=8</code></pre>
</div>
</div>
<div class="paragraph">
<p>Using a map based approach, it is also possible to configure named persistence units:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-properties hljs" data-lang="properties">quarkus.datasource."users".db-kind=h2 <i class="conum" data-value="1"></i><b>(1)</b>
quarkus.datasource."users".jdbc.url=jdbc:h2:mem:users;DB_CLOSE_DELAY=-1

quarkus.datasource."inventory".db-kind=h2 <i class="conum" data-value="2"></i><b>(2)</b>
quarkus.datasource."inventory".jdbc.url=jdbc:h2:mem:inventory;DB_CLOSE_DELAY=-1

quarkus.hibernate-orm."users".datasource=users <i class="conum" data-value="3"></i><b>(3)</b>
quarkus.hibernate-orm."users".packages=org.acme.model.user

quarkus.hibernate-orm."inventory".datasource=inventory <i class="conum" data-value="4"></i><b>(4)</b>
quarkus.hibernate-orm."inventory".packages=org.acme.model.inventory

quarkus.hibernate-search-orm."users".elasticsearch.hosts=es1.mycompany.com:9200 <i class="conum" data-value="5"></i><b>(5)</b>
quarkus.hibernate-search-orm."users".elasticsearch.version=8

quarkus.hibernate-search-orm."inventory".elasticsearch.hosts=es2.mycompany.com:9200 <i class="conum" data-value="6"></i><b>(6)</b>
quarkus.hibernate-search-orm."inventory".elasticsearch.version=8</code></pre>
</div>
</div>
<div class="colist arabic">
<table>
<tr>
<td><i class="conum" data-value="1"></i><b>1</b></td>
<td>Define a datasource named <code>users</code>.</td>
</tr>
<tr>
<td><i class="conum" data-value="2"></i><b>2</b></td>
<td>Define a datasource named <code>inventory</code>.</td>
</tr>
<tr>
<td><i class="conum" data-value="3"></i><b>3</b></td>
<td>Define a persistence unit called <code>users</code> pointing to the <code>users</code> datasource.</td>
</tr>
<tr>
<td><i class="conum" data-value="4"></i><b>4</b></td>
<td>Define a persistence unit called <code>inventory</code> pointing to the <code>inventory</code> datasource.</td>
</tr>
<tr>
<td><i class="conum" data-value="5"></i><b>5</b></td>
<td>Configure Hibernate Search for the <code>users</code> persistence unit,
setting the Elasticsearch host for that persistence unit to <code>es1.mycompany.com:9200</code>.</td>
</tr>
<tr>
<td><i class="conum" data-value="6"></i><b>6</b></td>
<td>Configure Hibernate Search for the <code>inventory</code> persistence unit,
setting the Elasticsearch host for that persistence unit to <code>es2.mycompany.com:9200</code>.</td>
</tr>
</table>
</div>
</div>
<div class="sect2">
<h3 id="multiple-persistence-units-attaching-model-classes"><a class="anchor" href="#multiple-persistence-units-attaching-model-classes"></a>Attaching model classes to persistence units</h3>
<div class="paragraph">
<p>For each persistence unit, Hibernate Search will only consider indexed entities that are attached to that persistence unit.
Entities are attached to a persistence unit by
<a href="hibernate-orm#multiple-persistence-units-attaching-model-classes">configuring the Hibernate ORM extension</a>.</p>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="multiple-persistence-units-attaching-cdi"><a class="anchor" href="#multiple-persistence-units-attaching-cdi"></a>CDI integration</h2>
<div class="sectionbody">
<div class="sect2">
<h3 id="injecting-entry-points"><a class="anchor" href="#injecting-entry-points"></a>Injecting entry points</h3>
<div class="paragraph">
<p>You can inject Hibernate Search&#8217;s main entry points, <code>SearchSession</code> and <code>SearchMapping</code>, using CDI:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-java hljs" data-lang="java">@Inject
SearchSession searchSession;</code></pre>
</div>
</div>
<div class="paragraph">
<p>This will inject the <code>SearchSession</code> of the default persistence unit.</p>
</div>
<div class="paragraph">
<p>To inject the <code>SearchSession</code> of a named persistence unit (<code>users</code> in our example),
just add a qualifier:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-java hljs" data-lang="java">@Inject
@PersistenceUnit("users") <i class="conum" data-value="1"></i><b>(1)</b>
SearchSession searchSession;</code></pre>
</div>
</div>
<div class="colist arabic">
<table>
<tr>
<td><i class="conum" data-value="1"></i><b>1</b></td>
<td>This is the <code>@io.quarkus.hibernate.orm.PersistenceUnit</code> annotation.</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>You can inject the <code>SearchMapping</code> of a named persistence unit using the exact same mechanism:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-java hljs" data-lang="java">@Inject
@PersistenceUnit("users")
SearchMapping searchMapping;</code></pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="plugging-in-custom-components"><a class="anchor" href="#plugging-in-custom-components"></a>Plugging in custom components</h3>
<div class="paragraph">
<p>The Quarkus extension for Hibernate Search with Hibernate ORM will automatically
inject components annotated with <code>@SearchExtension</code> into Hibernate Search.</p>
</div>
<div class="paragraph">
<p>The annotation can optionally target a specific persistence unit (<code>@SearchExtension(persistenceUnit = "nameOfYourPU")</code>),
backend (<code>@SearchExtension(backend = "nameOfYourBackend")</code>), index (<code>@SearchExtension(index = "nameOfYourIndex")</code>),
or a combination of those
(<code>@SearchExtension(persistenceUnit = "nameOfYourPU", backend = "nameOfYourBackend", index = "nameOfYourIndex")</code>),
when it makes sense for the type of the component being injected.</p>
</div>
<div class="paragraph">
<p>This feature is available for the following component types:</p>
</div>
<div class="dlist">
<dl>
<dt class="hdlist1"><code>org.hibernate.search.engine.reporting.FailureHandler</code></dt>
<dd>
<p>A component that should be notified of any failure occurring in a background process
(mainly index operations).</p>
<div class="paragraph">
<p>Scope: one per persistence unit.</p>
</div>
<div class="paragraph">
<p>See <a href="https://docs.jboss.org/hibernate/search/7.2/reference/en-US/html_single/#configuration-background-failure-handling">this section of the reference documentation</a>
for more information.</p>
</div>
</dd>
<dt class="hdlist1"><code>org.hibernate.search.mapper.orm.mapping.HibernateOrmSearchMappingConfigurer</code></dt>
<dd>
<p>A component used to configure the Hibernate Search mapping, in particular programmatically.</p>
<div class="paragraph">
<p>Scope: one or more per persistence unit.</p>
</div>
<div class="paragraph">
<p>See <a href="#programmatic-mapping">this section of this guide</a> for more information.</p>
</div>
</dd>
<dt class="hdlist1"><code>org.hibernate.search.mapper.pojo.work.IndexingPlanSynchronizationStrategy</code></dt>
<dd>
<p>A component used to configure how to synchronize between application threads and indexing.</p>
<div class="paragraph">
<p>Scope: one per persistence unit.</p>
</div>
<div class="paragraph">
<p>Can also be set to built-in implementations through
<a href="#quarkus-hibernate-search-orm-elasticsearch_quarkus-hibernate-search-orm-indexing-plan-synchronization-strategy"><code>quarkus.hibernate-search-orm.indexing.plan.synchronization.strategy</code></a>.</p>
</div>
<div class="paragraph">
<p>See <a href="https://docs.jboss.org/hibernate/search/7.2/reference/en-US/html_single/#indexing-plan-synchronization">this section of the reference documentation</a>
for more information.</p>
</div>
</dd>
<dt class="hdlist1"><code>org.hibernate.search.backend.elasticsearch.analysis.ElasticsearchAnalysisConfigurer</code></dt>
<dd>
<p>A component used to configure full text analysis (e.g. analyzers, normalizers).</p>
<div class="paragraph">
<p>Scope: one or more per backend.</p>
</div>
<div class="paragraph">
<p>See <a href="#analysis-configurer">this section of this guide</a> for more information.</p>
</div>
</dd>
<dt class="hdlist1"><code>org.hibernate.search.backend.elasticsearch.index.layout.IndexLayoutStrategy</code></dt>
<dd>
<p>A component used to configure the Elasticsearch layout: index names, index aliases, &#8230;&#8203;</p>
<div class="paragraph">
<p>Scope: one per backend.</p>
</div>
<div class="paragraph">
<p>Can also be set to built-in implementations through
<a href="#quarkus-hibernate-search-orm-elasticsearch_quarkus-hibernate-search-orm-elasticsearch-layout-strategy"><code>quarkus.hibernate-search-orm.elasticsearch.layout.strategy</code></a>.</p>
</div>
<div class="paragraph">
<p>See <a href="https://docs.jboss.org/hibernate/search/7.2/reference/en-US/html_single/#backend-elasticsearch-indexlayout">this section of the reference documentation</a>
for more information.</p>
</div>
</dd>
</dl>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="offline-startup"><a class="anchor" href="#offline-startup"></a>Offline startup</h2>
<div class="sectionbody">
<div class="paragraph">
<p>By default, Hibernate Search sends a few requests to the Elasticsearch cluster on startup.
If the Elasticsearch cluster is not necessarily up and running when Hibernate Search starts,
this could cause a startup failure.</p>
</div>
<div class="paragraph">
<p>To address this, you can configure Hibernate Search to not send any request on startup:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Disable Elasticsearch version checks on startup by setting the configuration property
<a href="#quarkus-hibernate-search-orm-elasticsearch_quarkus-hibernate-search-orm-elasticsearch-version-check-enabled"><code>quarkus.hibernate-search-orm.elasticsearch.version-check.enabled</code></a>
to <code>false</code>.</p>
</li>
<li>
<p>Disable schema management on startup by setting the configuration property
<a href="#quarkus-hibernate-search-orm-elasticsearch_quarkus-hibernate-search-orm-schema-management-strategy"><code>quarkus.hibernate-search-orm.schema-management.strategy</code></a>
to <code>none</code>.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>Of course, even with this configuration, Hibernate Search still won&#8217;t be able to index anything or run search queries
until the Elasticsearch cluster becomes accessible.</p>
</div>
<div class="admonitionblock important">
<table>
<tr>
<td class="icon">
<i class="fa icon-important" title="Important"></i>
</td>
<td class="content">
<div class="paragraph">
<p>If you disable automatic schema creation by setting <code>quarkus.hibernate-search-orm.schema-management.strategy</code> to <code>none</code>,
you will have to create the schema manually at some point before your application starts persisting/updating entities
and executing search requests.</p>
</div>
<div class="paragraph">
<p>See <a href="https://docs.jboss.org/hibernate/search/7.2/reference/en-US/html_single/#schema-management-manager">this section of the reference documentation</a>
for more information.</p>
</div>
</td>
</tr>
</table>
</div>
</div>
</div>
<div class="sect1">
<h2 id="coordination"><a class="anchor" href="#coordination"></a>Coordination through outbox polling</h2>
<div class="sectionbody">
<div class="admonitionblock caution">
<table>
<tr>
<td class="icon">
<i class="fa icon-caution" title="Caution"></i>
</td>
<td class="content">
<div class="paragraph">
<p>Coordination through outbox polling is considered preview.</p>
</div>
<div class="paragraph">
<p>In <em>preview</em>, backward compatibility and presence in the ecosystem is not guaranteed.
Specific improvements might require changing configuration or APIs, or even storage formats,
and plans to become <em>stable</em> are under way.
Feedback is welcome on our <a href="https://groups.google.com/d/forum/quarkus-dev">mailing list</a>
or as issues in our <a href="https://github.com/quarkusio/quarkus/issues">GitHub issue tracker</a>.</p>
</div>
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>While it’s technically possible to use Hibernate Search and Elasticsearch in distributed applications,
by default they suffer from
<a href="https://docs.jboss.org/hibernate/search/7.2/reference/en-US/html_single/#architecture-examples-no-coordination-elasticsearch-pros-and-cons">a few limitations</a>.</p>
</div>
<div class="paragraph">
<p>These limitations are the result of Hibernate Search not coordinating between threads or application nodes by default.</p>
</div>
<div class="paragraph">
<p>In order to get rid of these limitations, you can
<a href="https://docs.jboss.org/hibernate/search/7.2/reference/en-US/html_single/#architecture-examples-outbox-polling-elasticsearch">use the <code>outbox-polling</code> coordination strategy</a>.
This strategy creates an outbox table in the database to push entity change events to,
and relies on a background processor to consume these events and perform indexing.</p>
</div>
<div class="paragraph">
<p>To enable the <code>outbox-polling</code> coordination strategy, an additional extension is required:</p>
</div>
<div class="listingblock primary asciidoc-tabs-sync-cli">
<div class="title">CLI</div>
<div class="content">
<pre class="highlightjs highlight"><code class="language-bash hljs" data-lang="bash">quarkus extension add hibernate-search-orm-outbox-polling</code></pre>
</div>
</div>
<div class="listingblock secondary asciidoc-tabs-sync-maven">
<div class="title">Maven</div>
<div class="content">
<pre class="highlightjs highlight"><code class="language-bash hljs" data-lang="bash">./mvnw quarkus:add-extension -Dextensions='hibernate-search-orm-outbox-polling'</code></pre>
</div>
</div>
<div class="listingblock secondary asciidoc-tabs-sync-gradle">
<div class="title">Gradle</div>
<div class="content">
<pre class="highlightjs highlight"><code class="language-bash hljs" data-lang="bash">./gradlew addExtension --extensions='hibernate-search-orm-outbox-polling'</code></pre>
</div>
</div>
<div class="paragraph">
<p>Once the extension is there, you will need to explicitly select the <code>outbox-polling</code> strategy
by setting <a href="#quarkus-hibernate-search-orm-elasticsearch_quarkus-hibernate-search-orm-coordination-strategy"><code>quarkus.hibernate-search-orm.coordination.strategy</code></a>
to <code>outbox-polling</code>.</p>
</div>
<div class="paragraph">
<p>Finally, you will need to make sure that the Hibernate ORM entities added by Hibernate Search
(to represent the outbox and agents) have corresponding tables/sequences in your database:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>If you are just starting with your application
and intend to <a href="hibernate-orm#dev-mode">let Hibernate ORM generate your database schema</a>,
then no worries: the entities required by Hibernate Search will be included in the generated schema.</p>
</li>
<li>
<p>Otherwise, you must
<a href="https://docs.jboss.org/hibernate/search/7.2/reference/en-US/html_single/#coordination-outbox-polling-schema">manually alter your schema to add the necessary tables/sequences</a>.</p>
</li>
</ul>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
<div class="paragraph">
<p>The database schema Hibernate Search will expect for outbox-polling coordination
may be customized through the following configuration properties:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><a href="#quarkus-hibernate-search-orm-outbox-polling_quarkus-hibernate-search-orm-coordination-entity-mapping-agent-catalog"><code>quarkus.hibernate-search-orm.coordination.entity-mapping.agent.catalog</code></a></p>
</li>
<li>
<p><a href="#quarkus-hibernate-search-orm-outbox-polling_quarkus-hibernate-search-orm-coordination-entity-mapping-agent-schema"><code>quarkus.hibernate-search-orm.coordination.entity-mapping.agent.schema</code></a></p>
</li>
<li>
<p><a href="#quarkus-hibernate-search-orm-outbox-polling_quarkus-hibernate-search-orm-coordination-entity-mapping-agent-table"><code>quarkus.hibernate-search-orm.coordination.entity-mapping.agent.table</code></a></p>
</li>
<li>
<p><a href="#quarkus-hibernate-search-orm-outbox-polling_quarkus-hibernate-search-orm-coordination-entity-mapping-agent-uuid-gen-strategy"><code>quarkus.hibernate-search-orm.coordination.entity-mapping.agent.uuid-gen-strategy</code></a></p>
</li>
<li>
<p><a href="#quarkus-hibernate-search-orm-outbox-polling_quarkus-hibernate-search-orm-coordination-entity-mapping-agent-uuid-type"><code>quarkus.hibernate-search-orm.coordination.entity-mapping.agent.uuid-type</code></a></p>
</li>
<li>
<p><a href="#quarkus-hibernate-search-orm-outbox-polling_quarkus-hibernate-search-orm-coordination-entity-mapping-outbox-event-catalog"><code>quarkus.hibernate-search-orm.coordination.entity-mapping.outbox-event.catalog</code></a></p>
</li>
<li>
<p><a href="#quarkus-hibernate-search-orm-outbox-polling_quarkus-hibernate-search-orm-coordination-entity-mapping-outbox-event-schema"><code>quarkus.hibernate-search-orm.coordination.entity-mapping.outbox-event.schema</code></a></p>
</li>
<li>
<p><a href="#quarkus-hibernate-search-orm-outbox-polling_quarkus-hibernate-search-orm-coordination-entity-mapping-outbox-event-table"><code>quarkus.hibernate-search-orm.coordination.entity-mapping.outbox-event.table</code></a></p>
</li>
<li>
<p><a href="#quarkus-hibernate-search-orm-outbox-polling_quarkus-hibernate-search-orm-coordination-entity-mapping-outbox-event-uuid-gen-strategy"><code>quarkus.hibernate-search-orm.coordination.entity-mapping.outbox-event.uuid-gen-strategy</code></a></p>
</li>
<li>
<p><a href="#quarkus-hibernate-search-orm-outbox-polling_quarkus-hibernate-search-orm-coordination-entity-mapping-outbox-event-uuid-type"><code>quarkus.hibernate-search-orm.coordination.entity-mapping.outbox-event.uuid-type</code></a></p>
</li>
</ul>
</div>
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>Once you are done with the above, you&#8217;re ready to use Hibernate Search with an outbox.
Don&#8217;t change any code, and just start your application:
it will automatically detect when multiple applications are connected to the same database,
and coordinate the index updates accordingly.</p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
<div class="paragraph">
<p>Hibernate Search mostly behaves the same when using the <code>outbox-polling</code> coordination strategy
as when not using it: application code (persisting entities, searching, etc.) should not require any change.</p>
</div>
<div class="paragraph">
<p>However, there is one key difference: index updates are necessarily asynchronous;
they are guaranteed to happen <em>eventually</em>, but not immediately.</p>
</div>
<div class="paragraph">
<p>This means in particular that the configuration property
<a href="#quarkus-hibernate-search-orm-elasticsearch_quarkus-hibernate-search-orm-indexing-plan-synchronization-strategy"><code>quarkus.hibernate-search-orm.indexing.plan.synchronization.strategy</code></a>
cannot be set when using the <code>outbox-polling</code> coordination strategy:
Hibernate Search will always behave as if this property was set to <code>write-sync</code> (the default).</p>
</div>
<div class="paragraph">
<p>This behavior is consistent with Elasticsearch&#8217;s
<a href="https://www.elastic.co/guide/en/elasticsearch/reference/current/near-real-time.html">near-real-time search</a>
and the recommended way of using Hibernate Search even when coordination is disabled.</p>
</div>
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>For more information about coordination in Hibernate Search,
see <a href="https://docs.jboss.org/hibernate/search/7.2/reference/en-US/html_single/#coordination">this section of the reference documentation</a>.</p>
</div>
<div class="paragraph">
<p>For more information about configuration options related to coordination,
see <a href="#configuration-reference-coordination-outbox-polling">Configuration of coordination with outbox polling</a>.</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="aws-request-signing"><a class="anchor" href="#aws-request-signing"></a><a id="configuration-reference-aws"></a> AWS request signing</h2>
<div class="sectionbody">
<div class="paragraph">
<p>If you need to use <a href="https://docs.aws.amazon.com/elasticsearch-service/">Amazon’s managed Elasticsearch service</a>,
you will find it requires a proprietary authentication method involving request signing.</p>
</div>
<div class="paragraph">
<p>You can enable AWS request signing in Hibernate Search by adding a dedicated extension to your project and configuring it.</p>
</div>
<div class="paragraph">
<p>See <a href="https://quarkiverse.github.io/quarkiverse-docs/quarkus-hibernate-search-extras/dev/index.html#aws-configuration-reference">the documentation for the Hibernate Search ORM + Elasticsearch AWS extension</a>
for more information.</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="management"><a class="anchor" href="#management"></a>Management endpoint</h2>
<div class="sectionbody">
<div class="admonitionblock caution">
<table>
<tr>
<td class="icon">
<i class="fa icon-caution" title="Caution"></i>
</td>
<td class="content">
<div class="paragraph">
<p>Hibernate Search&#8217;s management endpoint is considered preview.</p>
</div>
<div class="paragraph">
<p>In <em>preview</em>, backward compatibility and presence in the ecosystem is not guaranteed.
Specific improvements might require changing configuration or APIs, or even storage formats,
and plans to become <em>stable</em> are under way.
Feedback is welcome on our <a href="https://groups.google.com/d/forum/quarkus-dev">mailing list</a>
or as issues in our <a href="https://github.com/quarkusio/quarkus/issues">GitHub issue tracker</a>.</p>
</div>
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>The Hibernate Search extension provides an HTTP endpoint to reindex your data through the <a href="./management-interface-reference">management interface</a>.
By default, this endpoint is not available. It can be enabled through configuration properties as shown below.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-properties hljs" data-lang="properties">quarkus.management.enabled=true <i class="conum" data-value="1"></i><b>(1)</b>
quarkus.hibernate-search-orm.management.enabled=true <i class="conum" data-value="2"></i><b>(2)</b></code></pre>
</div>
</div>
<div class="colist arabic">
<table>
<tr>
<td><i class="conum" data-value="1"></i><b>1</b></td>
<td>Enable the <a href="./management-interface-reference">management interface</a>.</td>
</tr>
<tr>
<td><i class="conum" data-value="2"></i><b>2</b></td>
<td>Enable Hibernate Search specific management endpoints.</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>Once the management endpoints are enabled, data can be re-indexed via <code>/q/hibernate-search/reindex</code>, where <code>/q</code> is the default management root path
and <code>/hibernate-search</code> is the default Hibernate Search root management path.
It (<code>/hibernate-search</code>) can be changed via configuration property as shown below.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-properties hljs" data-lang="properties">quarkus.hibernate-search-orm.management.root-path=custom-root-path <i class="conum" data-value="1"></i><b>(1)</b></code></pre>
</div>
</div>
<div class="colist arabic">
<table>
<tr>
<td><i class="conum" data-value="1"></i><b>1</b></td>
<td>Use a custom <code>custom-root-path</code> path for Hibernate Search&#8217;s management endpoint.
If the default management root path is used then the reindex path becomes <code>/q/custom-root-path/reindex</code>.</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>This endpoint accepts <code>POST</code> requests with <code>application/json</code> content type only.
All indexed entities will be re-indexed if an empty request body is submitted.
If only a subset of entities must be re-indexed or
if there is a need to have a custom configuration of the underlying mass indexer
then this information can be passed through the request body as shown below.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-json hljs" data-lang="json">{
  "filter": {
    "types": ["EntityName1", "EntityName2", "EntityName3", ...], <i class="conum" data-value="1"></i><b>(1)</b>
  },
  "massIndexer":{
    "typesToIndexInParallel": 1, <i class="conum" data-value="2"></i><b>(2)</b>
  }
}</code></pre>
</div>
</div>
<div class="colist arabic">
<table>
<tr>
<td><i class="conum" data-value="1"></i><b>1</b></td>
<td>An array of entity names that should be re-indexed. If unspecified or empty, all entity types will be re-indexed.</td>
</tr>
<tr>
<td><i class="conum" data-value="2"></i><b>2</b></td>
<td>Sets the number of entity types to be indexed in parallel.</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>The full list of possible filters and available mass indexer configurations is presented in the example below.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-json hljs" data-lang="json">{
  "filter": { <i class="conum" data-value="1"></i><b>(1)</b>
    "types": ["EntityName1", "EntityName2", "EntityName3", ...], <i class="conum" data-value="2"></i><b>(2)</b>
    "tenants": ["tenant1", "tenant2", ...] <i class="conum" data-value="3"></i><b>(3)</b>
  },
  "massIndexer":{ <i class="conum" data-value="4"></i><b>(4)</b>
    "typesToIndexInParallel": 1, <i class="conum" data-value="5"></i><b>(5)</b>
    "threadsToLoadObjects": 6,  <i class="conum" data-value="6"></i><b>(6)</b>
    "batchSizeToLoadObjects": 10, <i class="conum" data-value="7"></i><b>(7)</b>
    "cacheMode": "IGNORE", <i class="conum" data-value="8"></i><b>(8)</b>
    "mergeSegmentsOnFinish": false, <i class="conum" data-value="9"></i><b>(9)</b>
    "mergeSegmentsAfterPurge": true, <i class="conum" data-value="10"></i><b>(10)</b>
    "dropAndCreateSchemaOnStart": false, <i class="conum" data-value="11"></i><b>(11)</b>
    "purgeAllOnStart": true, <i class="conum" data-value="12"></i><b>(12)</b>
    "idFetchSize": 100, <i class="conum" data-value="13"></i><b>(13)</b>
    "transactionTimeout": 100000, <i class="conum" data-value="14"></i><b>(14)</b>
  }
}</code></pre>
</div>
</div>
<div class="colist arabic">
<table>
<tr>
<td><i class="conum" data-value="1"></i><b>1</b></td>
<td>Filter object that allows to limit the scope of reindexing.</td>
</tr>
<tr>
<td><i class="conum" data-value="2"></i><b>2</b></td>
<td>An array of entity names that should be re-indexed. If unspecified or empty, all entity types will be re-indexed.</td>
</tr>
<tr>
<td><i class="conum" data-value="3"></i><b>3</b></td>
<td>An array of tenant ids, in case of multi-tenancy. If unspecified or empty, all tenants will be re-indexed.</td>
</tr>
<tr>
<td><i class="conum" data-value="4"></i><b>4</b></td>
<td>Mass indexer configuration object.</td>
</tr>
<tr>
<td><i class="conum" data-value="5"></i><b>5</b></td>
<td>Sets the number of entity types to be indexed in parallel.</td>
</tr>
<tr>
<td><i class="conum" data-value="6"></i><b>6</b></td>
<td>Sets the number of threads to be used to load the root entities.</td>
</tr>
<tr>
<td><i class="conum" data-value="7"></i><b>7</b></td>
<td>Sets the batch size used to load the root entities.</td>
</tr>
<tr>
<td><i class="conum" data-value="8"></i><b>8</b></td>
<td>Sets the cache interaction mode for the data loading tasks.</td>
</tr>
<tr>
<td><i class="conum" data-value="9"></i><b>9</b></td>
<td>Whether each index is merged into a single segment after indexing.</td>
</tr>
<tr>
<td><i class="conum" data-value="10"></i><b>10</b></td>
<td>Whether each index is merged into a single segment after the initial index purge, just before indexing.</td>
</tr>
<tr>
<td><i class="conum" data-value="11"></i><b>11</b></td>
<td>Whether the indexes and their schema (if they exist) should be dropped and re-created before indexing.</td>
</tr>
<tr>
<td><i class="conum" data-value="12"></i><b>12</b></td>
<td>Whether all entities are removed from the indexes before indexing.</td>
</tr>
<tr>
<td><i class="conum" data-value="13"></i><b>13</b></td>
<td>Specifies the fetch size to be used when loading primary keys if objects to be indexed.</td>
</tr>
<tr>
<td><i class="conum" data-value="14"></i><b>14</b></td>
<td>Specifies the timeout of transactions for loading ids and entities to be re-indexed.
<div class="paragraph">
<p>Note all the properties in the JSON are optional, and only those that are needed should be used.</p>
</div></td>
</tr>
</table>
</div>
<div class="paragraph">
<p>For more detailed information on mass indexer configuration see the
<a href="https://docs.jboss.org/hibernate/search/7.2/reference/en-US/html_single/#indexing-massindexer-parameters">corresponding section of the Hibernate Search reference documentation</a>.</p>
</div>
<div class="paragraph">
<p>Submitting the reindexing request will trigger indexing in the background. Mass indexing progress will appear in the application logs.
For testing purposes, it might be useful to know when the indexing finished. Adding <code>wait_for=finished</code> query parameter to the URL
will result in the management endpoint returning a chunked response that will report when the indexing starts and then when it is finished.</p>
</div>
<div class="paragraph">
<p>When working with multiple persistence units, the name of the persistence unit to reindex can be supplied through the
<code>persistence_unit</code> query parameter: <code>/q/hibernate-search/reindex?persistence_unit=non-default-persistence-unit</code>.</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="further-reading"><a class="anchor" href="#further-reading"></a>Further reading</h2>
<div class="sectionbody">
<div class="paragraph">
<p>If you are interested in learning more about Hibernate Search,
the Hibernate team publishes <a href="https://docs.jboss.org/hibernate/search/7.2/reference/en-US/html_single/">an extensive reference documentation</a>,
as well as a page listing <a href="https://hibernate.org/search/more-resources/">other relevant resources</a>.</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="faq"><a class="anchor" href="#faq"></a>FAQ</h2>
<div class="sectionbody">
<div class="sect2">
<h3 id="why-elasticsearch-only"><a class="anchor" href="#why-elasticsearch-only"></a>Why Elasticsearch only?</h3>
<div class="paragraph">
<p>Hibernate Search supports both a Lucene backend and an Elasticsearch backend.</p>
</div>
<div class="paragraph">
<p>In the context of Quarkus and to build scalable applications, we thought the latter would make more sense.
Thus, we focused our efforts on it.</p>
</div>
<div class="paragraph">
<p>We don&#8217;t have plans to support the Lucene backend in Quarkus for now,
though there is an issue tracking progress on such an implementation in the Quarkiverse:
<a href="https://github.com/quarkiverse/quarkus-hibernate-search-extras/issues/179">quarkiverse/quarkus-hibernate-search-extras#179</a>.</p>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="configuration-reference"><a class="anchor" href="#configuration-reference"></a>Configuration Reference for Hibernate Search with Hibernate ORM</h2>
<div class="sectionbody">
<div class="sect2">
<h3 id="configuration-reference-main"><a class="anchor" href="#configuration-reference-main"></a>Main Configuration</h3>
<div class="paragraph">
<p><span class="icon"><i class="fa fa-lock" title="Fixed at build time"></i></span> Configuration property fixed at build time - All other configuration properties are overridable at runtime <input type="search" id="config-search-0" placeholder="FILTER CONFIGURATION" disabled></p>
</div>
<table class="tableblock frame-all grid-all stretch configuration-reference searchable configuration-reference-all-rows">
<colgroup>
<col style="width: 80%;">
<col style="width: 10%;">
<col style="width: 10%;">
</colgroup>
<tbody>
<tr>
<th class="tableblock halign-left valign-top"><p class="tableblock"><span class="header-title">Configuration property</span></p></th>
<th class="tableblock halign-left valign-middle"><p class="tableblock">Type</p></th>
<th class="tableblock halign-left valign-middle"><p class="tableblock">Default</p></th>
</tr>
<tr class="row-collapsible row-collapsed row-with-desc odd">
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><span class="icon"><i class="fa fa-lock" title="Fixed at build time"></i></span> <a id="quarkus-hibernate-search-orm-elasticsearch_quarkus-hibernate-search-orm-enabled"></a> <span class="property-path"><a href="#quarkus-hibernate-search-orm-elasticsearch_quarkus-hibernate-search-orm-enabled"><code>quarkus.hibernate-search-orm.enabled</code></a></span></p>
</div>
<div id="conf-collapsible-desc-1" class="openblock description description-collapsed">
<div class="content">
<div class="paragraph">
<p>Whether Hibernate Search is enabled <strong>during the build</strong>.</p>
</div>
<div class="paragraph">
<p>If Hibernate Search is disabled during the build, all processing related to Hibernate Search will be skipped,
but it will not be possible to activate Hibernate Search at runtime:
<code>quarkus.hibernate-search-orm.active</code> will default to <code>false</code> and setting it to <code>true</code> will lead to an error.</p>
</div>
<div class="paragraph">
<p>Environment variable: <code id="env-var-29223">QUARKUS_HIBERNATE_SEARCH_ORM_ENABLED</code><button class="btn-copy fa fa-clipboard inline-btn-copy" data-clipboard-action="copy" data-clipboard-target="#env-var-29223" title="Copy to clipboard" do-not-collapse="true"></button></p>
</div>
</div>
</div>
<div class="paragraph description-decoration">
<p><i class="fa fa-chevron-down"></i><span>Show more</span></p>
</div></div></td>
<td class="tableblock halign-left valign-middle"><p class="tableblock">boolean</p></td>
<td class="tableblock halign-left valign-middle"><p class="tableblock"><code>true</code></p></td>
</tr>
<tr class="row-collapsible row-collapsed row-with-desc">
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><span class="icon"><i class="fa fa-lock" title="Fixed at build time"></i></span> <a id="quarkus-hibernate-search-orm-elasticsearch_quarkus-hibernate-search-orm-background-failure-handler"></a> <span class="property-path"><a href="#quarkus-hibernate-search-orm-elasticsearch_quarkus-hibernate-search-orm-background-failure-handler"><code>quarkus.hibernate-search-orm.background-failure-handler</code></a></span></p>
</div>
<div class="paragraph">
<p><code>quarkus.hibernate-search-orm."persistence-unit-name".background-failure-handler</code></p>
</div>
<div id="conf-collapsible-desc-2" class="openblock description description-collapsed">
<div class="content">
<div class="paragraph">
<p>A <a href="#bean-reference-note-anchor">bean reference</a> to a component
that should be notified of any failure occurring in a background process
(mainly index operations).</p>
</div>
<div class="paragraph">
<p>The referenced bean must implement <code>FailureHandler</code>.</p>
</div>
<div class="paragraph">
<p>See
<a href="https://docs.jboss.org/hibernate/search/7.2/reference/en-US/html_single/#configuration-background-failure-handling">this section of the reference documentation</a>
for more information.</p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
<div class="paragraph">
<p>Instead of setting this configuration property,
you can simply annotate your custom <code>FailureHandler</code> implementation with <code>@SearchExtension</code>
and leave the configuration property unset: Hibernate Search will use the annotated implementation automatically.
See <a href="#plugging-in-custom-components">this section</a>
for more information.</p>
</div>
<div class="paragraph">
<p>If this configuration property is set, it takes precedence over any <code>@SearchExtension</code> annotation.</p>
</div>
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>Environment variable: <code id="env-var-29224">QUARKUS_HIBERNATE_SEARCH_ORM_BACKGROUND_FAILURE_HANDLER</code><button class="btn-copy fa fa-clipboard inline-btn-copy" data-clipboard-action="copy" data-clipboard-target="#env-var-29224" title="Copy to clipboard" do-not-collapse="true"></button></p>
</div>
</div>
</div>
<div class="paragraph description-decoration">
<p><i class="fa fa-chevron-down"></i><span>Show more</span></p>
</div></div></td>
<td class="tableblock halign-left valign-middle"><p class="tableblock">string</p></td>
<td class="tableblock halign-left valign-middle"></td>
</tr>
<tr class="row-collapsible row-collapsed row-with-desc odd">
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><span class="icon"><i class="fa fa-lock" title="Fixed at build time"></i></span> <a id="quarkus-hibernate-search-orm-elasticsearch_quarkus-hibernate-search-orm-coordination-strategy"></a> <span class="property-path"><a href="#quarkus-hibernate-search-orm-elasticsearch_quarkus-hibernate-search-orm-coordination-strategy"><code>quarkus.hibernate-search-orm.coordination.strategy</code></a></span></p>
</div>
<div class="paragraph">
<p><code>quarkus.hibernate-search-orm."persistence-unit-name".coordination.strategy</code></p>
</div>
<div id="conf-collapsible-desc-3" class="openblock description description-collapsed">
<div class="content">
<div class="paragraph">
<p>The strategy to use for coordinating between threads or even separate instances of the application,
in particular in automatic indexing.</p>
</div>
<div class="paragraph">
<p>See <a href="#coordination">coordination</a> for more information.</p>
</div>
<div class="paragraph">
<p>Environment variable: <code id="env-var-29225">QUARKUS_HIBERNATE_SEARCH_ORM_COORDINATION_STRATEGY</code><button class="btn-copy fa fa-clipboard inline-btn-copy" data-clipboard-action="copy" data-clipboard-target="#env-var-29225" title="Copy to clipboard" do-not-collapse="true"></button></p>
</div>
</div>
</div>
<div class="paragraph description-decoration">
<p><i class="fa fa-chevron-down"></i><span>Show more</span></p>
</div></div></td>
<td class="tableblock halign-left valign-middle"><p class="tableblock">string</p></td>
<td class="tableblock halign-left valign-middle"><p class="tableblock"><code>none</code></p></td>
</tr>
<tr class="row-collapsible row-collapsed row-with-desc">
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><span class="icon"><i class="fa fa-lock" title="Fixed at build time"></i></span> <a id="quarkus-hibernate-search-orm-elasticsearch_quarkus-hibernate-search-orm-mapping-configurer"></a> <span class="property-path"><a href="#quarkus-hibernate-search-orm-elasticsearch_quarkus-hibernate-search-orm-mapping-configurer"><code>quarkus.hibernate-search-orm.mapping.configurer</code></a></span></p>
</div>
<div class="paragraph">
<p><code>quarkus.hibernate-search-orm."persistence-unit-name".mapping.configurer</code></p>
</div>
<div id="conf-collapsible-desc-4" class="openblock description description-collapsed">
<div class="content">
<div class="paragraph">
<p>One or more <a href="#bean-reference-note-anchor">bean references</a>
to the component(s) used to configure the Hibernate Search mapping,
in particular programmatically.</p>
</div>
<div class="paragraph">
<p>The referenced beans must implement <code>HibernateOrmSearchMappingConfigurer</code>.</p>
</div>
<div class="paragraph">
<p>See <a href="#programmatic-mapping">Programmatic mapping</a> for an example
on how mapping configurers can be used to apply programmatic mappings.</p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
<div class="paragraph">
<p>Instead of setting this configuration property,
you can simply annotate your custom <code>HibernateOrmSearchMappingConfigurer</code> implementations with <code>@SearchExtension</code>
and leave the configuration property unset: Hibernate Search will use the annotated implementation automatically.
See <a href="#plugging-in-custom-components">this section</a>
for more information.</p>
</div>
<div class="paragraph">
<p>If this configuration property is set, it takes precedence over any <code>@SearchExtension</code> annotation.</p>
</div>
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>Environment variable: <code id="env-var-29226">QUARKUS_HIBERNATE_SEARCH_ORM_MAPPING_CONFIGURER</code><button class="btn-copy fa fa-clipboard inline-btn-copy" data-clipboard-action="copy" data-clipboard-target="#env-var-29226" title="Copy to clipboard" do-not-collapse="true"></button></p>
</div>
</div>
</div>
<div class="paragraph description-decoration">
<p><i class="fa fa-chevron-down"></i><span>Show more</span></p>
</div></div></td>
<td class="tableblock halign-left valign-middle"><p class="tableblock">list of string</p></td>
<td class="tableblock halign-left valign-middle"></td>
</tr>
<tr class="row-collapsible row-collapsed row-with-desc odd">
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><a id="quarkus-hibernate-search-orm-elasticsearch_quarkus-hibernate-search-orm-active"></a> <span class="property-path"><a href="#quarkus-hibernate-search-orm-elasticsearch_quarkus-hibernate-search-orm-active"><code>quarkus.hibernate-search-orm.active</code></a></span></p>
</div>
<div class="paragraph">
<p><code>quarkus.hibernate-search-orm."persistence-unit-name".active</code></p>
</div>
<div id="conf-collapsible-desc-5" class="openblock description description-collapsed">
<div class="content">
<div class="paragraph">
<p>Whether Hibernate Search should be active for this persistence unit at runtime.</p>
</div>
<div class="paragraph">
<p>If Hibernate Search is not active, it won&#8217;t index Hibernate ORM entities,
and accessing the SearchMapping/SearchSession of the relevant persistence unit
for search or other operation will not be possible.</p>
</div>
<div class="paragraph">
<p>Note that if Hibernate Search is disabled (i.e. <code>quarkus.hibernate-search-orm.enabled</code> is set to <code>false</code>),
it won&#8217;t be active for any persistence unit, and setting this property to <code>true</code> will fail.</p>
</div>
<div class="paragraph">
<p>Environment variable: <code id="env-var-29227">QUARKUS_HIBERNATE_SEARCH_ORM_ACTIVE</code><button class="btn-copy fa fa-clipboard inline-btn-copy" data-clipboard-action="copy" data-clipboard-target="#env-var-29227" title="Copy to clipboard" do-not-collapse="true"></button></p>
</div>
</div>
</div>
<div class="paragraph description-decoration">
<p><i class="fa fa-chevron-down"></i><span>Show more</span></p>
</div></div></td>
<td class="tableblock halign-left valign-middle"><p class="tableblock">boolean</p></td>
<td class="tableblock halign-left valign-middle"><p class="tableblock"><code>'true' if Hibernate Search is enabled; 'false' otherwise</code></p></td>
</tr>
<tr class="row-collapsible row-collapsed row-with-desc">
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><a id="quarkus-hibernate-search-orm-elasticsearch_quarkus-hibernate-search-orm-schema-management-strategy"></a> <span class="property-path"><a href="#quarkus-hibernate-search-orm-elasticsearch_quarkus-hibernate-search-orm-schema-management-strategy"><code>quarkus.hibernate-search-orm.schema-management.strategy</code></a></span></p>
</div>
<div class="paragraph">
<p><code>quarkus.hibernate-search-orm."persistence-unit-name".schema-management.strategy</code></p>
</div>
<div id="conf-collapsible-desc-6" class="openblock description description-collapsed">
<div class="content">
<div class="paragraph">
<p>The schema management strategy, controlling how indexes and their schema
are created, updated, validated or dropped on startup and shutdown.</p>
</div>
<div class="paragraph">
<p>Available values:</p>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 50%;">
<col style="width: 50%;">
</colgroup>
<tbody>
<tr>
<th class="tableblock halign-left valign-top"><p class="tableblock">Strategy</p></th>
<th class="tableblock halign-left valign-top"><p class="tableblock">Definition</p></th>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">none</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Do nothing: assume that indexes already exist and that their schema matches Hibernate Search&#8217;s expectations.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">validate</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Validate that indexes exist and that their schema matches Hibernate Search&#8217;s expectations.</p>
<p class="tableblock">If it does not, throw an exception, but make no attempt to fix the problem.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">create</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">For indexes that do not exist, create them along with their schema.</p>
<p class="tableblock">For indexes that already exist, do nothing: assume that their schema matches Hibernate Search&#8217;s expectations.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">create-or-validate (<strong>default</strong> unless using Dev Services)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">For indexes that do not exist, create them along with their schema.</p>
<p class="tableblock">For indexes that already exist, validate that their schema matches Hibernate Search&#8217;s expectations.</p>
<p class="tableblock">If it does not, throw an exception, but make no attempt to fix the problem.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">create-or-update</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">For indexes that do not exist, create them along with their schema.</p>
<p class="tableblock">For indexes that already exist, validate that their schema matches Hibernate Search&#8217;s expectations;
if it does not match expectations, try to update it.</p>
<p class="tableblock"><strong>This strategy is unfit for production environments</strong>,
due to several important limitations,
but can be useful when developing.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">drop-and-create</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">For indexes that do not exist, create them along with their schema.</p>
<p class="tableblock">For indexes that already exist, drop them, then create them along with their schema.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">drop-and-create-and-drop (<strong>default</strong> when using Dev Services)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">For indexes that do not exist, create them along with their schema.</p>
<p class="tableblock">For indexes that already exist, drop them, then create them along with their schema.</p>
<p class="tableblock">Also, drop indexes and their schema on shutdown.</p></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p>See <a href="https://docs.jboss.org/hibernate/search/7.2/reference/en-US/html_single/#mapper-orm-schema-management-strategy">this section of the reference documentation</a>
for more information.</p>
</div>
<div class="paragraph">
<p>Environment variable: <code id="env-var-29228">QUARKUS_HIBERNATE_SEARCH_ORM_SCHEMA_MANAGEMENT_STRATEGY</code><button class="btn-copy fa fa-clipboard inline-btn-copy" data-clipboard-action="copy" data-clipboard-target="#env-var-29228" title="Copy to clipboard" do-not-collapse="true"></button></p>
</div>
</div>
</div>
<div class="paragraph description-decoration">
<p><i class="fa fa-chevron-down"></i><span>Show more</span></p>
</div></div></td>
<td class="tableblock halign-left valign-middle"><div class="content"><div class="paragraph">
<p><code>none</code>, <code>validate</code>, <code>create</code>, <code>create-or-validate</code>, <code>create-or-update</code>, <code>drop-and-create</code>, <code>drop-and-create-and-drop</code></p>
</div></div></td>
<td class="tableblock halign-left valign-middle"><p class="tableblock"><code>drop-and-create-and-drop when using Dev Services; create-or-validate otherwise</code></p></td>
</tr>
<tr class="row-collapsible row-collapsed row-with-desc odd">
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><a id="quarkus-hibernate-search-orm-elasticsearch_quarkus-hibernate-search-orm-query-loading-cache-lookup-strategy"></a> <span class="property-path"><a href="#quarkus-hibernate-search-orm-elasticsearch_quarkus-hibernate-search-orm-query-loading-cache-lookup-strategy"><code>quarkus.hibernate-search-orm.query.loading.cache-lookup.strategy</code></a></span></p>
</div>
<div class="paragraph">
<p><code>quarkus.hibernate-search-orm."persistence-unit-name".query.loading.cache-lookup.strategy</code></p>
</div>
<div id="conf-collapsible-desc-7" class="openblock description description-collapsed">
<div class="content">
<div class="paragraph">
<p>The strategy to use when loading entities during the execution of a search query.</p>
</div>
<div class="paragraph">
<p>Environment variable: <code id="env-var-29229">QUARKUS_HIBERNATE_SEARCH_ORM_QUERY_LOADING_CACHE_LOOKUP_STRATEGY</code><button class="btn-copy fa fa-clipboard inline-btn-copy" data-clipboard-action="copy" data-clipboard-target="#env-var-29229" title="Copy to clipboard" do-not-collapse="true"></button></p>
</div>
</div>
</div>
<div class="paragraph description-decoration">
<p><i class="fa fa-chevron-down"></i><span>Show more</span></p>
</div></div></td>
<td class="tableblock halign-left valign-middle"><div class="content"><div class="paragraph">
<p><code>skip</code>, <code>persistence-context</code>, <code>persistence-context-then-second-level-cache</code></p>
</div></div></td>
<td class="tableblock halign-left valign-middle"><p class="tableblock"><code>skip</code></p></td>
</tr>
<tr class="row-collapsible row-collapsed row-with-desc">
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><a id="quarkus-hibernate-search-orm-elasticsearch_quarkus-hibernate-search-orm-query-loading-fetch-size"></a> <span class="property-path"><a href="#quarkus-hibernate-search-orm-elasticsearch_quarkus-hibernate-search-orm-query-loading-fetch-size"><code>quarkus.hibernate-search-orm.query.loading.fetch-size</code></a></span></p>
</div>
<div class="paragraph">
<p><code>quarkus.hibernate-search-orm."persistence-unit-name".query.loading.fetch-size</code></p>
</div>
<div id="conf-collapsible-desc-8" class="openblock description description-collapsed">
<div class="content">
<div class="paragraph">
<p>The fetch size to use when loading entities during the execution of a search query.</p>
</div>
<div class="paragraph">
<p>Environment variable: <code id="env-var-29230">QUARKUS_HIBERNATE_SEARCH_ORM_QUERY_LOADING_FETCH_SIZE</code><button class="btn-copy fa fa-clipboard inline-btn-copy" data-clipboard-action="copy" data-clipboard-target="#env-var-29230" title="Copy to clipboard" do-not-collapse="true"></button></p>
</div>
</div>
</div>
<div class="paragraph description-decoration">
<p><i class="fa fa-chevron-down"></i><span>Show more</span></p>
</div></div></td>
<td class="tableblock halign-left valign-middle"><p class="tableblock">int</p></td>
<td class="tableblock halign-left valign-middle"><p class="tableblock"><code>100</code></p></td>
</tr>
<tr class="row-collapsible row-collapsed row-with-desc odd">
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><a id="quarkus-hibernate-search-orm-elasticsearch_quarkus-hibernate-search-orm-indexing-plan-synchronization-strategy"></a> <span class="property-path"><a href="#quarkus-hibernate-search-orm-elasticsearch_quarkus-hibernate-search-orm-indexing-plan-synchronization-strategy"><code>quarkus.hibernate-search-orm.indexing.plan.synchronization.strategy</code></a></span></p>
</div>
<div class="paragraph">
<p><code>quarkus.hibernate-search-orm."persistence-unit-name".indexing.plan.synchronization.strategy</code></p>
</div>
<div id="conf-collapsible-desc-9" class="openblock description description-collapsed">
<div class="content">
<div class="paragraph">
<p>How to synchronize between application threads and indexing,
in particular when relying on (implicit) listener-triggered indexing on entity change,
but also when using a <code>SearchIndexingPlan</code> explicitly.</p>
</div>
<div class="paragraph">
<p>Defines how complete indexing should be before resuming the application thread
after a database transaction is committed.</p>
</div>
<div class="admonitionblock warning">
<table>
<tr>
<td class="icon">
<i class="fa icon-warning" title="Warning"></i>
</td>
<td class="content">
<div class="paragraph">
<p>Indexing synchronization is only relevant when coordination is disabled (which is the default).</p>
</div>
<div class="paragraph">
<p>With the <a href="#coordination"><code>outbox-polling</code> coordination strategy</a>,
indexing happens in background threads and is always asynchronous;
the behavior is equivalent to the <code>write-sync</code> synchronization strategy.</p>
</div>
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>Available values:</p>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
</colgroup>
<tbody>
<tr>
<th class="tableblock halign-left valign-top" rowspan="2"><p class="tableblock">Strategy</p></th>
<th class="tableblock halign-left valign-top" rowspan="2"><p class="tableblock">Throughput</p></th>
<th class="tableblock halign-center valign-top" colspan="3"><p class="tableblock">Guarantees when the application thread resumes</p></th>
</tr>
<tr>
<th class="tableblock halign-left valign-top"><p class="tableblock">Changes applied</p></th>
<th class="tableblock halign-left valign-top"><p class="tableblock">Changes safe from crash/power loss</p></th>
<th class="tableblock halign-left valign-top"><p class="tableblock">Changes visible on search</p></th>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">async</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Best</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock"><span class="icon red"><i class="fa fa-times"></i></span></p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock"><span class="icon red"><i class="fa fa-times"></i></span></p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock"><span class="icon red"><i class="fa fa-times"></i></span></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">write-sync (<strong>default</strong>)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Medium</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock"><span class="icon lime"><i class="fa fa-check"></i></span></p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock"><span class="icon lime"><i class="fa fa-check"></i></span></p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock"><span class="icon red"><i class="fa fa-times"></i></span></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">read-sync</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Medium to worst</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock"><span class="icon lime"><i class="fa fa-check"></i></span></p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock"><span class="icon red"><i class="fa fa-times"></i></span></p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock"><span class="icon lime"><i class="fa fa-check"></i></span></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">sync</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Worst</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock"><span class="icon lime"><i class="fa fa-check"></i></span></p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock"><span class="icon lime"><i class="fa fa-check"></i></span></p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock"><span class="icon lime"><i class="fa fa-check"></i></span></p></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p>This property also accepts a <a href="#bean-reference-note-anchor">bean reference</a>
to a custom implementations of <code>IndexingPlanSynchronizationStrategy</code>.</p>
</div>
<div class="paragraph">
<p>See
<a href="https://docs.jboss.org/hibernate/search/7.2/reference/en-US/html_single/#indexing-plan-synchronization">this section of the reference documentation</a>
for more information.</p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
<div class="paragraph">
<p>Instead of setting this configuration property,
you can simply annotate your custom <code>IndexingPlanSynchronizationStrategy</code> implementation with <code>@SearchExtension</code>
and leave the configuration property unset: Hibernate Search will use the annotated implementation automatically.
See <a href="#plugging-in-custom-components">this section</a>
for more information.</p>
</div>
<div class="paragraph">
<p>If this configuration property is set, it takes precedence over any <code>@SearchExtension</code> annotation.</p>
</div>
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>Environment variable: <code id="env-var-29231">QUARKUS_HIBERNATE_SEARCH_ORM_INDEXING_PLAN_SYNCHRONIZATION_STRATEGY</code><button class="btn-copy fa fa-clipboard inline-btn-copy" data-clipboard-action="copy" data-clipboard-target="#env-var-29231" title="Copy to clipboard" do-not-collapse="true"></button></p>
</div>
</div>
</div>
<div class="paragraph description-decoration">
<p><i class="fa fa-chevron-down"></i><span>Show more</span></p>
</div></div></td>
<td class="tableblock halign-left valign-middle"><p class="tableblock">string</p></td>
<td class="tableblock halign-left valign-middle"><p class="tableblock"><code>write-sync</code></p></td>
</tr>
<tr class="row-collapsible row-collapsed row-with-desc">
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><a id="quarkus-hibernate-search-orm-elasticsearch_quarkus-hibernate-search-orm-multi-tenancy-tenant-ids"></a> <span class="property-path"><a href="#quarkus-hibernate-search-orm-elasticsearch_quarkus-hibernate-search-orm-multi-tenancy-tenant-ids"><code>quarkus.hibernate-search-orm.multi-tenancy.tenant-ids</code></a></span></p>
</div>
<div class="paragraph">
<p><code>quarkus.hibernate-search-orm."persistence-unit-name".multi-tenancy.tenant-ids</code></p>
</div>
<div id="conf-collapsible-desc-10" class="openblock description description-collapsed">
<div class="content">
<div class="paragraph">
<p>An exhaustive list of all tenant identifiers that may be used by the application when multi-tenancy is enabled.</p>
</div>
<div class="paragraph">
<p>Mainly useful when using the {@code outbox-polling} coordination strategy,
since it involves setting up one background processor per tenant.</p>
</div>
<div class="paragraph">
<p>Environment variable: <code id="env-var-29232">QUARKUS_HIBERNATE_SEARCH_ORM_MULTI_TENANCY_TENANT_IDS</code><button class="btn-copy fa fa-clipboard inline-btn-copy" data-clipboard-action="copy" data-clipboard-target="#env-var-29232" title="Copy to clipboard" do-not-collapse="true"></button></p>
</div>
</div>
</div>
<div class="paragraph description-decoration">
<p><i class="fa fa-chevron-down"></i><span>Show more</span></p>
</div></div></td>
<td class="tableblock halign-left valign-middle"><p class="tableblock">list of string</p></td>
<td class="tableblock halign-left valign-middle"></td>
</tr>
<tr>
<th class="tableblock halign-left valign-top"><p class="tableblock"><a id="quarkus-hibernate-search-orm-elasticsearch_section_quarkus-hibernate-search-orm-elasticsearch"></a> <span class="section-name section-level0"><a href="#quarkus-hibernate-search-orm-elasticsearch_section_quarkus-hibernate-search-orm-elasticsearch">Configuration for backends</a></span></p></th>
<th class="tableblock halign-left valign-middle"><p class="tableblock">Type</p></th>
<th class="tableblock halign-left valign-middle"><p class="tableblock">Default</p></th>
</tr>
<tr class="row-collapsible row-collapsed row-with-desc odd">
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><span class="icon"><i class="fa fa-lock" title="Fixed at build time"></i></span> <a id="quarkus-hibernate-search-orm-elasticsearch_quarkus-hibernate-search-orm-elasticsearch-version"></a> <span class="property-path"><a href="#quarkus-hibernate-search-orm-elasticsearch_quarkus-hibernate-search-orm-elasticsearch-version"><code>quarkus.hibernate-search-orm.elasticsearch.version</code></a></span></p>
</div>
<div class="paragraph">
<p><code>quarkus.hibernate-search-orm.elasticsearch."backend-name".version</code></p>
</div>
<div class="paragraph">
<p><code>quarkus.hibernate-search-orm."persistence-unit-name".elasticsearch.version</code></p>
</div>
<div class="paragraph">
<p><code>quarkus.hibernate-search-orm."persistence-unit-name".elasticsearch."backend-name".version</code></p>
</div>
<div id="conf-collapsible-desc-11" class="openblock description description-collapsed">
<div class="content">
<div class="paragraph">
<p>The version of Elasticsearch used in the cluster.</p>
</div>
<div class="paragraph">
<p>As the schema is generated without a connection to the server, this item is mandatory.</p>
</div>
<div class="paragraph">
<p>It doesn&#8217;t have to be the exact version (it can be <code>7</code> or <code>7.1</code> for instance) but it has to be sufficiently precise
to choose a model dialect (the one used to generate the schema) compatible with the protocol dialect (the one used
to communicate with Elasticsearch).</p>
</div>
<div class="paragraph">
<p>There&#8217;s no rule of thumb here as it depends on the schema incompatibilities introduced by Elasticsearch versions. In
any case, if there is a problem, you will have an error when Hibernate Search tries to connect to the cluster.</p>
</div>
<div class="paragraph">
<p>Environment variable: <code id="env-var-29233">QUARKUS_HIBERNATE_SEARCH_ORM_ELASTICSEARCH_VERSION</code><button class="btn-copy fa fa-clipboard inline-btn-copy" data-clipboard-action="copy" data-clipboard-target="#env-var-29233" title="Copy to clipboard" do-not-collapse="true"></button></p>
</div>
</div>
</div>
<div class="paragraph description-decoration">
<p><i class="fa fa-chevron-down"></i><span>Show more</span></p>
</div></div></td>
<td class="tableblock halign-left valign-middle"><p class="tableblock">ElasticsearchVersion</p></td>
<td class="tableblock halign-left valign-middle"></td>
</tr>
<tr class="row-collapsible row-collapsed row-with-desc">
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><span class="icon"><i class="fa fa-lock" title="Fixed at build time"></i></span> <a id="quarkus-hibernate-search-orm-elasticsearch_quarkus-hibernate-search-orm-elasticsearch-layout-strategy"></a> <span class="property-path"><a href="#quarkus-hibernate-search-orm-elasticsearch_quarkus-hibernate-search-orm-elasticsearch-layout-strategy"><code>quarkus.hibernate-search-orm.elasticsearch.layout.strategy</code></a></span></p>
</div>
<div class="paragraph">
<p><code>quarkus.hibernate-search-orm.elasticsearch."backend-name".layout.strategy</code></p>
</div>
<div class="paragraph">
<p><code>quarkus.hibernate-search-orm."persistence-unit-name".elasticsearch.layout.strategy</code></p>
</div>
<div class="paragraph">
<p><code>quarkus.hibernate-search-orm."persistence-unit-name".elasticsearch."backend-name".layout.strategy</code></p>
</div>
<div id="conf-collapsible-desc-12" class="openblock description description-collapsed">
<div class="content">
<div class="paragraph">
<p>A <a href="#bean-reference-note-anchor">bean reference</a> to the component
used to configure the Elasticsearch layout: index names, index aliases, &#8230;&#8203;</p>
</div>
<div class="paragraph">
<p>The referenced bean must implement <code>IndexLayoutStrategy</code>.</p>
</div>
<div class="paragraph">
<p>Available built-in implementations:</p>
</div>
<div class="dlist">
<dl>
<dt class="hdlist1"><code>simple</code></dt>
<dd>
<p>The default, future-proof strategy: if the index name in Hibernate Search is <code>myIndex</code>,
this strategy will create an index named <code>myindex-000001</code>, an alias for write operations named <code>myindex-write</code>,
and an alias for read operations named <code>myindex-read</code>.</p>
</dd>
<dt class="hdlist1"><code>no-alias</code></dt>
<dd>
<p>A strategy without index aliases, mostly useful on legacy clusters:
if the index name in Hibernate Search is <code>myIndex</code>,
this strategy will create an index named <code>myindex</code>, and will not use any alias.</p>
</dd>
</dl>
</div>
<div class="paragraph">
<p>See
<a href="https://docs.jboss.org/hibernate/search/7.2/reference/en-US/html_single/#backend-elasticsearch-indexlayout">this section of the reference documentation</a>
for more information.</p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
<div class="paragraph">
<p>Instead of setting this configuration property,
you can simply annotate your custom <code>IndexLayoutStrategy</code> implementation with <code>@SearchExtension</code>
and leave the configuration property unset: Hibernate Search will use the annotated implementation automatically.
See <a href="#plugging-in-custom-components">this section</a>
for more information.</p>
</div>
<div class="paragraph">
<p>If this configuration property is set, it takes precedence over any <code>@SearchExtension</code> annotation.</p>
</div>
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>Environment variable: <code id="env-var-29234">QUARKUS_HIBERNATE_SEARCH_ORM_ELASTICSEARCH_LAYOUT_STRATEGY</code><button class="btn-copy fa fa-clipboard inline-btn-copy" data-clipboard-action="copy" data-clipboard-target="#env-var-29234" title="Copy to clipboard" do-not-collapse="true"></button></p>
</div>
</div>
</div>
<div class="paragraph description-decoration">
<p><i class="fa fa-chevron-down"></i><span>Show more</span></p>
</div></div></td>
<td class="tableblock halign-left valign-middle"><p class="tableblock">string</p></td>
<td class="tableblock halign-left valign-middle"></td>
</tr>
<tr class="row-collapsible row-collapsed row-with-desc odd">
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><span class="icon"><i class="fa fa-lock" title="Fixed at build time"></i></span> <a id="quarkus-hibernate-search-orm-elasticsearch_quarkus-hibernate-search-orm-elasticsearch-schema-management-settings-file"></a> <span class="property-path"><a href="#quarkus-hibernate-search-orm-elasticsearch_quarkus-hibernate-search-orm-elasticsearch-schema-management-settings-file"><code>quarkus.hibernate-search-orm.elasticsearch.schema-management.settings-file</code></a></span></p>
</div>
<div class="paragraph">
<p><code>quarkus.hibernate-search-orm.elasticsearch."backend-name".schema-management.settings-file</code></p>
</div>
<div class="paragraph">
<p><code>quarkus.hibernate-search-orm."persistence-unit-name".elasticsearch.schema-management.settings-file</code></p>
</div>
<div class="paragraph">
<p><code>quarkus.hibernate-search-orm."persistence-unit-name".elasticsearch."backend-name".schema-management.settings-file</code></p>
</div>
<div id="conf-collapsible-desc-13" class="openblock description description-collapsed">
<div class="content">
<div class="paragraph">
<p>Path to a file in the classpath holding custom index settings to be included in the index definition
when creating an Elasticsearch index.</p>
</div>
<div class="paragraph">
<p>The provided settings will be merged with those generated by Hibernate Search, including analyzer definitions.
When analysis is configured both through an analysis configurer and these custom settings, the behavior is undefined;
it should not be relied upon.</p>
</div>
<div class="paragraph">
<p>See <a href="https://docs.jboss.org/hibernate/search/7.2/reference/en-US/html_single/#backend-elasticsearch-configuration-index-settings">this section of the reference documentation</a>
for more information.</p>
</div>
<div class="paragraph">
<p>Environment variable: <code id="env-var-29235">QUARKUS_HIBERNATE_SEARCH_ORM_ELASTICSEARCH_SCHEMA_MANAGEMENT_SETTINGS_FILE</code><button class="btn-copy fa fa-clipboard inline-btn-copy" data-clipboard-action="copy" data-clipboard-target="#env-var-29235" title="Copy to clipboard" do-not-collapse="true"></button></p>
</div>
</div>
</div>
<div class="paragraph description-decoration">
<p><i class="fa fa-chevron-down"></i><span>Show more</span></p>
</div></div></td>
<td class="tableblock halign-left valign-middle"><p class="tableblock">string</p></td>
<td class="tableblock halign-left valign-middle"></td>
</tr>
<tr class="row-collapsible row-collapsed row-with-desc">
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><span class="icon"><i class="fa fa-lock" title="Fixed at build time"></i></span> <a id="quarkus-hibernate-search-orm-elasticsearch_quarkus-hibernate-search-orm-elasticsearch-schema-management-mapping-file"></a> <span class="property-path"><a href="#quarkus-hibernate-search-orm-elasticsearch_quarkus-hibernate-search-orm-elasticsearch-schema-management-mapping-file"><code>quarkus.hibernate-search-orm.elasticsearch.schema-management.mapping-file</code></a></span></p>
</div>
<div class="paragraph">
<p><code>quarkus.hibernate-search-orm.elasticsearch."backend-name".schema-management.mapping-file</code></p>
</div>
<div class="paragraph">
<p><code>quarkus.hibernate-search-orm."persistence-unit-name".elasticsearch.schema-management.mapping-file</code></p>
</div>
<div class="paragraph">
<p><code>quarkus.hibernate-search-orm."persistence-unit-name".elasticsearch."backend-name".schema-management.mapping-file</code></p>
</div>
<div id="conf-collapsible-desc-14" class="openblock description description-collapsed">
<div class="content">
<div class="paragraph">
<p>Path to a file in the classpath holding a custom index mapping to be included in the index definition
when creating an Elasticsearch index.</p>
</div>
<div class="paragraph">
<p>The file does not need to (and generally shouldn&#8217;t) contain the full mapping:
Hibernate Search will automatically inject missing properties (index fields) in the given mapping.</p>
</div>
<div class="paragraph">
<p>See <a href="https://docs.jboss.org/hibernate/search/7.2/reference/en-US/html_single/#backend-elasticsearch-mapping-custom">this section of the reference documentation</a>
for more information.</p>
</div>
<div class="paragraph">
<p>Environment variable: <code id="env-var-29236">QUARKUS_HIBERNATE_SEARCH_ORM_ELASTICSEARCH_SCHEMA_MANAGEMENT_MAPPING_FILE</code><button class="btn-copy fa fa-clipboard inline-btn-copy" data-clipboard-action="copy" data-clipboard-target="#env-var-29236" title="Copy to clipboard" do-not-collapse="true"></button></p>
</div>
</div>
</div>
<div class="paragraph description-decoration">
<p><i class="fa fa-chevron-down"></i><span>Show more</span></p>
</div></div></td>
<td class="tableblock halign-left valign-middle"><p class="tableblock">string</p></td>
<td class="tableblock halign-left valign-middle"></td>
</tr>
<tr class="row-collapsible row-collapsed row-with-desc odd">
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><span class="icon"><i class="fa fa-lock" title="Fixed at build time"></i></span> <a id="quarkus-hibernate-search-orm-elasticsearch_quarkus-hibernate-search-orm-elasticsearch-analysis-configurer"></a> <span class="property-path"><a href="#quarkus-hibernate-search-orm-elasticsearch_quarkus-hibernate-search-orm-elasticsearch-analysis-configurer"><code>quarkus.hibernate-search-orm.elasticsearch.analysis.configurer</code></a></span></p>
</div>
<div class="paragraph">
<p><code>quarkus.hibernate-search-orm.elasticsearch."backend-name".analysis.configurer</code></p>
</div>
<div class="paragraph">
<p><code>quarkus.hibernate-search-orm."persistence-unit-name".elasticsearch.analysis.configurer</code></p>
</div>
<div class="paragraph">
<p><code>quarkus.hibernate-search-orm."persistence-unit-name".elasticsearch."backend-name".analysis.configurer</code></p>
</div>
<div id="conf-collapsible-desc-15" class="openblock description description-collapsed">
<div class="content">
<div class="paragraph">
<p>One or more <a href="#bean-reference-note-anchor">bean references</a>
to the component(s) used to configure full text analysis (e.g. analyzers, normalizers).</p>
</div>
<div class="paragraph">
<p>The referenced beans must implement <code>ElasticsearchAnalysisConfigurer</code>.</p>
</div>
<div class="paragraph">
<p>See <a href="#analysis-configurer">Setting up the analyzers</a> for more
information.</p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
<div class="paragraph">
<p>Instead of setting this configuration property,
you can simply annotate your custom <code>ElasticsearchAnalysisConfigurer</code> implementations with <code>@SearchExtension</code>
and leave the configuration property unset: Hibernate Search will use the annotated implementation automatically.
See <a href="#plugging-in-custom-components">this section</a>
for more information.</p>
</div>
<div class="paragraph">
<p>If this configuration property is set, it takes precedence over any <code>@SearchExtension</code> annotation.</p>
</div>
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>Environment variable: <code id="env-var-29237">QUARKUS_HIBERNATE_SEARCH_ORM_ELASTICSEARCH_ANALYSIS_CONFIGURER</code><button class="btn-copy fa fa-clipboard inline-btn-copy" data-clipboard-action="copy" data-clipboard-target="#env-var-29237" title="Copy to clipboard" do-not-collapse="true"></button></p>
</div>
</div>
</div>
<div class="paragraph description-decoration">
<p><i class="fa fa-chevron-down"></i><span>Show more</span></p>
</div></div></td>
<td class="tableblock halign-left valign-middle"><p class="tableblock">list of string</p></td>
<td class="tableblock halign-left valign-middle"></td>
</tr>
<tr class="row-collapsible row-collapsed row-with-desc">
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><a id="quarkus-hibernate-search-orm-elasticsearch_quarkus-hibernate-search-orm-elasticsearch-hosts"></a> <span class="property-path"><a href="#quarkus-hibernate-search-orm-elasticsearch_quarkus-hibernate-search-orm-elasticsearch-hosts"><code>quarkus.hibernate-search-orm.elasticsearch.hosts</code></a></span></p>
</div>
<div class="paragraph">
<p><code>quarkus.hibernate-search-orm.elasticsearch."backend-name".hosts</code></p>
</div>
<div class="paragraph">
<p><code>quarkus.hibernate-search-orm."persistence-unit-name".elasticsearch.hosts</code></p>
</div>
<div class="paragraph">
<p><code>quarkus.hibernate-search-orm."persistence-unit-name".elasticsearch."backend-name".hosts</code></p>
</div>
<div id="conf-collapsible-desc-16" class="openblock description description-collapsed">
<div class="content">
<div class="paragraph">
<p>The list of hosts of the Elasticsearch servers.</p>
</div>
<div class="paragraph">
<p>Environment variable: <code id="env-var-29238">QUARKUS_HIBERNATE_SEARCH_ORM_ELASTICSEARCH_HOSTS</code><button class="btn-copy fa fa-clipboard inline-btn-copy" data-clipboard-action="copy" data-clipboard-target="#env-var-29238" title="Copy to clipboard" do-not-collapse="true"></button></p>
</div>
</div>
</div>
<div class="paragraph description-decoration">
<p><i class="fa fa-chevron-down"></i><span>Show more</span></p>
</div></div></td>
<td class="tableblock halign-left valign-middle"><p class="tableblock">list of string</p></td>
<td class="tableblock halign-left valign-middle"><p class="tableblock"><code>localhost:9200</code></p></td>
</tr>
<tr class="row-collapsible row-collapsed row-with-desc odd">
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><a id="quarkus-hibernate-search-orm-elasticsearch_quarkus-hibernate-search-orm-elasticsearch-protocol"></a> <span class="property-path"><a href="#quarkus-hibernate-search-orm-elasticsearch_quarkus-hibernate-search-orm-elasticsearch-protocol"><code>quarkus.hibernate-search-orm.elasticsearch.protocol</code></a></span></p>
</div>
<div class="paragraph">
<p><code>quarkus.hibernate-search-orm.elasticsearch."backend-name".protocol</code></p>
</div>
<div class="paragraph">
<p><code>quarkus.hibernate-search-orm."persistence-unit-name".elasticsearch.protocol</code></p>
</div>
<div class="paragraph">
<p><code>quarkus.hibernate-search-orm."persistence-unit-name".elasticsearch."backend-name".protocol</code></p>
</div>
<div id="conf-collapsible-desc-17" class="openblock description description-collapsed">
<div class="content">
<div class="paragraph">
<p>The protocol to use when contacting Elasticsearch servers. Set to "https" to enable SSL/TLS.</p>
</div>
<div class="paragraph">
<p>Environment variable: <code id="env-var-29239">QUARKUS_HIBERNATE_SEARCH_ORM_ELASTICSEARCH_PROTOCOL</code><button class="btn-copy fa fa-clipboard inline-btn-copy" data-clipboard-action="copy" data-clipboard-target="#env-var-29239" title="Copy to clipboard" do-not-collapse="true"></button></p>
</div>
</div>
</div>
<div class="paragraph description-decoration">
<p><i class="fa fa-chevron-down"></i><span>Show more</span></p>
</div></div></td>
<td class="tableblock halign-left valign-middle"><div class="content"><div class="paragraph">
<p><span class="asciidoc-tooltip-wrapper"><code>http</code><span class="asciidoc-tooltip">Use clear-text HTTP, with SSL/TLS disabled.</span></span>, <span class="asciidoc-tooltip-wrapper"><code>https</code><span class="asciidoc-tooltip">Use HTTPS, with SSL/TLS enabled.</span></span></p>
</div></div></td>
<td class="tableblock halign-left valign-middle"><p class="tableblock"><span class="asciidoc-tooltip-wrapper"><code>http</code><span class="asciidoc-tooltip">Use clear-text HTTP, with SSL/TLS disabled.</span></span></p></td>
</tr>
<tr class="row-collapsible row-collapsed row-with-desc">
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><a id="quarkus-hibernate-search-orm-elasticsearch_quarkus-hibernate-search-orm-elasticsearch-username"></a> <span class="property-path"><a href="#quarkus-hibernate-search-orm-elasticsearch_quarkus-hibernate-search-orm-elasticsearch-username"><code>quarkus.hibernate-search-orm.elasticsearch.username</code></a></span></p>
</div>
<div class="paragraph">
<p><code>quarkus.hibernate-search-orm.elasticsearch."backend-name".username</code></p>
</div>
<div class="paragraph">
<p><code>quarkus.hibernate-search-orm."persistence-unit-name".elasticsearch.username</code></p>
</div>
<div class="paragraph">
<p><code>quarkus.hibernate-search-orm."persistence-unit-name".elasticsearch."backend-name".username</code></p>
</div>
<div id="conf-collapsible-desc-18" class="openblock description description-collapsed">
<div class="content">
<div class="paragraph">
<p>The username used for authentication.</p>
</div>
<div class="paragraph">
<p>Environment variable: <code id="env-var-29240">QUARKUS_HIBERNATE_SEARCH_ORM_ELASTICSEARCH_USERNAME</code><button class="btn-copy fa fa-clipboard inline-btn-copy" data-clipboard-action="copy" data-clipboard-target="#env-var-29240" title="Copy to clipboard" do-not-collapse="true"></button></p>
</div>
</div>
</div>
<div class="paragraph description-decoration">
<p><i class="fa fa-chevron-down"></i><span>Show more</span></p>
</div></div></td>
<td class="tableblock halign-left valign-middle"><p class="tableblock">string</p></td>
<td class="tableblock halign-left valign-middle"></td>
</tr>
<tr class="row-collapsible row-collapsed row-with-desc odd">
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><a id="quarkus-hibernate-search-orm-elasticsearch_quarkus-hibernate-search-orm-elasticsearch-password"></a> <span class="property-path"><a href="#quarkus-hibernate-search-orm-elasticsearch_quarkus-hibernate-search-orm-elasticsearch-password"><code>quarkus.hibernate-search-orm.elasticsearch.password</code></a></span></p>
</div>
<div class="paragraph">
<p><code>quarkus.hibernate-search-orm.elasticsearch."backend-name".password</code></p>
</div>
<div class="paragraph">
<p><code>quarkus.hibernate-search-orm."persistence-unit-name".elasticsearch.password</code></p>
</div>
<div class="paragraph">
<p><code>quarkus.hibernate-search-orm."persistence-unit-name".elasticsearch."backend-name".password</code></p>
</div>
<div id="conf-collapsible-desc-19" class="openblock description description-collapsed">
<div class="content">
<div class="paragraph">
<p>The password used for authentication.</p>
</div>
<div class="paragraph">
<p>Environment variable: <code id="env-var-29241">QUARKUS_HIBERNATE_SEARCH_ORM_ELASTICSEARCH_PASSWORD</code><button class="btn-copy fa fa-clipboard inline-btn-copy" data-clipboard-action="copy" data-clipboard-target="#env-var-29241" title="Copy to clipboard" do-not-collapse="true"></button></p>
</div>
</div>
</div>
<div class="paragraph description-decoration">
<p><i class="fa fa-chevron-down"></i><span>Show more</span></p>
</div></div></td>
<td class="tableblock halign-left valign-middle"><p class="tableblock">string</p></td>
<td class="tableblock halign-left valign-middle"></td>
</tr>
<tr class="row-collapsible row-collapsed row-with-desc">
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><a id="quarkus-hibernate-search-orm-elasticsearch_quarkus-hibernate-search-orm-elasticsearch-connection-timeout"></a> <span class="property-path"><a href="#quarkus-hibernate-search-orm-elasticsearch_quarkus-hibernate-search-orm-elasticsearch-connection-timeout"><code>quarkus.hibernate-search-orm.elasticsearch.connection-timeout</code></a></span></p>
</div>
<div class="paragraph">
<p><code>quarkus.hibernate-search-orm.elasticsearch."backend-name".connection-timeout</code></p>
</div>
<div class="paragraph">
<p><code>quarkus.hibernate-search-orm."persistence-unit-name".elasticsearch.connection-timeout</code></p>
</div>
<div class="paragraph">
<p><code>quarkus.hibernate-search-orm."persistence-unit-name".elasticsearch."backend-name".connection-timeout</code></p>
</div>
<div id="conf-collapsible-desc-20" class="openblock description description-collapsed">
<div class="content">
<div class="paragraph">
<p>The timeout when establishing a connection to an Elasticsearch server.</p>
</div>
<div class="paragraph">
<p>Environment variable: <code id="env-var-29242">QUARKUS_HIBERNATE_SEARCH_ORM_ELASTICSEARCH_CONNECTION_TIMEOUT</code><button class="btn-copy fa fa-clipboard inline-btn-copy" data-clipboard-action="copy" data-clipboard-target="#env-var-29242" title="Copy to clipboard" do-not-collapse="true"></button></p>
</div>
</div>
</div>
<div class="paragraph description-decoration">
<p><i class="fa fa-chevron-down"></i><span>Show more</span></p>
</div></div></td>
<td class="tableblock halign-left valign-middle"><p class="tableblock"><a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/time/Duration.html">Duration</a> <a href="#duration-note-anchor-{summaryTableId}"><span class="icon"><i class="fa fa-question-circle" title="More information about the Duration format"></i></span></a></p></td>
<td class="tableblock halign-left valign-middle"><p class="tableblock"><code>1S</code></p></td>
</tr>
<tr class="row-collapsible row-collapsed row-with-desc odd">
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><a id="quarkus-hibernate-search-orm-elasticsearch_quarkus-hibernate-search-orm-elasticsearch-read-timeout"></a> <span class="property-path"><a href="#quarkus-hibernate-search-orm-elasticsearch_quarkus-hibernate-search-orm-elasticsearch-read-timeout"><code>quarkus.hibernate-search-orm.elasticsearch.read-timeout</code></a></span></p>
</div>
<div class="paragraph">
<p><code>quarkus.hibernate-search-orm.elasticsearch."backend-name".read-timeout</code></p>
</div>
<div class="paragraph">
<p><code>quarkus.hibernate-search-orm."persistence-unit-name".elasticsearch.read-timeout</code></p>
</div>
<div class="paragraph">
<p><code>quarkus.hibernate-search-orm."persistence-unit-name".elasticsearch."backend-name".read-timeout</code></p>
</div>
<div id="conf-collapsible-desc-21" class="openblock description description-collapsed">
<div class="content">
<div class="paragraph">
<p>The timeout when reading responses from an Elasticsearch server.</p>
</div>
<div class="paragraph">
<p>Environment variable: <code id="env-var-29243">QUARKUS_HIBERNATE_SEARCH_ORM_ELASTICSEARCH_READ_TIMEOUT</code><button class="btn-copy fa fa-clipboard inline-btn-copy" data-clipboard-action="copy" data-clipboard-target="#env-var-29243" title="Copy to clipboard" do-not-collapse="true"></button></p>
</div>
</div>
</div>
<div class="paragraph description-decoration">
<p><i class="fa fa-chevron-down"></i><span>Show more</span></p>
</div></div></td>
<td class="tableblock halign-left valign-middle"><p class="tableblock"><a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/time/Duration.html">Duration</a> <a href="#duration-note-anchor-{summaryTableId}"><span class="icon"><i class="fa fa-question-circle" title="More information about the Duration format"></i></span></a></p></td>
<td class="tableblock halign-left valign-middle"><p class="tableblock"><code>30S</code></p></td>
</tr>
<tr class="row-collapsible row-collapsed row-with-desc">
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><a id="quarkus-hibernate-search-orm-elasticsearch_quarkus-hibernate-search-orm-elasticsearch-request-timeout"></a> <span class="property-path"><a href="#quarkus-hibernate-search-orm-elasticsearch_quarkus-hibernate-search-orm-elasticsearch-request-timeout"><code>quarkus.hibernate-search-orm.elasticsearch.request-timeout</code></a></span></p>
</div>
<div class="paragraph">
<p><code>quarkus.hibernate-search-orm.elasticsearch."backend-name".request-timeout</code></p>
</div>
<div class="paragraph">
<p><code>quarkus.hibernate-search-orm."persistence-unit-name".elasticsearch.request-timeout</code></p>
</div>
<div class="paragraph">
<p><code>quarkus.hibernate-search-orm."persistence-unit-name".elasticsearch."backend-name".request-timeout</code></p>
</div>
<div id="conf-collapsible-desc-22" class="openblock description description-collapsed">
<div class="content">
<div class="paragraph">
<p>The timeout when executing a request to an Elasticsearch server.</p>
</div>
<div class="paragraph">
<p>This includes the time needed to wait for a connection to be available,
send the request and read the response.</p>
</div>
<div class="paragraph">
<p>Environment variable: <code id="env-var-29244">QUARKUS_HIBERNATE_SEARCH_ORM_ELASTICSEARCH_REQUEST_TIMEOUT</code><button class="btn-copy fa fa-clipboard inline-btn-copy" data-clipboard-action="copy" data-clipboard-target="#env-var-29244" title="Copy to clipboard" do-not-collapse="true"></button></p>
</div>
</div>
</div>
<div class="paragraph description-decoration">
<p><i class="fa fa-chevron-down"></i><span>Show more</span></p>
</div></div></td>
<td class="tableblock halign-left valign-middle"><p class="tableblock"><a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/time/Duration.html">Duration</a> <a href="#duration-note-anchor-{summaryTableId}"><span class="icon"><i class="fa fa-question-circle" title="More information about the Duration format"></i></span></a></p></td>
<td class="tableblock halign-left valign-middle"></td>
</tr>
<tr class="row-collapsible row-collapsed row-with-desc odd">
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><a id="quarkus-hibernate-search-orm-elasticsearch_quarkus-hibernate-search-orm-elasticsearch-max-connections"></a> <span class="property-path"><a href="#quarkus-hibernate-search-orm-elasticsearch_quarkus-hibernate-search-orm-elasticsearch-max-connections"><code>quarkus.hibernate-search-orm.elasticsearch.max-connections</code></a></span></p>
</div>
<div class="paragraph">
<p><code>quarkus.hibernate-search-orm.elasticsearch."backend-name".max-connections</code></p>
</div>
<div class="paragraph">
<p><code>quarkus.hibernate-search-orm."persistence-unit-name".elasticsearch.max-connections</code></p>
</div>
<div class="paragraph">
<p><code>quarkus.hibernate-search-orm."persistence-unit-name".elasticsearch."backend-name".max-connections</code></p>
</div>
<div id="conf-collapsible-desc-23" class="openblock description description-collapsed">
<div class="content">
<div class="paragraph">
<p>The maximum number of connections to all the Elasticsearch servers.</p>
</div>
<div class="paragraph">
<p>Environment variable: <code id="env-var-29245">QUARKUS_HIBERNATE_SEARCH_ORM_ELASTICSEARCH_MAX_CONNECTIONS</code><button class="btn-copy fa fa-clipboard inline-btn-copy" data-clipboard-action="copy" data-clipboard-target="#env-var-29245" title="Copy to clipboard" do-not-collapse="true"></button></p>
</div>
</div>
</div>
<div class="paragraph description-decoration">
<p><i class="fa fa-chevron-down"></i><span>Show more</span></p>
</div></div></td>
<td class="tableblock halign-left valign-middle"><p class="tableblock">int</p></td>
<td class="tableblock halign-left valign-middle"><p class="tableblock"><code>20</code></p></td>
</tr>
<tr class="row-collapsible row-collapsed row-with-desc">
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><a id="quarkus-hibernate-search-orm-elasticsearch_quarkus-hibernate-search-orm-elasticsearch-max-connections-per-route"></a> <span class="property-path"><a href="#quarkus-hibernate-search-orm-elasticsearch_quarkus-hibernate-search-orm-elasticsearch-max-connections-per-route"><code>quarkus.hibernate-search-orm.elasticsearch.max-connections-per-route</code></a></span></p>
</div>
<div class="paragraph">
<p><code>quarkus.hibernate-search-orm.elasticsearch."backend-name".max-connections-per-route</code></p>
</div>
<div class="paragraph">
<p><code>quarkus.hibernate-search-orm."persistence-unit-name".elasticsearch.max-connections-per-route</code></p>
</div>
<div class="paragraph">
<p><code>quarkus.hibernate-search-orm."persistence-unit-name".elasticsearch."backend-name".max-connections-per-route</code></p>
</div>
<div id="conf-collapsible-desc-24" class="openblock description description-collapsed">
<div class="content">
<div class="paragraph">
<p>The maximum number of connections per Elasticsearch server.</p>
</div>
<div class="paragraph">
<p>Environment variable: <code id="env-var-29246">QUARKUS_HIBERNATE_SEARCH_ORM_ELASTICSEARCH_MAX_CONNECTIONS_PER_ROUTE</code><button class="btn-copy fa fa-clipboard inline-btn-copy" data-clipboard-action="copy" data-clipboard-target="#env-var-29246" title="Copy to clipboard" do-not-collapse="true"></button></p>
</div>
</div>
</div>
<div class="paragraph description-decoration">
<p><i class="fa fa-chevron-down"></i><span>Show more</span></p>
</div></div></td>
<td class="tableblock halign-left valign-middle"><p class="tableblock">int</p></td>
<td class="tableblock halign-left valign-middle"><p class="tableblock"><code>10</code></p></td>
</tr>
<tr class="row-collapsible row-collapsed row-with-desc odd">
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><a id="quarkus-hibernate-search-orm-elasticsearch_quarkus-hibernate-search-orm-elasticsearch-discovery-enabled"></a> <span class="property-path"><a href="#quarkus-hibernate-search-orm-elasticsearch_quarkus-hibernate-search-orm-elasticsearch-discovery-enabled"><code>quarkus.hibernate-search-orm.elasticsearch.discovery.enabled</code></a></span></p>
</div>
<div class="paragraph">
<p><code>quarkus.hibernate-search-orm.elasticsearch."backend-name".discovery.enabled</code></p>
</div>
<div class="paragraph">
<p><code>quarkus.hibernate-search-orm."persistence-unit-name".elasticsearch.discovery.enabled</code></p>
</div>
<div class="paragraph">
<p><code>quarkus.hibernate-search-orm."persistence-unit-name".elasticsearch."backend-name".discovery.enabled</code></p>
</div>
<div id="conf-collapsible-desc-25" class="openblock description description-collapsed">
<div class="content">
<div class="paragraph">
<p>Defines if automatic discovery is enabled.</p>
</div>
<div class="paragraph">
<p>Environment variable: <code id="env-var-29247">QUARKUS_HIBERNATE_SEARCH_ORM_ELASTICSEARCH_DISCOVERY_ENABLED</code><button class="btn-copy fa fa-clipboard inline-btn-copy" data-clipboard-action="copy" data-clipboard-target="#env-var-29247" title="Copy to clipboard" do-not-collapse="true"></button></p>
</div>
</div>
</div>
<div class="paragraph description-decoration">
<p><i class="fa fa-chevron-down"></i><span>Show more</span></p>
</div></div></td>
<td class="tableblock halign-left valign-middle"><p class="tableblock">boolean</p></td>
<td class="tableblock halign-left valign-middle"><p class="tableblock"><code>false</code></p></td>
</tr>
<tr class="row-collapsible row-collapsed row-with-desc">
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><a id="quarkus-hibernate-search-orm-elasticsearch_quarkus-hibernate-search-orm-elasticsearch-discovery-refresh-interval"></a> <span class="property-path"><a href="#quarkus-hibernate-search-orm-elasticsearch_quarkus-hibernate-search-orm-elasticsearch-discovery-refresh-interval"><code>quarkus.hibernate-search-orm.elasticsearch.discovery.refresh-interval</code></a></span></p>
</div>
<div class="paragraph">
<p><code>quarkus.hibernate-search-orm.elasticsearch."backend-name".discovery.refresh-interval</code></p>
</div>
<div class="paragraph">
<p><code>quarkus.hibernate-search-orm."persistence-unit-name".elasticsearch.discovery.refresh-interval</code></p>
</div>
<div class="paragraph">
<p><code>quarkus.hibernate-search-orm."persistence-unit-name".elasticsearch."backend-name".discovery.refresh-interval</code></p>
</div>
<div id="conf-collapsible-desc-26" class="openblock description description-collapsed">
<div class="content">
<div class="paragraph">
<p>Refresh interval of the node list.</p>
</div>
<div class="paragraph">
<p>Environment variable: <code id="env-var-29248">QUARKUS_HIBERNATE_SEARCH_ORM_ELASTICSEARCH_DISCOVERY_REFRESH_INTERVAL</code><button class="btn-copy fa fa-clipboard inline-btn-copy" data-clipboard-action="copy" data-clipboard-target="#env-var-29248" title="Copy to clipboard" do-not-collapse="true"></button></p>
</div>
</div>
</div>
<div class="paragraph description-decoration">
<p><i class="fa fa-chevron-down"></i><span>Show more</span></p>
</div></div></td>
<td class="tableblock halign-left valign-middle"><p class="tableblock"><a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/time/Duration.html">Duration</a> <a href="#duration-note-anchor-{summaryTableId}"><span class="icon"><i class="fa fa-question-circle" title="More information about the Duration format"></i></span></a></p></td>
<td class="tableblock halign-left valign-middle"><p class="tableblock"><code>10S</code></p></td>
</tr>
<tr class="row-collapsible row-collapsed row-with-desc odd">
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><a id="quarkus-hibernate-search-orm-elasticsearch_quarkus-hibernate-search-orm-elasticsearch-thread-pool-size"></a> <span class="property-path"><a href="#quarkus-hibernate-search-orm-elasticsearch_quarkus-hibernate-search-orm-elasticsearch-thread-pool-size"><code>quarkus.hibernate-search-orm.elasticsearch.thread-pool.size</code></a></span></p>
</div>
<div class="paragraph">
<p><code>quarkus.hibernate-search-orm.elasticsearch."backend-name".thread-pool.size</code></p>
</div>
<div class="paragraph">
<p><code>quarkus.hibernate-search-orm."persistence-unit-name".elasticsearch.thread-pool.size</code></p>
</div>
<div class="paragraph">
<p><code>quarkus.hibernate-search-orm."persistence-unit-name".elasticsearch."backend-name".thread-pool.size</code></p>
</div>
<div id="conf-collapsible-desc-27" class="openblock description description-collapsed">
<div class="content">
<div class="paragraph">
<p>The size of the thread pool assigned to the backend.</p>
</div>
<div class="paragraph">
<p>Note that number is <strong>per backend</strong>, not per index.
Adding more indexes will not add more threads.</p>
</div>
<div class="paragraph">
<p>As all operations happening in this thread-pool are non-blocking,
raising its size above the number of processor cores available to the JVM will not bring noticeable performance
benefit.
The only reason to alter this setting would be to reduce the number of threads;
for example, in an application with a single index with a single indexing queue,
running on a machine with 64 processor cores,
you might want to bring down the number of threads.</p>
</div>
<div class="paragraph">
<p>Defaults to the number of processor cores available to the JVM on startup.</p>
</div>
<div class="paragraph">
<p>Environment variable: <code id="env-var-29249">QUARKUS_HIBERNATE_SEARCH_ORM_ELASTICSEARCH_THREAD_POOL_SIZE</code><button class="btn-copy fa fa-clipboard inline-btn-copy" data-clipboard-action="copy" data-clipboard-target="#env-var-29249" title="Copy to clipboard" do-not-collapse="true"></button></p>
</div>
</div>
</div>
<div class="paragraph description-decoration">
<p><i class="fa fa-chevron-down"></i><span>Show more</span></p>
</div></div></td>
<td class="tableblock halign-left valign-middle"><p class="tableblock">int</p></td>
<td class="tableblock halign-left valign-middle"></td>
</tr>
<tr class="row-collapsible row-collapsed row-with-desc">
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><a id="quarkus-hibernate-search-orm-elasticsearch_quarkus-hibernate-search-orm-elasticsearch-query-shard-failure-ignore"></a> <span class="property-path"><a href="#quarkus-hibernate-search-orm-elasticsearch_quarkus-hibernate-search-orm-elasticsearch-query-shard-failure-ignore"><code>quarkus.hibernate-search-orm.elasticsearch.query.shard-failure.ignore</code></a></span></p>
</div>
<div class="paragraph">
<p><code>quarkus.hibernate-search-orm.elasticsearch."backend-name".query.shard-failure.ignore</code></p>
</div>
<div class="paragraph">
<p><code>quarkus.hibernate-search-orm."persistence-unit-name".elasticsearch.query.shard-failure.ignore</code></p>
</div>
<div class="paragraph">
<p><code>quarkus.hibernate-search-orm."persistence-unit-name".elasticsearch."backend-name".query.shard-failure.ignore</code></p>
</div>
<div id="conf-collapsible-desc-28" class="openblock description description-collapsed">
<div class="content">
<div class="paragraph">
<p>Whether partial shard failures are ignored (<code>true</code>) or lead to Hibernate Search throwing an exception (<code>false</code>).</p>
</div>
<div class="paragraph">
<p>Environment variable: <code id="env-var-29250">QUARKUS_HIBERNATE_SEARCH_ORM_ELASTICSEARCH_QUERY_SHARD_FAILURE_IGNORE</code><button class="btn-copy fa fa-clipboard inline-btn-copy" data-clipboard-action="copy" data-clipboard-target="#env-var-29250" title="Copy to clipboard" do-not-collapse="true"></button></p>
</div>
</div>
</div>
<div class="paragraph description-decoration">
<p><i class="fa fa-chevron-down"></i><span>Show more</span></p>
</div></div></td>
<td class="tableblock halign-left valign-middle"><p class="tableblock">boolean</p></td>
<td class="tableblock halign-left valign-middle"><p class="tableblock"><code>false</code></p></td>
</tr>
<tr class="row-collapsible row-collapsed row-with-desc odd">
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><a id="quarkus-hibernate-search-orm-elasticsearch_quarkus-hibernate-search-orm-elasticsearch-version-check-enabled"></a> <span class="property-path"><a href="#quarkus-hibernate-search-orm-elasticsearch_quarkus-hibernate-search-orm-elasticsearch-version-check-enabled"><code>quarkus.hibernate-search-orm.elasticsearch.version-check.enabled</code></a></span></p>
</div>
<div class="paragraph">
<p><code>quarkus.hibernate-search-orm.elasticsearch."backend-name".version-check.enabled</code></p>
</div>
<div class="paragraph">
<p><code>quarkus.hibernate-search-orm."persistence-unit-name".elasticsearch.version-check.enabled</code></p>
</div>
<div class="paragraph">
<p><code>quarkus.hibernate-search-orm."persistence-unit-name".elasticsearch."backend-name".version-check.enabled</code></p>
</div>
<div id="conf-collapsible-desc-29" class="openblock description description-collapsed">
<div class="content">
<div class="paragraph">
<p>Whether Hibernate Search should check the version of the Elasticsearch cluster on startup.</p>
</div>
<div class="paragraph">
<p>Set to <code>false</code> if the Elasticsearch cluster may not be available on startup.</p>
</div>
<div class="paragraph">
<p>Environment variable: <code id="env-var-29251">QUARKUS_HIBERNATE_SEARCH_ORM_ELASTICSEARCH_VERSION_CHECK_ENABLED</code><button class="btn-copy fa fa-clipboard inline-btn-copy" data-clipboard-action="copy" data-clipboard-target="#env-var-29251" title="Copy to clipboard" do-not-collapse="true"></button></p>
</div>
</div>
</div>
<div class="paragraph description-decoration">
<p><i class="fa fa-chevron-down"></i><span>Show more</span></p>
</div></div></td>
<td class="tableblock halign-left valign-middle"><p class="tableblock">boolean</p></td>
<td class="tableblock halign-left valign-middle"><p class="tableblock"><code>true</code></p></td>
</tr>
<tr class="row-collapsible row-collapsed row-with-desc">
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><a id="quarkus-hibernate-search-orm-elasticsearch_quarkus-hibernate-search-orm-elasticsearch-schema-management-required-status"></a> <span class="property-path"><a href="#quarkus-hibernate-search-orm-elasticsearch_quarkus-hibernate-search-orm-elasticsearch-schema-management-required-status"><code>quarkus.hibernate-search-orm.elasticsearch.schema-management.required-status</code></a></span></p>
</div>
<div class="paragraph">
<p><code>quarkus.hibernate-search-orm.elasticsearch."backend-name".schema-management.required-status</code></p>
</div>
<div class="paragraph">
<p><code>quarkus.hibernate-search-orm."persistence-unit-name".elasticsearch.schema-management.required-status</code></p>
</div>
<div class="paragraph">
<p><code>quarkus.hibernate-search-orm."persistence-unit-name".elasticsearch."backend-name".schema-management.required-status</code></p>
</div>
<div id="conf-collapsible-desc-30" class="openblock description description-collapsed">
<div class="content">
<div class="paragraph">
<p>The minimal <a href="https://www.elastic.co/guide/en/elasticsearch/reference/7.17/cluster-health.html">Elasticsearch cluster
status</a> required on startup.</p>
</div>
<div class="paragraph">
<p>Environment variable: <code id="env-var-29252">QUARKUS_HIBERNATE_SEARCH_ORM_ELASTICSEARCH_SCHEMA_MANAGEMENT_REQUIRED_STATUS</code><button class="btn-copy fa fa-clipboard inline-btn-copy" data-clipboard-action="copy" data-clipboard-target="#env-var-29252" title="Copy to clipboard" do-not-collapse="true"></button></p>
</div>
</div>
</div>
<div class="paragraph description-decoration">
<p><i class="fa fa-chevron-down"></i><span>Show more</span></p>
</div></div></td>
<td class="tableblock halign-left valign-middle"><div class="content"><div class="paragraph">
<p><code>green</code>, <code>yellow</code>, <code>red</code></p>
</div></div></td>
<td class="tableblock halign-left valign-middle"><p class="tableblock"><code>yellow</code></p></td>
</tr>
<tr class="row-collapsible row-collapsed row-with-desc row-hidden odd">
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><a id="quarkus-hibernate-search-orm-elasticsearch_quarkus-hibernate-search-orm-elasticsearch-schema-management-required-status-wait-timeout"></a> <span class="property-path"><a href="#quarkus-hibernate-search-orm-elasticsearch_quarkus-hibernate-search-orm-elasticsearch-schema-management-required-status-wait-timeout"><code>quarkus.hibernate-search-orm.elasticsearch.schema-management.required-status-wait-timeout</code></a></span></p>
</div>
<div class="paragraph">
<p><code>quarkus.hibernate-search-orm.elasticsearch."backend-name".schema-management.required-status-wait-timeout</code></p>
</div>
<div class="paragraph">
<p><code>quarkus.hibernate-search-orm."persistence-unit-name".elasticsearch.schema-management.required-status-wait-timeout</code></p>
</div>
<div class="paragraph">
<p><code>quarkus.hibernate-search-orm."persistence-unit-name".elasticsearch."backend-name".schema-management.required-status-wait-timeout</code></p>
</div>
<div id="conf-collapsible-desc-31" class="openblock description description-collapsed">
<div class="content">
<div class="paragraph">
<p>How long we should wait for the status before failing the bootstrap.</p>
</div>
<div class="paragraph">
<p>Environment variable: <code id="env-var-29253">QUARKUS_HIBERNATE_SEARCH_ORM_ELASTICSEARCH_SCHEMA_MANAGEMENT_REQUIRED_STATUS_WAIT_TIMEOUT</code><button class="btn-copy fa fa-clipboard inline-btn-copy" data-clipboard-action="copy" data-clipboard-target="#env-var-29253" title="Copy to clipboard" do-not-collapse="true"></button></p>
</div>
</div>
</div>
<div class="paragraph description-decoration">
<p><i class="fa fa-chevron-down"></i><span>Show more</span></p>
</div></div></td>
<td class="tableblock halign-left valign-middle"><p class="tableblock"><a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/time/Duration.html">Duration</a> <a href="#duration-note-anchor-{summaryTableId}"><span class="icon"><i class="fa fa-question-circle" title="More information about the Duration format"></i></span></a></p></td>
<td class="tableblock halign-left valign-middle"><p class="tableblock"><code>10S</code></p></td>
</tr>
<tr class="row-collapsible row-collapsed row-with-desc row-hidden">
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><a id="quarkus-hibernate-search-orm-elasticsearch_quarkus-hibernate-search-orm-elasticsearch-indexing-queue-count"></a> <span class="property-path"><a href="#quarkus-hibernate-search-orm-elasticsearch_quarkus-hibernate-search-orm-elasticsearch-indexing-queue-count"><code>quarkus.hibernate-search-orm.elasticsearch.indexing.queue-count</code></a></span></p>
</div>
<div class="paragraph">
<p><code>quarkus.hibernate-search-orm.elasticsearch."backend-name".indexing.queue-count</code></p>
</div>
<div class="paragraph">
<p><code>quarkus.hibernate-search-orm."persistence-unit-name".elasticsearch.indexing.queue-count</code></p>
</div>
<div class="paragraph">
<p><code>quarkus.hibernate-search-orm."persistence-unit-name".elasticsearch."backend-name".indexing.queue-count</code></p>
</div>
<div id="conf-collapsible-desc-32" class="openblock description description-collapsed">
<div class="content">
<div class="paragraph">
<p>The number of indexing queues assigned to each index.</p>
</div>
<div class="paragraph">
<p>Higher values will lead to more connections being used in parallel,
which may lead to higher indexing throughput,
but incurs a risk of overloading Elasticsearch,
i.e. of overflowing its HTTP request buffers and tripping
<a href="https://www.elastic.co/guide/en/elasticsearch/reference/7.9/circuit-breaker.html">circuit breakers</a>,
leading to Elasticsearch giving up on some request and resulting in indexing failures.</p>
</div>
<div class="paragraph">
<p>Environment variable: <code id="env-var-29254">QUARKUS_HIBERNATE_SEARCH_ORM_ELASTICSEARCH_INDEXING_QUEUE_COUNT</code><button class="btn-copy fa fa-clipboard inline-btn-copy" data-clipboard-action="copy" data-clipboard-target="#env-var-29254" title="Copy to clipboard" do-not-collapse="true"></button></p>
</div>
</div>
</div>
<div class="paragraph description-decoration">
<p><i class="fa fa-chevron-down"></i><span>Show more</span></p>
</div></div></td>
<td class="tableblock halign-left valign-middle"><p class="tableblock">int</p></td>
<td class="tableblock halign-left valign-middle"><p class="tableblock"><code>10</code></p></td>
</tr>
<tr class="row-collapsible row-collapsed row-with-desc row-hidden odd">
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><a id="quarkus-hibernate-search-orm-elasticsearch_quarkus-hibernate-search-orm-elasticsearch-indexing-queue-size"></a> <span class="property-path"><a href="#quarkus-hibernate-search-orm-elasticsearch_quarkus-hibernate-search-orm-elasticsearch-indexing-queue-size"><code>quarkus.hibernate-search-orm.elasticsearch.indexing.queue-size</code></a></span></p>
</div>
<div class="paragraph">
<p><code>quarkus.hibernate-search-orm.elasticsearch."backend-name".indexing.queue-size</code></p>
</div>
<div class="paragraph">
<p><code>quarkus.hibernate-search-orm."persistence-unit-name".elasticsearch.indexing.queue-size</code></p>
</div>
<div class="paragraph">
<p><code>quarkus.hibernate-search-orm."persistence-unit-name".elasticsearch."backend-name".indexing.queue-size</code></p>
</div>
<div id="conf-collapsible-desc-33" class="openblock description description-collapsed">
<div class="content">
<div class="paragraph">
<p>The size of indexing queues.</p>
</div>
<div class="paragraph">
<p>Lower values may lead to lower memory usage, especially if there are many queues,
but values that are too low will reduce the likeliness of reaching the max bulk size
and increase the likeliness of application threads blocking because the queue is full,
which may lead to lower indexing throughput.</p>
</div>
<div class="paragraph">
<p>Environment variable: <code id="env-var-29255">QUARKUS_HIBERNATE_SEARCH_ORM_ELASTICSEARCH_INDEXING_QUEUE_SIZE</code><button class="btn-copy fa fa-clipboard inline-btn-copy" data-clipboard-action="copy" data-clipboard-target="#env-var-29255" title="Copy to clipboard" do-not-collapse="true"></button></p>
</div>
</div>
</div>
<div class="paragraph description-decoration">
<p><i class="fa fa-chevron-down"></i><span>Show more</span></p>
</div></div></td>
<td class="tableblock halign-left valign-middle"><p class="tableblock">int</p></td>
<td class="tableblock halign-left valign-middle"><p class="tableblock"><code>1000</code></p></td>
</tr>
<tr class="row-collapsible row-collapsed row-with-desc row-hidden">
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><a id="quarkus-hibernate-search-orm-elasticsearch_quarkus-hibernate-search-orm-elasticsearch-indexing-max-bulk-size"></a> <span class="property-path"><a href="#quarkus-hibernate-search-orm-elasticsearch_quarkus-hibernate-search-orm-elasticsearch-indexing-max-bulk-size"><code>quarkus.hibernate-search-orm.elasticsearch.indexing.max-bulk-size</code></a></span></p>
</div>
<div class="paragraph">
<p><code>quarkus.hibernate-search-orm.elasticsearch."backend-name".indexing.max-bulk-size</code></p>
</div>
<div class="paragraph">
<p><code>quarkus.hibernate-search-orm."persistence-unit-name".elasticsearch.indexing.max-bulk-size</code></p>
</div>
<div class="paragraph">
<p><code>quarkus.hibernate-search-orm."persistence-unit-name".elasticsearch."backend-name".indexing.max-bulk-size</code></p>
</div>
<div id="conf-collapsible-desc-34" class="openblock description description-collapsed">
<div class="content">
<div class="paragraph">
<p>The maximum size of bulk requests created when processing indexing queues.</p>
</div>
<div class="paragraph">
<p>Higher values will lead to more documents being sent in each HTTP request sent to Elasticsearch,
which may lead to higher indexing throughput,
but incurs a risk of overloading Elasticsearch,
i.e. of overflowing its HTTP request buffers and tripping
<a href="https://www.elastic.co/guide/en/elasticsearch/reference/7.9/circuit-breaker.html">circuit breakers</a>,
leading to Elasticsearch giving up on some request and resulting in indexing failures.</p>
</div>
<div class="paragraph">
<p>Note that raising this number above the queue size has no effect,
as bulks cannot include more requests than are contained in the queue.</p>
</div>
<div class="paragraph">
<p>Environment variable: <code id="env-var-29256">QUARKUS_HIBERNATE_SEARCH_ORM_ELASTICSEARCH_INDEXING_MAX_BULK_SIZE</code><button class="btn-copy fa fa-clipboard inline-btn-copy" data-clipboard-action="copy" data-clipboard-target="#env-var-29256" title="Copy to clipboard" do-not-collapse="true"></button></p>
</div>
</div>
</div>
<div class="paragraph description-decoration">
<p><i class="fa fa-chevron-down"></i><span>Show more</span></p>
</div></div></td>
<td class="tableblock halign-left valign-middle"><p class="tableblock">int</p></td>
<td class="tableblock halign-left valign-middle"><p class="tableblock"><code>100</code></p></td>
</tr>
<tr>
<th class="tableblock halign-left valign-top"><p class="tableblock"><a id="quarkus-hibernate-search-orm-elasticsearch_section_quarkus-hibernate-search-orm-elasticsearch-indexes"></a> <span class="section-name section-level1"><a href="#quarkus-hibernate-search-orm-elasticsearch_section_quarkus-hibernate-search-orm-elasticsearch-indexes">Per-index configuration overrides</a></span></p></th>
<th class="tableblock halign-left valign-middle"><p class="tableblock">Type</p></th>
<th class="tableblock halign-left valign-middle"><p class="tableblock">Default</p></th>
</tr>
<tr class="row-collapsible row-collapsed row-with-desc row-hidden odd">
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><span class="icon"><i class="fa fa-lock" title="Fixed at build time"></i></span> <a id="quarkus-hibernate-search-orm-elasticsearch_quarkus-hibernate-search-orm-elasticsearch-indexes-index-name-schema-management-settings-file"></a> <span class="property-path"><a href="#quarkus-hibernate-search-orm-elasticsearch_quarkus-hibernate-search-orm-elasticsearch-indexes-index-name-schema-management-settings-file"><code>quarkus.hibernate-search-orm.elasticsearch.indexes."index-name".schema-management.settings-file</code></a></span></p>
</div>
<div class="paragraph">
<p><code>quarkus.hibernate-search-orm.elasticsearch."backend-name".indexes."index-name".schema-management.settings-file</code></p>
</div>
<div class="paragraph">
<p><code>quarkus.hibernate-search-orm."persistence-unit-name".elasticsearch.indexes."index-name".schema-management.settings-file</code></p>
</div>
<div class="paragraph">
<p><code>quarkus.hibernate-search-orm."persistence-unit-name".elasticsearch."backend-name".indexes."index-name".schema-management.settings-file</code></p>
</div>
<div id="conf-collapsible-desc-35" class="openblock description description-collapsed">
<div class="content">
<div class="paragraph">
<p>Path to a file in the classpath holding custom index settings to be included in the index definition
when creating an Elasticsearch index.</p>
</div>
<div class="paragraph">
<p>The provided settings will be merged with those generated by Hibernate Search, including analyzer definitions.
When analysis is configured both through an analysis configurer and these custom settings, the behavior is undefined;
it should not be relied upon.</p>
</div>
<div class="paragraph">
<p>See <a href="https://docs.jboss.org/hibernate/search/7.2/reference/en-US/html_single/#backend-elasticsearch-configuration-index-settings">this section of the reference documentation</a>
for more information.</p>
</div>
<div class="paragraph">
<p>Environment variable: <code id="env-var-29257">QUARKUS_HIBERNATE_SEARCH_ORM_ELASTICSEARCH_INDEXES__INDEX_NAME__SCHEMA_MANAGEMENT_SETTINGS_FILE</code><button class="btn-copy fa fa-clipboard inline-btn-copy" data-clipboard-action="copy" data-clipboard-target="#env-var-29257" title="Copy to clipboard" do-not-collapse="true"></button></p>
</div>
</div>
</div>
<div class="paragraph description-decoration">
<p><i class="fa fa-chevron-down"></i><span>Show more</span></p>
</div></div></td>
<td class="tableblock halign-left valign-middle"><p class="tableblock">string</p></td>
<td class="tableblock halign-left valign-middle"></td>
</tr>
<tr class="row-collapsible row-collapsed row-with-desc row-hidden">
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><span class="icon"><i class="fa fa-lock" title="Fixed at build time"></i></span> <a id="quarkus-hibernate-search-orm-elasticsearch_quarkus-hibernate-search-orm-elasticsearch-indexes-index-name-schema-management-mapping-file"></a> <span class="property-path"><a href="#quarkus-hibernate-search-orm-elasticsearch_quarkus-hibernate-search-orm-elasticsearch-indexes-index-name-schema-management-mapping-file"><code>quarkus.hibernate-search-orm.elasticsearch.indexes."index-name".schema-management.mapping-file</code></a></span></p>
</div>
<div class="paragraph">
<p><code>quarkus.hibernate-search-orm.elasticsearch."backend-name".indexes."index-name".schema-management.mapping-file</code></p>
</div>
<div class="paragraph">
<p><code>quarkus.hibernate-search-orm."persistence-unit-name".elasticsearch.indexes."index-name".schema-management.mapping-file</code></p>
</div>
<div class="paragraph">
<p><code>quarkus.hibernate-search-orm."persistence-unit-name".elasticsearch."backend-name".indexes."index-name".schema-management.mapping-file</code></p>
</div>
<div id="conf-collapsible-desc-36" class="openblock description description-collapsed">
<div class="content">
<div class="paragraph">
<p>Path to a file in the classpath holding a custom index mapping to be included in the index definition
when creating an Elasticsearch index.</p>
</div>
<div class="paragraph">
<p>The file does not need to (and generally shouldn&#8217;t) contain the full mapping:
Hibernate Search will automatically inject missing properties (index fields) in the given mapping.</p>
</div>
<div class="paragraph">
<p>See <a href="https://docs.jboss.org/hibernate/search/7.2/reference/en-US/html_single/#backend-elasticsearch-mapping-custom">this section of the reference documentation</a>
for more information.</p>
</div>
<div class="paragraph">
<p>Environment variable: <code id="env-var-29258">QUARKUS_HIBERNATE_SEARCH_ORM_ELASTICSEARCH_INDEXES__INDEX_NAME__SCHEMA_MANAGEMENT_MAPPING_FILE</code><button class="btn-copy fa fa-clipboard inline-btn-copy" data-clipboard-action="copy" data-clipboard-target="#env-var-29258" title="Copy to clipboard" do-not-collapse="true"></button></p>
</div>
</div>
</div>
<div class="paragraph description-decoration">
<p><i class="fa fa-chevron-down"></i><span>Show more</span></p>
</div></div></td>
<td class="tableblock halign-left valign-middle"><p class="tableblock">string</p></td>
<td class="tableblock halign-left valign-middle"></td>
</tr>
<tr class="row-collapsible row-collapsed row-with-desc row-hidden odd">
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><span class="icon"><i class="fa fa-lock" title="Fixed at build time"></i></span> <a id="quarkus-hibernate-search-orm-elasticsearch_quarkus-hibernate-search-orm-elasticsearch-indexes-index-name-analysis-configurer"></a> <span class="property-path"><a href="#quarkus-hibernate-search-orm-elasticsearch_quarkus-hibernate-search-orm-elasticsearch-indexes-index-name-analysis-configurer"><code>quarkus.hibernate-search-orm.elasticsearch.indexes."index-name".analysis.configurer</code></a></span></p>
</div>
<div class="paragraph">
<p><code>quarkus.hibernate-search-orm.elasticsearch."backend-name".indexes."index-name".analysis.configurer</code></p>
</div>
<div class="paragraph">
<p><code>quarkus.hibernate-search-orm."persistence-unit-name".elasticsearch.indexes."index-name".analysis.configurer</code></p>
</div>
<div class="paragraph">
<p><code>quarkus.hibernate-search-orm."persistence-unit-name".elasticsearch."backend-name".indexes."index-name".analysis.configurer</code></p>
</div>
<div id="conf-collapsible-desc-37" class="openblock description description-collapsed">
<div class="content">
<div class="paragraph">
<p>One or more <a href="#bean-reference-note-anchor">bean references</a>
to the component(s) used to configure full text analysis (e.g. analyzers, normalizers).</p>
</div>
<div class="paragraph">
<p>The referenced beans must implement <code>ElasticsearchAnalysisConfigurer</code>.</p>
</div>
<div class="paragraph">
<p>See <a href="#analysis-configurer">Setting up the analyzers</a> for more
information.</p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
<div class="paragraph">
<p>Instead of setting this configuration property,
you can simply annotate your custom <code>ElasticsearchAnalysisConfigurer</code> implementations with <code>@SearchExtension</code>
and leave the configuration property unset: Hibernate Search will use the annotated implementation automatically.
See <a href="#plugging-in-custom-components">this section</a>
for more information.</p>
</div>
<div class="paragraph">
<p>If this configuration property is set, it takes precedence over any <code>@SearchExtension</code> annotation.</p>
</div>
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>Environment variable: <code id="env-var-29259">QUARKUS_HIBERNATE_SEARCH_ORM_ELASTICSEARCH_INDEXES__INDEX_NAME__ANALYSIS_CONFIGURER</code><button class="btn-copy fa fa-clipboard inline-btn-copy" data-clipboard-action="copy" data-clipboard-target="#env-var-29259" title="Copy to clipboard" do-not-collapse="true"></button></p>
</div>
</div>
</div>
<div class="paragraph description-decoration">
<p><i class="fa fa-chevron-down"></i><span>Show more</span></p>
</div></div></td>
<td class="tableblock halign-left valign-middle"><p class="tableblock">list of string</p></td>
<td class="tableblock halign-left valign-middle"></td>
</tr>
<tr class="row-collapsible row-collapsed row-with-desc row-hidden">
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><a id="quarkus-hibernate-search-orm-elasticsearch_quarkus-hibernate-search-orm-elasticsearch-indexes-index-name-schema-management-required-status"></a> <span class="property-path"><a href="#quarkus-hibernate-search-orm-elasticsearch_quarkus-hibernate-search-orm-elasticsearch-indexes-index-name-schema-management-required-status"><code>quarkus.hibernate-search-orm.elasticsearch.indexes."index-name".schema-management.required-status</code></a></span></p>
</div>
<div class="paragraph">
<p><code>quarkus.hibernate-search-orm.elasticsearch."backend-name".indexes."index-name".schema-management.required-status</code></p>
</div>
<div class="paragraph">
<p><code>quarkus.hibernate-search-orm."persistence-unit-name".elasticsearch.indexes."index-name".schema-management.required-status</code></p>
</div>
<div class="paragraph">
<p><code>quarkus.hibernate-search-orm."persistence-unit-name".elasticsearch."backend-name".indexes."index-name".schema-management.required-status</code></p>
</div>
<div id="conf-collapsible-desc-38" class="openblock description description-collapsed">
<div class="content">
<div class="paragraph">
<p>The minimal <a href="https://www.elastic.co/guide/en/elasticsearch/reference/7.17/cluster-health.html">Elasticsearch cluster
status</a> required on startup.</p>
</div>
<div class="paragraph">
<p>Environment variable: <code id="env-var-29260">QUARKUS_HIBERNATE_SEARCH_ORM_ELASTICSEARCH_INDEXES__INDEX_NAME__SCHEMA_MANAGEMENT_REQUIRED_STATUS</code><button class="btn-copy fa fa-clipboard inline-btn-copy" data-clipboard-action="copy" data-clipboard-target="#env-var-29260" title="Copy to clipboard" do-not-collapse="true"></button></p>
</div>
</div>
</div>
<div class="paragraph description-decoration">
<p><i class="fa fa-chevron-down"></i><span>Show more</span></p>
</div></div></td>
<td class="tableblock halign-left valign-middle"><div class="content"><div class="paragraph">
<p><code>green</code>, <code>yellow</code>, <code>red</code></p>
</div></div></td>
<td class="tableblock halign-left valign-middle"><p class="tableblock"><code>yellow</code></p></td>
</tr>
<tr class="row-collapsible row-collapsed row-with-desc row-hidden odd">
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><a id="quarkus-hibernate-search-orm-elasticsearch_quarkus-hibernate-search-orm-elasticsearch-indexes-index-name-schema-management-required-status-wait-timeout"></a> <span class="property-path"><a href="#quarkus-hibernate-search-orm-elasticsearch_quarkus-hibernate-search-orm-elasticsearch-indexes-index-name-schema-management-required-status-wait-timeout"><code>quarkus.hibernate-search-orm.elasticsearch.indexes."index-name".schema-management.required-status-wait-timeout</code></a></span></p>
</div>
<div class="paragraph">
<p><code>quarkus.hibernate-search-orm.elasticsearch."backend-name".indexes."index-name".schema-management.required-status-wait-timeout</code></p>
</div>
<div class="paragraph">
<p><code>quarkus.hibernate-search-orm."persistence-unit-name".elasticsearch.indexes."index-name".schema-management.required-status-wait-timeout</code></p>
</div>
<div class="paragraph">
<p><code>quarkus.hibernate-search-orm."persistence-unit-name".elasticsearch."backend-name".indexes."index-name".schema-management.required-status-wait-timeout</code></p>
</div>
<div id="conf-collapsible-desc-39" class="openblock description description-collapsed">
<div class="content">
<div class="paragraph">
<p>How long we should wait for the status before failing the bootstrap.</p>
</div>
<div class="paragraph">
<p>Environment variable: <code id="env-var-29261">QUARKUS_HIBERNATE_SEARCH_ORM_ELASTICSEARCH_INDEXES__INDEX_NAME__SCHEMA_MANAGEMENT_REQUIRED_STATUS_WAIT_TIMEOUT</code><button class="btn-copy fa fa-clipboard inline-btn-copy" data-clipboard-action="copy" data-clipboard-target="#env-var-29261" title="Copy to clipboard" do-not-collapse="true"></button></p>
</div>
</div>
</div>
<div class="paragraph description-decoration">
<p><i class="fa fa-chevron-down"></i><span>Show more</span></p>
</div></div></td>
<td class="tableblock halign-left valign-middle"><p class="tableblock"><a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/time/Duration.html">Duration</a> <a href="#duration-note-anchor-{summaryTableId}"><span class="icon"><i class="fa fa-question-circle" title="More information about the Duration format"></i></span></a></p></td>
<td class="tableblock halign-left valign-middle"><p class="tableblock"><code>10S</code></p></td>
</tr>
<tr class="row-collapsible row-collapsed row-with-desc row-hidden">
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><a id="quarkus-hibernate-search-orm-elasticsearch_quarkus-hibernate-search-orm-elasticsearch-indexes-index-name-indexing-queue-count"></a> <span class="property-path"><a href="#quarkus-hibernate-search-orm-elasticsearch_quarkus-hibernate-search-orm-elasticsearch-indexes-index-name-indexing-queue-count"><code>quarkus.hibernate-search-orm.elasticsearch.indexes."index-name".indexing.queue-count</code></a></span></p>
</div>
<div class="paragraph">
<p><code>quarkus.hibernate-search-orm.elasticsearch."backend-name".indexes."index-name".indexing.queue-count</code></p>
</div>
<div class="paragraph">
<p><code>quarkus.hibernate-search-orm."persistence-unit-name".elasticsearch.indexes."index-name".indexing.queue-count</code></p>
</div>
<div class="paragraph">
<p><code>quarkus.hibernate-search-orm."persistence-unit-name".elasticsearch."backend-name".indexes."index-name".indexing.queue-count</code></p>
</div>
<div id="conf-collapsible-desc-40" class="openblock description description-collapsed">
<div class="content">
<div class="paragraph">
<p>The number of indexing queues assigned to each index.</p>
</div>
<div class="paragraph">
<p>Higher values will lead to more connections being used in parallel,
which may lead to higher indexing throughput,
but incurs a risk of overloading Elasticsearch,
i.e. of overflowing its HTTP request buffers and tripping
<a href="https://www.elastic.co/guide/en/elasticsearch/reference/7.9/circuit-breaker.html">circuit breakers</a>,
leading to Elasticsearch giving up on some request and resulting in indexing failures.</p>
</div>
<div class="paragraph">
<p>Environment variable: <code id="env-var-29262">QUARKUS_HIBERNATE_SEARCH_ORM_ELASTICSEARCH_INDEXES__INDEX_NAME__INDEXING_QUEUE_COUNT</code><button class="btn-copy fa fa-clipboard inline-btn-copy" data-clipboard-action="copy" data-clipboard-target="#env-var-29262" title="Copy to clipboard" do-not-collapse="true"></button></p>
</div>
</div>
</div>
<div class="paragraph description-decoration">
<p><i class="fa fa-chevron-down"></i><span>Show more</span></p>
</div></div></td>
<td class="tableblock halign-left valign-middle"><p class="tableblock">int</p></td>
<td class="tableblock halign-left valign-middle"><p class="tableblock"><code>10</code></p></td>
</tr>
<tr class="row-collapsible row-collapsed row-with-desc row-hidden odd">
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><a id="quarkus-hibernate-search-orm-elasticsearch_quarkus-hibernate-search-orm-elasticsearch-indexes-index-name-indexing-queue-size"></a> <span class="property-path"><a href="#quarkus-hibernate-search-orm-elasticsearch_quarkus-hibernate-search-orm-elasticsearch-indexes-index-name-indexing-queue-size"><code>quarkus.hibernate-search-orm.elasticsearch.indexes."index-name".indexing.queue-size</code></a></span></p>
</div>
<div class="paragraph">
<p><code>quarkus.hibernate-search-orm.elasticsearch."backend-name".indexes."index-name".indexing.queue-size</code></p>
</div>
<div class="paragraph">
<p><code>quarkus.hibernate-search-orm."persistence-unit-name".elasticsearch.indexes."index-name".indexing.queue-size</code></p>
</div>
<div class="paragraph">
<p><code>quarkus.hibernate-search-orm."persistence-unit-name".elasticsearch."backend-name".indexes."index-name".indexing.queue-size</code></p>
</div>
<div id="conf-collapsible-desc-41" class="openblock description description-collapsed">
<div class="content">
<div class="paragraph">
<p>The size of indexing queues.</p>
</div>
<div class="paragraph">
<p>Lower values may lead to lower memory usage, especially if there are many queues,
but values that are too low will reduce the likeliness of reaching the max bulk size
and increase the likeliness of application threads blocking because the queue is full,
which may lead to lower indexing throughput.</p>
</div>
<div class="paragraph">
<p>Environment variable: <code id="env-var-29263">QUARKUS_HIBERNATE_SEARCH_ORM_ELASTICSEARCH_INDEXES__INDEX_NAME__INDEXING_QUEUE_SIZE</code><button class="btn-copy fa fa-clipboard inline-btn-copy" data-clipboard-action="copy" data-clipboard-target="#env-var-29263" title="Copy to clipboard" do-not-collapse="true"></button></p>
</div>
</div>
</div>
<div class="paragraph description-decoration">
<p><i class="fa fa-chevron-down"></i><span>Show more</span></p>
</div></div></td>
<td class="tableblock halign-left valign-middle"><p class="tableblock">int</p></td>
<td class="tableblock halign-left valign-middle"><p class="tableblock"><code>1000</code></p></td>
</tr>
<tr class="row-collapsible row-collapsed row-with-desc row-hidden">
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><a id="quarkus-hibernate-search-orm-elasticsearch_quarkus-hibernate-search-orm-elasticsearch-indexes-index-name-indexing-max-bulk-size"></a> <span class="property-path"><a href="#quarkus-hibernate-search-orm-elasticsearch_quarkus-hibernate-search-orm-elasticsearch-indexes-index-name-indexing-max-bulk-size"><code>quarkus.hibernate-search-orm.elasticsearch.indexes."index-name".indexing.max-bulk-size</code></a></span></p>
</div>
<div class="paragraph">
<p><code>quarkus.hibernate-search-orm.elasticsearch."backend-name".indexes."index-name".indexing.max-bulk-size</code></p>
</div>
<div class="paragraph">
<p><code>quarkus.hibernate-search-orm."persistence-unit-name".elasticsearch.indexes."index-name".indexing.max-bulk-size</code></p>
</div>
<div class="paragraph">
<p><code>quarkus.hibernate-search-orm."persistence-unit-name".elasticsearch."backend-name".indexes."index-name".indexing.max-bulk-size</code></p>
</div>
<div id="conf-collapsible-desc-42" class="openblock description description-collapsed">
<div class="content">
<div class="paragraph">
<p>The maximum size of bulk requests created when processing indexing queues.</p>
</div>
<div class="paragraph">
<p>Higher values will lead to more documents being sent in each HTTP request sent to Elasticsearch,
which may lead to higher indexing throughput,
but incurs a risk of overloading Elasticsearch,
i.e. of overflowing its HTTP request buffers and tripping
<a href="https://www.elastic.co/guide/en/elasticsearch/reference/7.9/circuit-breaker.html">circuit breakers</a>,
leading to Elasticsearch giving up on some request and resulting in indexing failures.</p>
</div>
<div class="paragraph">
<p>Note that raising this number above the queue size has no effect,
as bulks cannot include more requests than are contained in the queue.</p>
</div>
<div class="paragraph">
<p>Environment variable: <code id="env-var-29264">QUARKUS_HIBERNATE_SEARCH_ORM_ELASTICSEARCH_INDEXES__INDEX_NAME__INDEXING_MAX_BULK_SIZE</code><button class="btn-copy fa fa-clipboard inline-btn-copy" data-clipboard-action="copy" data-clipboard-target="#env-var-29264" title="Copy to clipboard" do-not-collapse="true"></button></p>
</div>
</div>
</div>
<div class="paragraph description-decoration">
<p><i class="fa fa-chevron-down"></i><span>Show more</span></p>
</div></div></td>
<td class="tableblock halign-left valign-middle"><p class="tableblock">int</p></td>
<td class="tableblock halign-left valign-middle"><p class="tableblock"><code>100</code></p></td>
</tr>
<tr>
<th class="tableblock halign-left valign-top"><p class="tableblock"><a id="quarkus-hibernate-search-orm-elasticsearch_section_quarkus-hibernate-search-orm-management"></a> <span class="section-name section-level0"><a href="#quarkus-hibernate-search-orm-elasticsearch_section_quarkus-hibernate-search-orm-management">Management interface</a></span></p></th>
<th class="tableblock halign-left valign-middle"><p class="tableblock">Type</p></th>
<th class="tableblock halign-left valign-middle"><p class="tableblock">Default</p></th>
</tr>
<tr class="row-collapsible row-collapsed row-with-desc row-hidden odd">
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><span class="icon"><i class="fa fa-lock" title="Fixed at build time"></i></span> <a id="quarkus-hibernate-search-orm-elasticsearch_quarkus-hibernate-search-orm-management-root-path"></a> <span class="property-path"><a href="#quarkus-hibernate-search-orm-elasticsearch_quarkus-hibernate-search-orm-management-root-path"><code>quarkus.hibernate-search-orm.management.root-path</code></a></span></p>
</div>
<div id="conf-collapsible-desc-43" class="openblock description description-collapsed">
<div class="content">
<div class="paragraph">
<p>Root path for reindexing endpoints.
This value will be resolved as a path relative to <code>${quarkus.management.root-path}</code>.</p>
</div>
<div class="paragraph">
<p>Environment variable: <code id="env-var-29265">QUARKUS_HIBERNATE_SEARCH_ORM_MANAGEMENT_ROOT_PATH</code><button class="btn-copy fa fa-clipboard inline-btn-copy" data-clipboard-action="copy" data-clipboard-target="#env-var-29265" title="Copy to clipboard" do-not-collapse="true"></button></p>
</div>
</div>
</div>
<div class="paragraph description-decoration">
<p><i class="fa fa-chevron-down"></i><span>Show more</span></p>
</div></div></td>
<td class="tableblock halign-left valign-middle"><p class="tableblock">string</p></td>
<td class="tableblock halign-left valign-middle"><p class="tableblock"><code>hibernate-search/</code></p></td>
</tr>
<tr class="row-collapsible row-collapsed row-with-desc row-hidden">
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><span class="icon"><i class="fa fa-lock" title="Fixed at build time"></i></span> <a id="quarkus-hibernate-search-orm-elasticsearch_quarkus-hibernate-search-orm-management-enabled"></a> <span class="property-path"><a href="#quarkus-hibernate-search-orm-elasticsearch_quarkus-hibernate-search-orm-management-enabled"><code>quarkus.hibernate-search-orm.management.enabled</code></a></span></p>
</div>
<div id="conf-collapsible-desc-44" class="openblock description description-collapsed">
<div class="content">
<div class="paragraph">
<p>If management interface is turned on the reindexing endpoints will be published under the management interface.
This property allows to enable this functionality by setting it to <code>`true</code>.</p>
</div>
<div class="paragraph">
<p>Environment variable: <code id="env-var-29266">QUARKUS_HIBERNATE_SEARCH_ORM_MANAGEMENT_ENABLED</code><button class="btn-copy fa fa-clipboard inline-btn-copy" data-clipboard-action="copy" data-clipboard-target="#env-var-29266" title="Copy to clipboard" do-not-collapse="true"></button></p>
</div>
</div>
</div>
<div class="paragraph description-decoration">
<p><i class="fa fa-chevron-down"></i><span>Show more</span></p>
</div></div></td>
<td class="tableblock halign-left valign-middle"><p class="tableblock">boolean</p></td>
<td class="tableblock halign-left valign-middle"><p class="tableblock"><code>false</code></p></td>
</tr>
</tbody>
</table>
<div id="duration-note-anchor-quarkus-hibernate-search-orm-elasticsearch_quarkus-hibernate-search-orm" class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
<div class="title">About the Duration format</div>
<div class="paragraph">
<p>To write duration values, use the standard <code>java.time.Duration</code> format.
See the <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/time/Duration.html#parse(java.lang.CharSequence)">Duration#parse() Java API documentation</a> for more information.</p>
</div>
<div class="paragraph">
<p>You can also use a simplified format, starting with a number:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>If the value is only a number, it represents time in seconds.</p>
</li>
<li>
<p>If the value is a number followed by <code>ms</code>, it represents time in milliseconds.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>In other cases, the simplified format is translated to the <code>java.time.Duration</code> format for parsing:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>If the value is a number followed by <code>h</code>, <code>m</code>, or <code>s</code>, it is prefixed with <code>PT</code>.</p>
</li>
<li>
<p>If the value is a number followed by <code>d</code>, it is prefixed with <code>P</code>.</p>
</li>
</ul>
</div>
</td>
</tr>
</table>
</div>
<div id="bean-reference-note-anchor" class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
<div class="title">About bean references</div>
<div class="paragraph">
<p>First, be aware that referencing beans in configuration properties is optional and, in fact, discouraged:
you can achieve the same results by annotating your beans with <code>@SearchExtension</code>.
See <a href="#plugging-in-custom-components">this section</a> for more information.</p>
</div>
<div class="paragraph">
<p>If you really do want to reference beans using a string value in configuration properties
know that string is parsed; here are the most common formats:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><code>bean:</code> followed by the name of a <code>@Named</code> CDI bean.
For example <code>bean:myBean</code>.</p>
</li>
<li>
<p><code>class:</code> followed by the fully-qualified name of a class, to be instantiated through CDI if it&#8217;s a CDI bean,
or through its public, no-argument constructor otherwise.
For example <code>class:com.mycompany.MyClass</code>.</p>
</li>
<li>
<p>An arbitrary string referencing a built-in implementation.
Available values are detailed in the documentation of each configuration property,
such as <code>async</code>/<code>read-sync</code>/<code>write-sync</code>/<code>sync</code> for
<a href="#quarkus-hibernate-search-orm-elasticsearch_quarkus-hibernate-search-orm-indexing-plan-synchronization-strategy"><code>quarkus.hibernate-search-orm.indexing.plan.synchronization.strategy</code></a>.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>Other formats are also accepted, but are only useful for advanced use cases.
See <a href="https://docs.jboss.org/hibernate/search/7.2/reference/en-US/html_single/#configuration-bean-reference-parsing">this section of Hibernate Search&#8217;s reference documentation</a>
for more information.</p>
</div>
</td>
</tr>
</table>
</div>
</div>
<div class="sect2">
<h3 id="configuration-reference-coordination-outbox-polling"><a class="anchor" href="#configuration-reference-coordination-outbox-polling"></a>Configuration of coordination with outbox polling</h3>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
These configuration properties require an additional extension. See <a href="#coordination">Coordination through outbox polling</a>.
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p><span class="icon"><i class="fa fa-lock" title="Fixed at build time"></i></span> Configuration property fixed at build time - All other configuration properties are overridable at runtime <input type="search" id="config-search-1" placeholder="FILTER CONFIGURATION" disabled></p>
</div>
<table class="tableblock frame-all grid-all stretch configuration-reference searchable configuration-reference-all-rows">
<colgroup>
<col style="width: 80%;">
<col style="width: 10%;">
<col style="width: 10%;">
</colgroup>
<tbody>
<tr>
<th class="tableblock halign-left valign-top"><p class="tableblock"><span class="header-title">Configuration property</span></p></th>
<th class="tableblock halign-left valign-middle"><p class="tableblock">Type</p></th>
<th class="tableblock halign-left valign-middle"><p class="tableblock">Default</p></th>
</tr>
<tr class="row-collapsible row-collapsed row-with-desc row-hidden odd">
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><a id="quarkus-hibernate-search-orm-outbox-polling_quarkus-hibernate-search-orm-coordination-event-processor-enabled"></a> <span class="property-path"><a href="#quarkus-hibernate-search-orm-outbox-polling_quarkus-hibernate-search-orm-coordination-event-processor-enabled"><code>quarkus.hibernate-search-orm.coordination.event-processor.enabled</code></a></span></p>
</div>
<div class="paragraph">
<p><code>quarkus.hibernate-search-orm."persistence-unit-name".coordination.event-processor.enabled</code></p>
</div>
<div id="conf-collapsible-desc-45" class="openblock description description-collapsed">
<div class="content">
<div class="paragraph">
<p>Whether the event processor is enabled,
i.e. whether events will be processed to perform automatic reindexing on this instance of the application.</p>
</div>
<div class="paragraph">
<p>This can be set to <code>false</code> to disable event processing on some application nodes,
for example to dedicate some nodes to HTTP request processing and other nodes to event processing.</p>
</div>
<div class="paragraph">
<p>See
<a href="https://docs.jboss.org/hibernate/search/7.2/reference/en-US/html_single/#coordination-outbox-polling-event-processor">this section of the reference documentation</a>
for more information.</p>
</div>
<div class="paragraph">
<p>Environment variable: <code id="env-var-29267">QUARKUS_HIBERNATE_SEARCH_ORM_COORDINATION_EVENT_PROCESSOR_ENABLED</code><button class="btn-copy fa fa-clipboard inline-btn-copy" data-clipboard-action="copy" data-clipboard-target="#env-var-29267" title="Copy to clipboard" do-not-collapse="true"></button></p>
</div>
</div>
</div>
<div class="paragraph description-decoration">
<p><i class="fa fa-chevron-down"></i><span>Show more</span></p>
</div></div></td>
<td class="tableblock halign-left valign-middle"><p class="tableblock">boolean</p></td>
<td class="tableblock halign-left valign-middle"><p class="tableblock"><code>true</code></p></td>
</tr>
<tr class="row-collapsible row-collapsed row-with-desc row-hidden">
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><a id="quarkus-hibernate-search-orm-outbox-polling_quarkus-hibernate-search-orm-coordination-event-processor-shards-total-count"></a> <span class="property-path"><a href="#quarkus-hibernate-search-orm-outbox-polling_quarkus-hibernate-search-orm-coordination-event-processor-shards-total-count"><code>quarkus.hibernate-search-orm.coordination.event-processor.shards.total-count</code></a></span></p>
</div>
<div class="paragraph">
<p><code>quarkus.hibernate-search-orm."persistence-unit-name".coordination.event-processor.shards.total-count</code></p>
</div>
<div id="conf-collapsible-desc-46" class="openblock description description-collapsed">
<div class="content">
<div class="paragraph">
<p>The total number of shards that will form a partition of the entity change events to process.</p>
</div>
<div class="paragraph">
<p>By default, sharding is dynamic and setting this property is not necessary.</p>
</div>
<div class="paragraph">
<p>If you want to control explicitly the number and assignment of shards,
you must configure static sharding and then setting this property as well as the assigned shards (see <code>shards.assigned</code>)
is necessary.</p>
</div>
<div class="paragraph">
<p>See
<a href="https://docs.jboss.org/hibernate/search/7.2/reference/en-US/html_single/#coordination-outbox-polling-event-processor-sharding">this section of the reference documentation</a>
for more information about event processor sharding.</p>
</div>
<div class="paragraph">
<p>Environment variable: <code id="env-var-29268">QUARKUS_HIBERNATE_SEARCH_ORM_COORDINATION_EVENT_PROCESSOR_SHARDS_TOTAL_COUNT</code><button class="btn-copy fa fa-clipboard inline-btn-copy" data-clipboard-action="copy" data-clipboard-target="#env-var-29268" title="Copy to clipboard" do-not-collapse="true"></button></p>
</div>
</div>
</div>
<div class="paragraph description-decoration">
<p><i class="fa fa-chevron-down"></i><span>Show more</span></p>
</div></div></td>
<td class="tableblock halign-left valign-middle"><p class="tableblock">int</p></td>
<td class="tableblock halign-left valign-middle"></td>
</tr>
<tr class="row-collapsible row-collapsed row-with-desc row-hidden odd">
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><a id="quarkus-hibernate-search-orm-outbox-polling_quarkus-hibernate-search-orm-coordination-event-processor-shards-assigned"></a> <span class="property-path"><a href="#quarkus-hibernate-search-orm-outbox-polling_quarkus-hibernate-search-orm-coordination-event-processor-shards-assigned"><code>quarkus.hibernate-search-orm.coordination.event-processor.shards.assigned</code></a></span></p>
</div>
<div class="paragraph">
<p><code>quarkus.hibernate-search-orm."persistence-unit-name".coordination.event-processor.shards.assigned</code></p>
</div>
<div id="conf-collapsible-desc-47" class="openblock description description-collapsed">
<div class="content">
<div class="paragraph">
<p>Among shards that will form a partition of the entity change events,
the shards that will be processed by this application instance.</p>
</div>
<div class="paragraph">
<p>By default, sharding is dynamic and setting this property is not necessary.</p>
</div>
<div class="paragraph">
<p>If you want to control explicitly the number and assignment of shards,
you must configure static sharding and then setting this property as well as the total shard count
is necessary.</p>
</div>
<div class="paragraph">
<p>Shards are referred to by an index in the range <code>[0, total_count - 1]</code> (see <code>shards.total-count</code>).
A given application node must be assigned at least one shard but may be assigned multiple shards
by setting <code>shards.assigned</code> to a comma-separated list, e.g. <code>0,3</code>.</p>
</div>
<div class="paragraph">
<p>See
<a href="https://docs.jboss.org/hibernate/search/7.2/reference/en-US/html_single/#coordination-outbox-polling-event-processor-sharding">this section of the reference documentation</a>
for more information about event processor sharding.</p>
</div>
<div class="paragraph">
<p>Environment variable: <code id="env-var-29269">QUARKUS_HIBERNATE_SEARCH_ORM_COORDINATION_EVENT_PROCESSOR_SHARDS_ASSIGNED</code><button class="btn-copy fa fa-clipboard inline-btn-copy" data-clipboard-action="copy" data-clipboard-target="#env-var-29269" title="Copy to clipboard" do-not-collapse="true"></button></p>
</div>
</div>
</div>
<div class="paragraph description-decoration">
<p><i class="fa fa-chevron-down"></i><span>Show more</span></p>
</div></div></td>
<td class="tableblock halign-left valign-middle"><p class="tableblock">list of int</p></td>
<td class="tableblock halign-left valign-middle"></td>
</tr>
<tr class="row-collapsible row-collapsed row-with-desc row-hidden">
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><a id="quarkus-hibernate-search-orm-outbox-polling_quarkus-hibernate-search-orm-coordination-event-processor-polling-interval"></a> <span class="property-path"><a href="#quarkus-hibernate-search-orm-outbox-polling_quarkus-hibernate-search-orm-coordination-event-processor-polling-interval"><code>quarkus.hibernate-search-orm.coordination.event-processor.polling-interval</code></a></span></p>
</div>
<div class="paragraph">
<p><code>quarkus.hibernate-search-orm."persistence-unit-name".coordination.event-processor.polling-interval</code></p>
</div>
<div id="conf-collapsible-desc-48" class="openblock description description-collapsed">
<div class="content">
<div class="paragraph">
<p>How long to wait for another query to the outbox events table after a query didn’t return any event.</p>
</div>
<div class="paragraph">
<p>Lower values will reduce the time it takes for a change to be reflected in the index,
but will increase the stress on the database when there are no new events.</p>
</div>
<div class="paragraph">
<p>See
<a href="https://docs.jboss.org/hibernate/search/7.2/reference/en-US/html_single/#coordination-outbox-polling-event-processor">this section of the reference documentation</a>
for more information.</p>
</div>
<div class="paragraph">
<p>Environment variable: <code id="env-var-29270">QUARKUS_HIBERNATE_SEARCH_ORM_COORDINATION_EVENT_PROCESSOR_POLLING_INTERVAL</code><button class="btn-copy fa fa-clipboard inline-btn-copy" data-clipboard-action="copy" data-clipboard-target="#env-var-29270" title="Copy to clipboard" do-not-collapse="true"></button></p>
</div>
</div>
</div>
<div class="paragraph description-decoration">
<p><i class="fa fa-chevron-down"></i><span>Show more</span></p>
</div></div></td>
<td class="tableblock halign-left valign-middle"><p class="tableblock"><a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/time/Duration.html">Duration</a> <a href="#duration-note-anchor-{summaryTableId}"><span class="icon"><i class="fa fa-question-circle" title="More information about the Duration format"></i></span></a></p></td>
<td class="tableblock halign-left valign-middle"><p class="tableblock"><code>0.100S</code></p></td>
</tr>
<tr class="row-collapsible row-collapsed row-with-desc row-hidden odd">
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><a id="quarkus-hibernate-search-orm-outbox-polling_quarkus-hibernate-search-orm-coordination-event-processor-pulse-interval"></a> <span class="property-path"><a href="#quarkus-hibernate-search-orm-outbox-polling_quarkus-hibernate-search-orm-coordination-event-processor-pulse-interval"><code>quarkus.hibernate-search-orm.coordination.event-processor.pulse-interval</code></a></span></p>
</div>
<div class="paragraph">
<p><code>quarkus.hibernate-search-orm."persistence-unit-name".coordination.event-processor.pulse-interval</code></p>
</div>
<div id="conf-collapsible-desc-49" class="openblock description description-collapsed">
<div class="content">
<div class="paragraph">
<p>How long the event processor can poll for events before it must perform a "pulse",
updating and checking registrations in the agents table.</p>
</div>
<div class="paragraph">
<p>The pulse interval must be set to a value between the polling interval
and one third (1/3) of the expiration interval.</p>
</div>
<div class="paragraph">
<p>Low values (closer to the polling interval) mean less time wasted not processing events
when a node joins or leaves the cluster,
and reduced risk of wasting time not processing events
because an event processor is incorrectly considered disconnected,
but more stress on the database because of more frequent checks of the list of agents.</p>
</div>
<div class="paragraph">
<p>High values (closer to the expiration interval) mean more time wasted not processing events
when a node joins or leaves the cluster,
and increased risk of wasting time not processing events
because an event processor is incorrectly considered disconnected,
but less stress on the database because of less frequent checks of the list of agents.</p>
</div>
<div class="paragraph">
<p>See
<a href="https://docs.jboss.org/hibernate/search/7.2/reference/en-US/html_single/#coordination-outbox-polling-event-processor">this section of the reference documentation</a>
for more information.</p>
</div>
<div class="paragraph">
<p>Environment variable: <code id="env-var-29271">QUARKUS_HIBERNATE_SEARCH_ORM_COORDINATION_EVENT_PROCESSOR_PULSE_INTERVAL</code><button class="btn-copy fa fa-clipboard inline-btn-copy" data-clipboard-action="copy" data-clipboard-target="#env-var-29271" title="Copy to clipboard" do-not-collapse="true"></button></p>
</div>
</div>
</div>
<div class="paragraph description-decoration">
<p><i class="fa fa-chevron-down"></i><span>Show more</span></p>
</div></div></td>
<td class="tableblock halign-left valign-middle"><p class="tableblock"><a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/time/Duration.html">Duration</a> <a href="#duration-note-anchor-{summaryTableId}"><span class="icon"><i class="fa fa-question-circle" title="More information about the Duration format"></i></span></a></p></td>
<td class="tableblock halign-left valign-middle"><p class="tableblock"><code>2S</code></p></td>
</tr>
<tr class="row-collapsible row-collapsed row-with-desc row-hidden">
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><a id="quarkus-hibernate-search-orm-outbox-polling_quarkus-hibernate-search-orm-coordination-event-processor-pulse-expiration"></a> <span class="property-path"><a href="#quarkus-hibernate-search-orm-outbox-polling_quarkus-hibernate-search-orm-coordination-event-processor-pulse-expiration"><code>quarkus.hibernate-search-orm.coordination.event-processor.pulse-expiration</code></a></span></p>
</div>
<div class="paragraph">
<p><code>quarkus.hibernate-search-orm."persistence-unit-name".coordination.event-processor.pulse-expiration</code></p>
</div>
<div id="conf-collapsible-desc-50" class="openblock description description-collapsed">
<div class="content">
<div class="paragraph">
<p>How long an event processor "pulse" remains valid before considering the processor disconnected
and forcibly removing it from the cluster.</p>
</div>
<div class="paragraph">
<p>The expiration interval must be set to a value at least 3 times larger than the pulse interval.</p>
</div>
<div class="paragraph">
<p>Low values (closer to the pulse interval) mean less time wasted not processing events
when a node abruptly leaves the cluster due to a crash or network failure,
but increased risk of wasting time not processing events
because an event processor is incorrectly considered disconnected.</p>
</div>
<div class="paragraph">
<p>High values (much larger than the pulse interval) mean more time wasted not processing events
when a node abruptly leaves the cluster due to a crash or network failure,
but reduced risk of wasting time not processing events
because an event processor is incorrectly considered disconnected.</p>
</div>
<div class="paragraph">
<p>See
<a href="https://docs.jboss.org/hibernate/search/7.2/reference/en-US/html_single/#coordination-outbox-polling-event-processor">this section of the reference documentation</a>
for more information.</p>
</div>
<div class="paragraph">
<p>Environment variable: <code id="env-var-29272">QUARKUS_HIBERNATE_SEARCH_ORM_COORDINATION_EVENT_PROCESSOR_PULSE_EXPIRATION</code><button class="btn-copy fa fa-clipboard inline-btn-copy" data-clipboard-action="copy" data-clipboard-target="#env-var-29272" title="Copy to clipboard" do-not-collapse="true"></button></p>
</div>
</div>
</div>
<div class="paragraph description-decoration">
<p><i class="fa fa-chevron-down"></i><span>Show more</span></p>
</div></div></td>
<td class="tableblock halign-left valign-middle"><p class="tableblock"><a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/time/Duration.html">Duration</a> <a href="#duration-note-anchor-{summaryTableId}"><span class="icon"><i class="fa fa-question-circle" title="More information about the Duration format"></i></span></a></p></td>
<td class="tableblock halign-left valign-middle"><p class="tableblock"><code>30S</code></p></td>
</tr>
<tr class="row-collapsible row-collapsed row-with-desc row-hidden odd">
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><a id="quarkus-hibernate-search-orm-outbox-polling_quarkus-hibernate-search-orm-coordination-event-processor-batch-size"></a> <span class="property-path"><a href="#quarkus-hibernate-search-orm-outbox-polling_quarkus-hibernate-search-orm-coordination-event-processor-batch-size"><code>quarkus.hibernate-search-orm.coordination.event-processor.batch-size</code></a></span></p>
</div>
<div class="paragraph">
<p><code>quarkus.hibernate-search-orm."persistence-unit-name".coordination.event-processor.batch-size</code></p>
</div>
<div id="conf-collapsible-desc-51" class="openblock description description-collapsed">
<div class="content">
<div class="paragraph">
<p>How many outbox events, at most, are processed in a single transaction.</p>
</div>
<div class="paragraph">
<p>Higher values will reduce the number of transactions opened by the background process
and may increase performance thanks to the first-level cache (persistence context),
but will increase memory usage and in extreme cases may lead to <code>OutOfMemoryError</code>s.</p>
</div>
<div class="paragraph">
<p>See
<a href="https://docs.jboss.org/hibernate/search/7.2/reference/en-US/html_single/#coordination-outbox-polling-event-processor">this section of the reference documentation</a>
for more information.</p>
</div>
<div class="paragraph">
<p>Environment variable: <code id="env-var-29273">QUARKUS_HIBERNATE_SEARCH_ORM_COORDINATION_EVENT_PROCESSOR_BATCH_SIZE</code><button class="btn-copy fa fa-clipboard inline-btn-copy" data-clipboard-action="copy" data-clipboard-target="#env-var-29273" title="Copy to clipboard" do-not-collapse="true"></button></p>
</div>
</div>
</div>
<div class="paragraph description-decoration">
<p><i class="fa fa-chevron-down"></i><span>Show more</span></p>
</div></div></td>
<td class="tableblock halign-left valign-middle"><p class="tableblock">int</p></td>
<td class="tableblock halign-left valign-middle"><p class="tableblock"><code>50</code></p></td>
</tr>
<tr class="row-collapsible row-collapsed row-with-desc row-hidden">
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><a id="quarkus-hibernate-search-orm-outbox-polling_quarkus-hibernate-search-orm-coordination-event-processor-transaction-timeout"></a> <span class="property-path"><a href="#quarkus-hibernate-search-orm-outbox-polling_quarkus-hibernate-search-orm-coordination-event-processor-transaction-timeout"><code>quarkus.hibernate-search-orm.coordination.event-processor.transaction-timeout</code></a></span></p>
</div>
<div class="paragraph">
<p><code>quarkus.hibernate-search-orm."persistence-unit-name".coordination.event-processor.transaction-timeout</code></p>
</div>
<div id="conf-collapsible-desc-52" class="openblock description description-collapsed">
<div class="content">
<div class="paragraph">
<p>The timeout for transactions processing outbox events.</p>
</div>
<div class="paragraph">
<p>When this property is not set,
Hibernate Search will use whatever default transaction timeout is configured in the JTA transaction manager,
which may be too low for batch processing and lead to transaction timeouts when processing batches of events.
If this happens, set a higher transaction timeout for event processing using this property.</p>
</div>
<div class="paragraph">
<p>See
<a href="https://docs.jboss.org/hibernate/search/7.2/reference/en-US/html_single/#coordination-outbox-polling-event-processor">this section of the reference documentation</a>
for more information.</p>
</div>
<div class="paragraph">
<p>Environment variable: <code id="env-var-29274">QUARKUS_HIBERNATE_SEARCH_ORM_COORDINATION_EVENT_PROCESSOR_TRANSACTION_TIMEOUT</code><button class="btn-copy fa fa-clipboard inline-btn-copy" data-clipboard-action="copy" data-clipboard-target="#env-var-29274" title="Copy to clipboard" do-not-collapse="true"></button></p>
</div>
</div>
</div>
<div class="paragraph description-decoration">
<p><i class="fa fa-chevron-down"></i><span>Show more</span></p>
</div></div></td>
<td class="tableblock halign-left valign-middle"><p class="tableblock"><a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/time/Duration.html">Duration</a> <a href="#duration-note-anchor-{summaryTableId}"><span class="icon"><i class="fa fa-question-circle" title="More information about the Duration format"></i></span></a></p></td>
<td class="tableblock halign-left valign-middle"></td>
</tr>
<tr class="row-collapsible row-collapsed row-with-desc row-hidden odd">
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><a id="quarkus-hibernate-search-orm-outbox-polling_quarkus-hibernate-search-orm-coordination-event-processor-retry-delay"></a> <span class="property-path"><a href="#quarkus-hibernate-search-orm-outbox-polling_quarkus-hibernate-search-orm-coordination-event-processor-retry-delay"><code>quarkus.hibernate-search-orm.coordination.event-processor.retry-delay</code></a></span></p>
</div>
<div class="paragraph">
<p><code>quarkus.hibernate-search-orm."persistence-unit-name".coordination.event-processor.retry-delay</code></p>
</div>
<div id="conf-collapsible-desc-53" class="openblock description description-collapsed">
<div class="content">
<div class="paragraph">
<p>How long the event processor must wait before re-processing an event after its previous processing failed.</p>
</div>
<div class="paragraph">
<p>Use the value <code>0S</code> to reprocess failed events as soon as possible, with no delay.</p>
</div>
<div class="paragraph">
<p>See
<a href="https://docs.jboss.org/hibernate/search/7.2/reference/en-US/html_single/#coordination-outbox-polling-event-processor">this section of the reference documentation</a>
for more information.</p>
</div>
<div class="paragraph">
<p>Environment variable: <code id="env-var-29275">QUARKUS_HIBERNATE_SEARCH_ORM_COORDINATION_EVENT_PROCESSOR_RETRY_DELAY</code><button class="btn-copy fa fa-clipboard inline-btn-copy" data-clipboard-action="copy" data-clipboard-target="#env-var-29275" title="Copy to clipboard" do-not-collapse="true"></button></p>
</div>
</div>
</div>
<div class="paragraph description-decoration">
<p><i class="fa fa-chevron-down"></i><span>Show more</span></p>
</div></div></td>
<td class="tableblock halign-left valign-middle"><p class="tableblock"><a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/time/Duration.html">Duration</a> <a href="#duration-note-anchor-{summaryTableId}"><span class="icon"><i class="fa fa-question-circle" title="More information about the Duration format"></i></span></a></p></td>
<td class="tableblock halign-left valign-middle"><p class="tableblock"><code>30S</code></p></td>
</tr>
<tr class="row-collapsible row-collapsed row-with-desc row-hidden">
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><a id="quarkus-hibernate-search-orm-outbox-polling_quarkus-hibernate-search-orm-coordination-mass-indexer-polling-interval"></a> <span class="property-path"><a href="#quarkus-hibernate-search-orm-outbox-polling_quarkus-hibernate-search-orm-coordination-mass-indexer-polling-interval"><code>quarkus.hibernate-search-orm.coordination.mass-indexer.polling-interval</code></a></span></p>
</div>
<div class="paragraph">
<p><code>quarkus.hibernate-search-orm."persistence-unit-name".coordination.mass-indexer.polling-interval</code></p>
</div>
<div id="conf-collapsible-desc-54" class="openblock description description-collapsed">
<div class="content">
<div class="paragraph">
<p>How long to wait for another query to the agent table
when actively waiting for event processors to suspend themselves.</p>
</div>
<div class="paragraph">
<p>Low values will reduce the time it takes for the mass indexer agent to detect
that event processors finally suspended themselves,
but will increase the stress on the database while the mass indexer agent is actively waiting.</p>
</div>
<div class="paragraph">
<p>High values will increase the time it takes for the mass indexer agent to detect
that event processors finally suspended themselves,
but will reduce the stress on the database while the mass indexer agent is actively waiting.</p>
</div>
<div class="paragraph">
<p>See
<a href="https://docs.jboss.org/hibernate/search/7.2/reference/en-US/html_single/#coordination-outbox-polling-mass-indexer">this section of the reference documentation</a>
for more information.</p>
</div>
<div class="paragraph">
<p>Environment variable: <code id="env-var-29276">QUARKUS_HIBERNATE_SEARCH_ORM_COORDINATION_MASS_INDEXER_POLLING_INTERVAL</code><button class="btn-copy fa fa-clipboard inline-btn-copy" data-clipboard-action="copy" data-clipboard-target="#env-var-29276" title="Copy to clipboard" do-not-collapse="true"></button></p>
</div>
</div>
</div>
<div class="paragraph description-decoration">
<p><i class="fa fa-chevron-down"></i><span>Show more</span></p>
</div></div></td>
<td class="tableblock halign-left valign-middle"><p class="tableblock"><a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/time/Duration.html">Duration</a> <a href="#duration-note-anchor-{summaryTableId}"><span class="icon"><i class="fa fa-question-circle" title="More information about the Duration format"></i></span></a></p></td>
<td class="tableblock halign-left valign-middle"><p class="tableblock"><code>0.100S</code></p></td>
</tr>
<tr class="row-collapsible row-collapsed row-with-desc row-hidden odd">
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><a id="quarkus-hibernate-search-orm-outbox-polling_quarkus-hibernate-search-orm-coordination-mass-indexer-pulse-interval"></a> <span class="property-path"><a href="#quarkus-hibernate-search-orm-outbox-polling_quarkus-hibernate-search-orm-coordination-mass-indexer-pulse-interval"><code>quarkus.hibernate-search-orm.coordination.mass-indexer.pulse-interval</code></a></span></p>
</div>
<div class="paragraph">
<p><code>quarkus.hibernate-search-orm."persistence-unit-name".coordination.mass-indexer.pulse-interval</code></p>
</div>
<div id="conf-collapsible-desc-55" class="openblock description description-collapsed">
<div class="content">
<div class="paragraph">
<p>How long the mass indexer can wait before it must perform a "pulse",
updating and checking registrations in the agent table.</p>
</div>
<div class="paragraph">
<p>The pulse interval must be set to a value between the polling interval
and one third (1/3) of the expiration interval.</p>
</div>
<div class="paragraph">
<p>Low values (closer to the polling interval) mean reduced risk of
event processors starting to process events again during mass indexing
because a mass indexer agent is incorrectly considered disconnected,
but more stress on the database because of more frequent updates of the mass indexer agent&#8217;s entry in the agent table.</p>
</div>
<div class="paragraph">
<p>High values (closer to the expiration interval) mean increased risk of
event processors starting to process events again during mass indexing
because a mass indexer agent is incorrectly considered disconnected,
but less stress on the database because of less frequent updates of the mass indexer agent&#8217;s entry in the agent table.</p>
</div>
<div class="paragraph">
<p>See
<a href="https://docs.jboss.org/hibernate/search/7.2/reference/en-US/html_single/#coordination-outbox-polling-mass-indexer">this section of the reference documentation</a>
for more information.</p>
</div>
<div class="paragraph">
<p>Environment variable: <code id="env-var-29277">QUARKUS_HIBERNATE_SEARCH_ORM_COORDINATION_MASS_INDEXER_PULSE_INTERVAL</code><button class="btn-copy fa fa-clipboard inline-btn-copy" data-clipboard-action="copy" data-clipboard-target="#env-var-29277" title="Copy to clipboard" do-not-collapse="true"></button></p>
</div>
</div>
</div>
<div class="paragraph description-decoration">
<p><i class="fa fa-chevron-down"></i><span>Show more</span></p>
</div></div></td>
<td class="tableblock halign-left valign-middle"><p class="tableblock"><a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/time/Duration.html">Duration</a> <a href="#duration-note-anchor-{summaryTableId}"><span class="icon"><i class="fa fa-question-circle" title="More information about the Duration format"></i></span></a></p></td>
<td class="tableblock halign-left valign-middle"><p class="tableblock"><code>2S</code></p></td>
</tr>
<tr class="row-collapsible row-collapsed row-with-desc row-hidden">
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><a id="quarkus-hibernate-search-orm-outbox-polling_quarkus-hibernate-search-orm-coordination-mass-indexer-pulse-expiration"></a> <span class="property-path"><a href="#quarkus-hibernate-search-orm-outbox-polling_quarkus-hibernate-search-orm-coordination-mass-indexer-pulse-expiration"><code>quarkus.hibernate-search-orm.coordination.mass-indexer.pulse-expiration</code></a></span></p>
</div>
<div class="paragraph">
<p><code>quarkus.hibernate-search-orm."persistence-unit-name".coordination.mass-indexer.pulse-expiration</code></p>
</div>
<div id="conf-collapsible-desc-56" class="openblock description description-collapsed">
<div class="content">
<div class="paragraph">
<p>How long an event processor "pulse" remains valid before considering the processor disconnected
and forcibly removing it from the cluster.</p>
</div>
<div class="paragraph">
<p>The expiration interval must be set to a value at least 3 times larger than the pulse interval.</p>
</div>
<div class="paragraph">
<p>Low values (closer to the pulse interval) mean less time wasted with event processors not processing events
when a mass indexer agent terminates due to a crash,
but increased risk of event processors starting to process events again during mass indexing
because a mass indexer agent is incorrectly considered disconnected.</p>
</div>
<div class="paragraph">
<p>High values (much larger than the pulse interval) mean more time wasted with event processors not processing events
when a mass indexer agent terminates due to a crash,
but reduced risk of event processors starting to process events again during mass indexing
because a mass indexer agent is incorrectly considered disconnected.</p>
</div>
<div class="paragraph">
<p>See
<a href="https://docs.jboss.org/hibernate/search/7.2/reference/en-US/html_single/#coordination-outbox-polling-mass-indexer">this section of the reference documentation</a>
for more information.</p>
</div>
<div class="paragraph">
<p>Environment variable: <code id="env-var-29278">QUARKUS_HIBERNATE_SEARCH_ORM_COORDINATION_MASS_INDEXER_PULSE_EXPIRATION</code><button class="btn-copy fa fa-clipboard inline-btn-copy" data-clipboard-action="copy" data-clipboard-target="#env-var-29278" title="Copy to clipboard" do-not-collapse="true"></button></p>
</div>
</div>
</div>
<div class="paragraph description-decoration">
<p><i class="fa fa-chevron-down"></i><span>Show more</span></p>
</div></div></td>
<td class="tableblock halign-left valign-middle"><p class="tableblock"><a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/time/Duration.html">Duration</a> <a href="#duration-note-anchor-{summaryTableId}"><span class="icon"><i class="fa fa-question-circle" title="More information about the Duration format"></i></span></a></p></td>
<td class="tableblock halign-left valign-middle"><p class="tableblock"><code>30S</code></p></td>
</tr>
<tr>
<th class="tableblock halign-left valign-top"><p class="tableblock"><a id="quarkus-hibernate-search-orm-outbox-polling_section_quarkus-hibernate-search-orm"></a> <span class="section-name section-level0"><a href="#quarkus-hibernate-search-orm-outbox-polling_section_quarkus-hibernate-search-orm">Configuration for persistence units</a></span></p></th>
<th class="tableblock halign-left valign-middle"><p class="tableblock">Type</p></th>
<th class="tableblock halign-left valign-middle"><p class="tableblock">Default</p></th>
</tr>
<tr>
<th class="tableblock halign-left valign-top"><p class="tableblock"><a id="quarkus-hibernate-search-orm-outbox-polling_section_quarkus-hibernate-search-orm-coordination-entity-mapping"></a> <span class="section-name section-level1"><a href="#quarkus-hibernate-search-orm-outbox-polling_section_quarkus-hibernate-search-orm-coordination-entity-mapping">Configuration for the mapping of entities used for outbox-polling coordination</a></span></p></th>
<th class="tableblock halign-left valign-middle"><p class="tableblock">Type</p></th>
<th class="tableblock halign-left valign-middle"><p class="tableblock">Default</p></th>
</tr>
<tr class="row-collapsible row-collapsed row-with-desc row-hidden odd">
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><span class="icon"><i class="fa fa-lock" title="Fixed at build time"></i></span> <a id="quarkus-hibernate-search-orm-outbox-polling_quarkus-hibernate-search-orm-coordination-entity-mapping-agent-catalog"></a> <span class="property-path"><a href="#quarkus-hibernate-search-orm-outbox-polling_quarkus-hibernate-search-orm-coordination-entity-mapping-agent-catalog"><code>quarkus.hibernate-search-orm.coordination.entity-mapping.agent.catalog</code></a></span></p>
</div>
<div class="paragraph">
<p><code>quarkus.hibernate-search-orm."persistence-unit-name".coordination.entity-mapping.agent.catalog</code></p>
</div>
<div id="conf-collapsible-desc-57" class="openblock description description-collapsed">
<div class="content">
<div class="paragraph">
<p>The database catalog to use for the agent table.</p>
</div>
<div class="paragraph">
<p>Environment variable: <code id="env-var-29279">QUARKUS_HIBERNATE_SEARCH_ORM_COORDINATION_ENTITY_MAPPING_AGENT_CATALOG</code><button class="btn-copy fa fa-clipboard inline-btn-copy" data-clipboard-action="copy" data-clipboard-target="#env-var-29279" title="Copy to clipboard" do-not-collapse="true"></button></p>
</div>
</div>
</div>
<div class="paragraph description-decoration">
<p><i class="fa fa-chevron-down"></i><span>Show more</span></p>
</div></div></td>
<td class="tableblock halign-left valign-middle"><p class="tableblock">string</p></td>
<td class="tableblock halign-left valign-middle"><p class="tableblock"><code>Default catalog configured in Hibernate ORM</code></p></td>
</tr>
<tr class="row-collapsible row-collapsed row-with-desc row-hidden">
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><span class="icon"><i class="fa fa-lock" title="Fixed at build time"></i></span> <a id="quarkus-hibernate-search-orm-outbox-polling_quarkus-hibernate-search-orm-coordination-entity-mapping-agent-schema"></a> <span class="property-path"><a href="#quarkus-hibernate-search-orm-outbox-polling_quarkus-hibernate-search-orm-coordination-entity-mapping-agent-schema"><code>quarkus.hibernate-search-orm.coordination.entity-mapping.agent.schema</code></a></span></p>
</div>
<div class="paragraph">
<p><code>quarkus.hibernate-search-orm."persistence-unit-name".coordination.entity-mapping.agent.schema</code></p>
</div>
<div id="conf-collapsible-desc-58" class="openblock description description-collapsed">
<div class="content">
<div class="paragraph">
<p>The schema catalog to use for the agent table.</p>
</div>
<div class="paragraph">
<p>Environment variable: <code id="env-var-29280">QUARKUS_HIBERNATE_SEARCH_ORM_COORDINATION_ENTITY_MAPPING_AGENT_SCHEMA</code><button class="btn-copy fa fa-clipboard inline-btn-copy" data-clipboard-action="copy" data-clipboard-target="#env-var-29280" title="Copy to clipboard" do-not-collapse="true"></button></p>
</div>
</div>
</div>
<div class="paragraph description-decoration">
<p><i class="fa fa-chevron-down"></i><span>Show more</span></p>
</div></div></td>
<td class="tableblock halign-left valign-middle"><p class="tableblock">string</p></td>
<td class="tableblock halign-left valign-middle"><p class="tableblock"><code>Default catalog configured in Hibernate ORM</code></p></td>
</tr>
<tr class="row-collapsible row-collapsed row-with-desc row-hidden odd">
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><span class="icon"><i class="fa fa-lock" title="Fixed at build time"></i></span> <a id="quarkus-hibernate-search-orm-outbox-polling_quarkus-hibernate-search-orm-coordination-entity-mapping-agent-table"></a> <span class="property-path"><a href="#quarkus-hibernate-search-orm-outbox-polling_quarkus-hibernate-search-orm-coordination-entity-mapping-agent-table"><code>quarkus.hibernate-search-orm.coordination.entity-mapping.agent.table</code></a></span></p>
</div>
<div class="paragraph">
<p><code>quarkus.hibernate-search-orm."persistence-unit-name".coordination.entity-mapping.agent.table</code></p>
</div>
<div id="conf-collapsible-desc-59" class="openblock description description-collapsed">
<div class="content">
<div class="paragraph">
<p>The name of the agent table.</p>
</div>
<div class="paragraph">
<p>Environment variable: <code id="env-var-29281">QUARKUS_HIBERNATE_SEARCH_ORM_COORDINATION_ENTITY_MAPPING_AGENT_TABLE</code><button class="btn-copy fa fa-clipboard inline-btn-copy" data-clipboard-action="copy" data-clipboard-target="#env-var-29281" title="Copy to clipboard" do-not-collapse="true"></button></p>
</div>
</div>
</div>
<div class="paragraph description-decoration">
<p><i class="fa fa-chevron-down"></i><span>Show more</span></p>
</div></div></td>
<td class="tableblock halign-left valign-middle"><p class="tableblock">string</p></td>
<td class="tableblock halign-left valign-middle"><p class="tableblock"><code>HSEARCH_AGENT</code></p></td>
</tr>
<tr class="row-collapsible row-collapsed row-with-desc row-hidden">
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><span class="icon"><i class="fa fa-lock" title="Fixed at build time"></i></span> <a id="quarkus-hibernate-search-orm-outbox-polling_quarkus-hibernate-search-orm-coordination-entity-mapping-agent-uuid-gen-strategy"></a> <span class="property-path"><a href="#quarkus-hibernate-search-orm-outbox-polling_quarkus-hibernate-search-orm-coordination-entity-mapping-agent-uuid-gen-strategy"><code>quarkus.hibernate-search-orm.coordination.entity-mapping.agent.uuid-gen-strategy</code></a></span></p>
</div>
<div class="paragraph">
<p><code>quarkus.hibernate-search-orm."persistence-unit-name".coordination.entity-mapping.agent.uuid-gen-strategy</code></p>
</div>
<div id="conf-collapsible-desc-60" class="openblock description description-collapsed">
<div class="content">
<div class="paragraph">
<p>The UUID generator strategy used for the agent table.</p>
</div>
<div class="paragraph">
<p>Available strategies:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><code>auto</code> (the default) is the same as <code>random</code> which uses <code>UUID#randomUUID()</code>.</p>
</li>
<li>
<p><code>time</code> is an IP based strategy consistent with IETF RFC 4122.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>Environment variable: <code id="env-var-29282">QUARKUS_HIBERNATE_SEARCH_ORM_COORDINATION_ENTITY_MAPPING_AGENT_UUID_GEN_STRATEGY</code><button class="btn-copy fa fa-clipboard inline-btn-copy" data-clipboard-action="copy" data-clipboard-target="#env-var-29282" title="Copy to clipboard" do-not-collapse="true"></button></p>
</div>
</div>
</div>
<div class="paragraph description-decoration">
<p><i class="fa fa-chevron-down"></i><span>Show more</span></p>
</div></div></td>
<td class="tableblock halign-left valign-middle"><div class="content"><div class="paragraph">
<p><code>auto</code>, <code>random</code>, <code>time</code></p>
</div></div></td>
<td class="tableblock halign-left valign-middle"><p class="tableblock"><code>auto</code></p></td>
</tr>
<tr class="row-collapsible row-collapsed row-with-desc row-hidden odd">
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><span class="icon"><i class="fa fa-lock" title="Fixed at build time"></i></span> <a id="quarkus-hibernate-search-orm-outbox-polling_quarkus-hibernate-search-orm-coordination-entity-mapping-agent-uuid-type"></a> <span class="property-path"><a href="#quarkus-hibernate-search-orm-outbox-polling_quarkus-hibernate-search-orm-coordination-entity-mapping-agent-uuid-type"><code>quarkus.hibernate-search-orm.coordination.entity-mapping.agent.uuid-type</code></a></span></p>
</div>
<div class="paragraph">
<p><code>quarkus.hibernate-search-orm."persistence-unit-name".coordination.entity-mapping.agent.uuid-type</code></p>
</div>
<div id="conf-collapsible-desc-61" class="openblock description description-collapsed">
<div class="content">
<div class="paragraph">
<p>The name of the Hibernate ORM basic type used for representing an UUID in the outbox event table.</p>
</div>
<div class="paragraph">
<p>Refer to
<a href="https://docs.jboss.org/hibernate/orm/6.6/userguide/html_single/Hibernate_User_Guide.html#basic-uuid">this section of the Hibernate ORM documentation</a>
to see the possible UUID representations.</p>
</div>
<div class="paragraph">
<p>Defaults to the special value <code>default</code>, which will result into one of <code>char</code>/<code>binary</code>
depending on the database kind.</p>
</div>
<div class="paragraph">
<p>Environment variable: <code id="env-var-29283">QUARKUS_HIBERNATE_SEARCH_ORM_COORDINATION_ENTITY_MAPPING_AGENT_UUID_TYPE</code><button class="btn-copy fa fa-clipboard inline-btn-copy" data-clipboard-action="copy" data-clipboard-target="#env-var-29283" title="Copy to clipboard" do-not-collapse="true"></button></p>
</div>
</div>
</div>
<div class="paragraph description-decoration">
<p><i class="fa fa-chevron-down"></i><span>Show more</span></p>
</div></div></td>
<td class="tableblock halign-left valign-middle"><p class="tableblock">string</p></td>
<td class="tableblock halign-left valign-middle"><p class="tableblock"><code>char/binary depending on the database kind</code></p></td>
</tr>
<tr class="row-collapsible row-collapsed row-with-desc row-hidden">
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><span class="icon"><i class="fa fa-lock" title="Fixed at build time"></i></span> <a id="quarkus-hibernate-search-orm-outbox-polling_quarkus-hibernate-search-orm-coordination-entity-mapping-outbox-event-catalog"></a> <span class="property-path"><a href="#quarkus-hibernate-search-orm-outbox-polling_quarkus-hibernate-search-orm-coordination-entity-mapping-outbox-event-catalog"><code>quarkus.hibernate-search-orm.coordination.entity-mapping.outbox-event.catalog</code></a></span></p>
</div>
<div class="paragraph">
<p><code>quarkus.hibernate-search-orm."persistence-unit-name".coordination.entity-mapping.outbox-event.catalog</code></p>
</div>
<div id="conf-collapsible-desc-62" class="openblock description description-collapsed">
<div class="content">
<div class="paragraph">
<p>The database catalog to use for the outbox event table.</p>
</div>
<div class="paragraph">
<p>Environment variable: <code id="env-var-29284">QUARKUS_HIBERNATE_SEARCH_ORM_COORDINATION_ENTITY_MAPPING_OUTBOX_EVENT_CATALOG</code><button class="btn-copy fa fa-clipboard inline-btn-copy" data-clipboard-action="copy" data-clipboard-target="#env-var-29284" title="Copy to clipboard" do-not-collapse="true"></button></p>
</div>
</div>
</div>
<div class="paragraph description-decoration">
<p><i class="fa fa-chevron-down"></i><span>Show more</span></p>
</div></div></td>
<td class="tableblock halign-left valign-middle"><p class="tableblock">string</p></td>
<td class="tableblock halign-left valign-middle"><p class="tableblock"><code>Default catalog configured in Hibernate ORM</code></p></td>
</tr>
<tr class="row-collapsible row-collapsed row-with-desc row-hidden odd">
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><span class="icon"><i class="fa fa-lock" title="Fixed at build time"></i></span> <a id="quarkus-hibernate-search-orm-outbox-polling_quarkus-hibernate-search-orm-coordination-entity-mapping-outbox-event-schema"></a> <span class="property-path"><a href="#quarkus-hibernate-search-orm-outbox-polling_quarkus-hibernate-search-orm-coordination-entity-mapping-outbox-event-schema"><code>quarkus.hibernate-search-orm.coordination.entity-mapping.outbox-event.schema</code></a></span></p>
</div>
<div class="paragraph">
<p><code>quarkus.hibernate-search-orm."persistence-unit-name".coordination.entity-mapping.outbox-event.schema</code></p>
</div>
<div id="conf-collapsible-desc-63" class="openblock description description-collapsed">
<div class="content">
<div class="paragraph">
<p>The schema catalog to use for the outbox event table.</p>
</div>
<div class="paragraph">
<p>Environment variable: <code id="env-var-29285">QUARKUS_HIBERNATE_SEARCH_ORM_COORDINATION_ENTITY_MAPPING_OUTBOX_EVENT_SCHEMA</code><button class="btn-copy fa fa-clipboard inline-btn-copy" data-clipboard-action="copy" data-clipboard-target="#env-var-29285" title="Copy to clipboard" do-not-collapse="true"></button></p>
</div>
</div>
</div>
<div class="paragraph description-decoration">
<p><i class="fa fa-chevron-down"></i><span>Show more</span></p>
</div></div></td>
<td class="tableblock halign-left valign-middle"><p class="tableblock">string</p></td>
<td class="tableblock halign-left valign-middle"><p class="tableblock"><code>Default schema configured in Hibernate ORM</code></p></td>
</tr>
<tr class="row-collapsible row-collapsed row-with-desc row-hidden">
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><span class="icon"><i class="fa fa-lock" title="Fixed at build time"></i></span> <a id="quarkus-hibernate-search-orm-outbox-polling_quarkus-hibernate-search-orm-coordination-entity-mapping-outbox-event-table"></a> <span class="property-path"><a href="#quarkus-hibernate-search-orm-outbox-polling_quarkus-hibernate-search-orm-coordination-entity-mapping-outbox-event-table"><code>quarkus.hibernate-search-orm.coordination.entity-mapping.outbox-event.table</code></a></span></p>
</div>
<div class="paragraph">
<p><code>quarkus.hibernate-search-orm."persistence-unit-name".coordination.entity-mapping.outbox-event.table</code></p>
</div>
<div id="conf-collapsible-desc-64" class="openblock description description-collapsed">
<div class="content">
<div class="paragraph">
<p>The name of the outbox event table.</p>
</div>
<div class="paragraph">
<p>Environment variable: <code id="env-var-29286">QUARKUS_HIBERNATE_SEARCH_ORM_COORDINATION_ENTITY_MAPPING_OUTBOX_EVENT_TABLE</code><button class="btn-copy fa fa-clipboard inline-btn-copy" data-clipboard-action="copy" data-clipboard-target="#env-var-29286" title="Copy to clipboard" do-not-collapse="true"></button></p>
</div>
</div>
</div>
<div class="paragraph description-decoration">
<p><i class="fa fa-chevron-down"></i><span>Show more</span></p>
</div></div></td>
<td class="tableblock halign-left valign-middle"><p class="tableblock">string</p></td>
<td class="tableblock halign-left valign-middle"><p class="tableblock"><code>HSEARCH_OUTBOX_EVENT</code></p></td>
</tr>
<tr class="row-collapsible row-collapsed row-with-desc row-hidden odd">
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><span class="icon"><i class="fa fa-lock" title="Fixed at build time"></i></span> <a id="quarkus-hibernate-search-orm-outbox-polling_quarkus-hibernate-search-orm-coordination-entity-mapping-outbox-event-uuid-gen-strategy"></a> <span class="property-path"><a href="#quarkus-hibernate-search-orm-outbox-polling_quarkus-hibernate-search-orm-coordination-entity-mapping-outbox-event-uuid-gen-strategy"><code>quarkus.hibernate-search-orm.coordination.entity-mapping.outbox-event.uuid-gen-strategy</code></a></span></p>
</div>
<div class="paragraph">
<p><code>quarkus.hibernate-search-orm."persistence-unit-name".coordination.entity-mapping.outbox-event.uuid-gen-strategy</code></p>
</div>
<div id="conf-collapsible-desc-65" class="openblock description description-collapsed">
<div class="content">
<div class="paragraph">
<p>The UUID generator strategy used for the outbox event table.</p>
</div>
<div class="paragraph">
<p>Available strategies:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><code>auto</code> (the default) is the same as <code>random</code> which uses <code>UUID#randomUUID()</code>.</p>
</li>
<li>
<p><code>time</code> is an IP based strategy consistent with IETF RFC 4122.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>Environment variable: <code id="env-var-29287">QUARKUS_HIBERNATE_SEARCH_ORM_COORDINATION_ENTITY_MAPPING_OUTBOX_EVENT_UUID_GEN_STRATEGY</code><button class="btn-copy fa fa-clipboard inline-btn-copy" data-clipboard-action="copy" data-clipboard-target="#env-var-29287" title="Copy to clipboard" do-not-collapse="true"></button></p>
</div>
</div>
</div>
<div class="paragraph description-decoration">
<p><i class="fa fa-chevron-down"></i><span>Show more</span></p>
</div></div></td>
<td class="tableblock halign-left valign-middle"><div class="content"><div class="paragraph">
<p><code>auto</code>, <code>random</code>, <code>time</code></p>
</div></div></td>
<td class="tableblock halign-left valign-middle"><p class="tableblock"><code>auto</code></p></td>
</tr>
<tr class="row-collapsible row-collapsed row-with-desc row-hidden">
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><span class="icon"><i class="fa fa-lock" title="Fixed at build time"></i></span> <a id="quarkus-hibernate-search-orm-outbox-polling_quarkus-hibernate-search-orm-coordination-entity-mapping-outbox-event-uuid-type"></a> <span class="property-path"><a href="#quarkus-hibernate-search-orm-outbox-polling_quarkus-hibernate-search-orm-coordination-entity-mapping-outbox-event-uuid-type"><code>quarkus.hibernate-search-orm.coordination.entity-mapping.outbox-event.uuid-type</code></a></span></p>
</div>
<div class="paragraph">
<p><code>quarkus.hibernate-search-orm."persistence-unit-name".coordination.entity-mapping.outbox-event.uuid-type</code></p>
</div>
<div id="conf-collapsible-desc-66" class="openblock description description-collapsed">
<div class="content">
<div class="paragraph">
<p>The name of the Hibernate ORM basic type used for representing an UUID in the outbox event table.</p>
</div>
<div class="paragraph">
<p>Refer to
<a href="https://docs.jboss.org/hibernate/orm/6.6/userguide/html_single/Hibernate_User_Guide.html#basic-uuid">this section of the Hibernate ORM documentation</a>
to see the possible UUID representations.</p>
</div>
<div class="paragraph">
<p>Defaults to the special value <code>default</code>, which will result into one of <code>char</code>/<code>binary</code>
depending on the database kind.</p>
</div>
<div class="paragraph">
<p>Environment variable: <code id="env-var-29288">QUARKUS_HIBERNATE_SEARCH_ORM_COORDINATION_ENTITY_MAPPING_OUTBOX_EVENT_UUID_TYPE</code><button class="btn-copy fa fa-clipboard inline-btn-copy" data-clipboard-action="copy" data-clipboard-target="#env-var-29288" title="Copy to clipboard" do-not-collapse="true"></button></p>
</div>
</div>
</div>
<div class="paragraph description-decoration">
<p><i class="fa fa-chevron-down"></i><span>Show more</span></p>
</div></div></td>
<td class="tableblock halign-left valign-middle"><p class="tableblock">string</p></td>
<td class="tableblock halign-left valign-middle"><p class="tableblock"><code>char/binary depending on the database kind</code></p></td>
</tr>
<tr>
<th class="tableblock halign-left valign-top"><p class="tableblock"><a id="quarkus-hibernate-search-orm-outbox-polling_section_quarkus-hibernate-search-orm-coordination-tenants"></a> <span class="section-name section-level0"><a href="#quarkus-hibernate-search-orm-outbox-polling_section_quarkus-hibernate-search-orm-coordination-tenants">Per-tenant configuration overrides</a></span></p></th>
<th class="tableblock halign-left valign-middle"><p class="tableblock">Type</p></th>
<th class="tableblock halign-left valign-middle"><p class="tableblock">Default</p></th>
</tr>
<tr class="row-collapsible row-collapsed row-with-desc row-hidden odd">
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><a id="quarkus-hibernate-search-orm-outbox-polling_quarkus-hibernate-search-orm-coordination-tenants-tenant-id-event-processor-enabled"></a> <span class="property-path"><a href="#quarkus-hibernate-search-orm-outbox-polling_quarkus-hibernate-search-orm-coordination-tenants-tenant-id-event-processor-enabled"><code>quarkus.hibernate-search-orm.coordination.tenants."tenant-id".event-processor.enabled</code></a></span></p>
</div>
<div class="paragraph">
<p><code>quarkus.hibernate-search-orm."persistence-unit-name".coordination.tenants."tenant-id".event-processor.enabled</code></p>
</div>
<div id="conf-collapsible-desc-67" class="openblock description description-collapsed">
<div class="content">
<div class="paragraph">
<p>Whether the event processor is enabled,
i.e. whether events will be processed to perform automatic reindexing on this instance of the application.</p>
</div>
<div class="paragraph">
<p>This can be set to <code>false</code> to disable event processing on some application nodes,
for example to dedicate some nodes to HTTP request processing and other nodes to event processing.</p>
</div>
<div class="paragraph">
<p>See
<a href="https://docs.jboss.org/hibernate/search/7.2/reference/en-US/html_single/#coordination-outbox-polling-event-processor">this section of the reference documentation</a>
for more information.</p>
</div>
<div class="paragraph">
<p>Environment variable: <code id="env-var-29289">QUARKUS_HIBERNATE_SEARCH_ORM_COORDINATION_TENANTS__TENANT_ID__EVENT_PROCESSOR_ENABLED</code><button class="btn-copy fa fa-clipboard inline-btn-copy" data-clipboard-action="copy" data-clipboard-target="#env-var-29289" title="Copy to clipboard" do-not-collapse="true"></button></p>
</div>
</div>
</div>
<div class="paragraph description-decoration">
<p><i class="fa fa-chevron-down"></i><span>Show more</span></p>
</div></div></td>
<td class="tableblock halign-left valign-middle"><p class="tableblock">boolean</p></td>
<td class="tableblock halign-left valign-middle"><p class="tableblock"><code>true</code></p></td>
</tr>
<tr class="row-collapsible row-collapsed row-with-desc row-hidden">
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><a id="quarkus-hibernate-search-orm-outbox-polling_quarkus-hibernate-search-orm-coordination-tenants-tenant-id-event-processor-shards-total-count"></a> <span class="property-path"><a href="#quarkus-hibernate-search-orm-outbox-polling_quarkus-hibernate-search-orm-coordination-tenants-tenant-id-event-processor-shards-total-count"><code>quarkus.hibernate-search-orm.coordination.tenants."tenant-id".event-processor.shards.total-count</code></a></span></p>
</div>
<div class="paragraph">
<p><code>quarkus.hibernate-search-orm."persistence-unit-name".coordination.tenants."tenant-id".event-processor.shards.total-count</code></p>
</div>
<div id="conf-collapsible-desc-68" class="openblock description description-collapsed">
<div class="content">
<div class="paragraph">
<p>The total number of shards that will form a partition of the entity change events to process.</p>
</div>
<div class="paragraph">
<p>By default, sharding is dynamic and setting this property is not necessary.</p>
</div>
<div class="paragraph">
<p>If you want to control explicitly the number and assignment of shards,
you must configure static sharding and then setting this property as well as the assigned shards (see <code>shards.assigned</code>)
is necessary.</p>
</div>
<div class="paragraph">
<p>See
<a href="https://docs.jboss.org/hibernate/search/7.2/reference/en-US/html_single/#coordination-outbox-polling-event-processor-sharding">this section of the reference documentation</a>
for more information about event processor sharding.</p>
</div>
<div class="paragraph">
<p>Environment variable: <code id="env-var-29290">QUARKUS_HIBERNATE_SEARCH_ORM_COORDINATION_TENANTS__TENANT_ID__EVENT_PROCESSOR_SHARDS_TOTAL_COUNT</code><button class="btn-copy fa fa-clipboard inline-btn-copy" data-clipboard-action="copy" data-clipboard-target="#env-var-29290" title="Copy to clipboard" do-not-collapse="true"></button></p>
</div>
</div>
</div>
<div class="paragraph description-decoration">
<p><i class="fa fa-chevron-down"></i><span>Show more</span></p>
</div></div></td>
<td class="tableblock halign-left valign-middle"><p class="tableblock">int</p></td>
<td class="tableblock halign-left valign-middle"></td>
</tr>
<tr class="row-collapsible row-collapsed row-with-desc row-hidden odd">
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><a id="quarkus-hibernate-search-orm-outbox-polling_quarkus-hibernate-search-orm-coordination-tenants-tenant-id-event-processor-shards-assigned"></a> <span class="property-path"><a href="#quarkus-hibernate-search-orm-outbox-polling_quarkus-hibernate-search-orm-coordination-tenants-tenant-id-event-processor-shards-assigned"><code>quarkus.hibernate-search-orm.coordination.tenants."tenant-id".event-processor.shards.assigned</code></a></span></p>
</div>
<div class="paragraph">
<p><code>quarkus.hibernate-search-orm."persistence-unit-name".coordination.tenants."tenant-id".event-processor.shards.assigned</code></p>
</div>
<div id="conf-collapsible-desc-69" class="openblock description description-collapsed">
<div class="content">
<div class="paragraph">
<p>Among shards that will form a partition of the entity change events,
the shards that will be processed by this application instance.</p>
</div>
<div class="paragraph">
<p>By default, sharding is dynamic and setting this property is not necessary.</p>
</div>
<div class="paragraph">
<p>If you want to control explicitly the number and assignment of shards,
you must configure static sharding and then setting this property as well as the total shard count
is necessary.</p>
</div>
<div class="paragraph">
<p>Shards are referred to by an index in the range <code>[0, total_count - 1]</code> (see <code>shards.total-count</code>).
A given application node must be assigned at least one shard but may be assigned multiple shards
by setting <code>shards.assigned</code> to a comma-separated list, e.g. <code>0,3</code>.</p>
</div>
<div class="paragraph">
<p>See
<a href="https://docs.jboss.org/hibernate/search/7.2/reference/en-US/html_single/#coordination-outbox-polling-event-processor-sharding">this section of the reference documentation</a>
for more information about event processor sharding.</p>
</div>
<div class="paragraph">
<p>Environment variable: <code id="env-var-29291">QUARKUS_HIBERNATE_SEARCH_ORM_COORDINATION_TENANTS__TENANT_ID__EVENT_PROCESSOR_SHARDS_ASSIGNED</code><button class="btn-copy fa fa-clipboard inline-btn-copy" data-clipboard-action="copy" data-clipboard-target="#env-var-29291" title="Copy to clipboard" do-not-collapse="true"></button></p>
</div>
</div>
</div>
<div class="paragraph description-decoration">
<p><i class="fa fa-chevron-down"></i><span>Show more</span></p>
</div></div></td>
<td class="tableblock halign-left valign-middle"><p class="tableblock">list of int</p></td>
<td class="tableblock halign-left valign-middle"></td>
</tr>
<tr class="row-collapsible row-collapsed row-with-desc row-hidden">
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><a id="quarkus-hibernate-search-orm-outbox-polling_quarkus-hibernate-search-orm-coordination-tenants-tenant-id-event-processor-polling-interval"></a> <span class="property-path"><a href="#quarkus-hibernate-search-orm-outbox-polling_quarkus-hibernate-search-orm-coordination-tenants-tenant-id-event-processor-polling-interval"><code>quarkus.hibernate-search-orm.coordination.tenants."tenant-id".event-processor.polling-interval</code></a></span></p>
</div>
<div class="paragraph">
<p><code>quarkus.hibernate-search-orm."persistence-unit-name".coordination.tenants."tenant-id".event-processor.polling-interval</code></p>
</div>
<div id="conf-collapsible-desc-70" class="openblock description description-collapsed">
<div class="content">
<div class="paragraph">
<p>How long to wait for another query to the outbox events table after a query didn’t return any event.</p>
</div>
<div class="paragraph">
<p>Lower values will reduce the time it takes for a change to be reflected in the index,
but will increase the stress on the database when there are no new events.</p>
</div>
<div class="paragraph">
<p>See
<a href="https://docs.jboss.org/hibernate/search/7.2/reference/en-US/html_single/#coordination-outbox-polling-event-processor">this section of the reference documentation</a>
for more information.</p>
</div>
<div class="paragraph">
<p>Environment variable: <code id="env-var-29292">QUARKUS_HIBERNATE_SEARCH_ORM_COORDINATION_TENANTS__TENANT_ID__EVENT_PROCESSOR_POLLING_INTERVAL</code><button class="btn-copy fa fa-clipboard inline-btn-copy" data-clipboard-action="copy" data-clipboard-target="#env-var-29292" title="Copy to clipboard" do-not-collapse="true"></button></p>
</div>
</div>
</div>
<div class="paragraph description-decoration">
<p><i class="fa fa-chevron-down"></i><span>Show more</span></p>
</div></div></td>
<td class="tableblock halign-left valign-middle"><p class="tableblock"><a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/time/Duration.html">Duration</a> <a href="#duration-note-anchor-{summaryTableId}"><span class="icon"><i class="fa fa-question-circle" title="More information about the Duration format"></i></span></a></p></td>
<td class="tableblock halign-left valign-middle"><p class="tableblock"><code>0.100S</code></p></td>
</tr>
<tr class="row-collapsible row-collapsed row-with-desc row-hidden odd">
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><a id="quarkus-hibernate-search-orm-outbox-polling_quarkus-hibernate-search-orm-coordination-tenants-tenant-id-event-processor-pulse-interval"></a> <span class="property-path"><a href="#quarkus-hibernate-search-orm-outbox-polling_quarkus-hibernate-search-orm-coordination-tenants-tenant-id-event-processor-pulse-interval"><code>quarkus.hibernate-search-orm.coordination.tenants."tenant-id".event-processor.pulse-interval</code></a></span></p>
</div>
<div class="paragraph">
<p><code>quarkus.hibernate-search-orm."persistence-unit-name".coordination.tenants."tenant-id".event-processor.pulse-interval</code></p>
</div>
<div id="conf-collapsible-desc-71" class="openblock description description-collapsed">
<div class="content">
<div class="paragraph">
<p>How long the event processor can poll for events before it must perform a "pulse",
updating and checking registrations in the agents table.</p>
</div>
<div class="paragraph">
<p>The pulse interval must be set to a value between the polling interval
and one third (1/3) of the expiration interval.</p>
</div>
<div class="paragraph">
<p>Low values (closer to the polling interval) mean less time wasted not processing events
when a node joins or leaves the cluster,
and reduced risk of wasting time not processing events
because an event processor is incorrectly considered disconnected,
but more stress on the database because of more frequent checks of the list of agents.</p>
</div>
<div class="paragraph">
<p>High values (closer to the expiration interval) mean more time wasted not processing events
when a node joins or leaves the cluster,
and increased risk of wasting time not processing events
because an event processor is incorrectly considered disconnected,
but less stress on the database because of less frequent checks of the list of agents.</p>
</div>
<div class="paragraph">
<p>See
<a href="https://docs.jboss.org/hibernate/search/7.2/reference/en-US/html_single/#coordination-outbox-polling-event-processor">this section of the reference documentation</a>
for more information.</p>
</div>
<div class="paragraph">
<p>Environment variable: <code id="env-var-29293">QUARKUS_HIBERNATE_SEARCH_ORM_COORDINATION_TENANTS__TENANT_ID__EVENT_PROCESSOR_PULSE_INTERVAL</code><button class="btn-copy fa fa-clipboard inline-btn-copy" data-clipboard-action="copy" data-clipboard-target="#env-var-29293" title="Copy to clipboard" do-not-collapse="true"></button></p>
</div>
</div>
</div>
<div class="paragraph description-decoration">
<p><i class="fa fa-chevron-down"></i><span>Show more</span></p>
</div></div></td>
<td class="tableblock halign-left valign-middle"><p class="tableblock"><a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/time/Duration.html">Duration</a> <a href="#duration-note-anchor-{summaryTableId}"><span class="icon"><i class="fa fa-question-circle" title="More information about the Duration format"></i></span></a></p></td>
<td class="tableblock halign-left valign-middle"><p class="tableblock"><code>2S</code></p></td>
</tr>
<tr class="row-collapsible row-collapsed row-with-desc row-hidden">
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><a id="quarkus-hibernate-search-orm-outbox-polling_quarkus-hibernate-search-orm-coordination-tenants-tenant-id-event-processor-pulse-expiration"></a> <span class="property-path"><a href="#quarkus-hibernate-search-orm-outbox-polling_quarkus-hibernate-search-orm-coordination-tenants-tenant-id-event-processor-pulse-expiration"><code>quarkus.hibernate-search-orm.coordination.tenants."tenant-id".event-processor.pulse-expiration</code></a></span></p>
</div>
<div class="paragraph">
<p><code>quarkus.hibernate-search-orm."persistence-unit-name".coordination.tenants."tenant-id".event-processor.pulse-expiration</code></p>
</div>
<div id="conf-collapsible-desc-72" class="openblock description description-collapsed">
<div class="content">
<div class="paragraph">
<p>How long an event processor "pulse" remains valid before considering the processor disconnected
and forcibly removing it from the cluster.</p>
</div>
<div class="paragraph">
<p>The expiration interval must be set to a value at least 3 times larger than the pulse interval.</p>
</div>
<div class="paragraph">
<p>Low values (closer to the pulse interval) mean less time wasted not processing events
when a node abruptly leaves the cluster due to a crash or network failure,
but increased risk of wasting time not processing events
because an event processor is incorrectly considered disconnected.</p>
</div>
<div class="paragraph">
<p>High values (much larger than the pulse interval) mean more time wasted not processing events
when a node abruptly leaves the cluster due to a crash or network failure,
but reduced risk of wasting time not processing events
because an event processor is incorrectly considered disconnected.</p>
</div>
<div class="paragraph">
<p>See
<a href="https://docs.jboss.org/hibernate/search/7.2/reference/en-US/html_single/#coordination-outbox-polling-event-processor">this section of the reference documentation</a>
for more information.</p>
</div>
<div class="paragraph">
<p>Environment variable: <code id="env-var-29294">QUARKUS_HIBERNATE_SEARCH_ORM_COORDINATION_TENANTS__TENANT_ID__EVENT_PROCESSOR_PULSE_EXPIRATION</code><button class="btn-copy fa fa-clipboard inline-btn-copy" data-clipboard-action="copy" data-clipboard-target="#env-var-29294" title="Copy to clipboard" do-not-collapse="true"></button></p>
</div>
</div>
</div>
<div class="paragraph description-decoration">
<p><i class="fa fa-chevron-down"></i><span>Show more</span></p>
</div></div></td>
<td class="tableblock halign-left valign-middle"><p class="tableblock"><a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/time/Duration.html">Duration</a> <a href="#duration-note-anchor-{summaryTableId}"><span class="icon"><i class="fa fa-question-circle" title="More information about the Duration format"></i></span></a></p></td>
<td class="tableblock halign-left valign-middle"><p class="tableblock"><code>30S</code></p></td>
</tr>
<tr class="row-collapsible row-collapsed row-with-desc row-hidden odd">
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><a id="quarkus-hibernate-search-orm-outbox-polling_quarkus-hibernate-search-orm-coordination-tenants-tenant-id-event-processor-batch-size"></a> <span class="property-path"><a href="#quarkus-hibernate-search-orm-outbox-polling_quarkus-hibernate-search-orm-coordination-tenants-tenant-id-event-processor-batch-size"><code>quarkus.hibernate-search-orm.coordination.tenants."tenant-id".event-processor.batch-size</code></a></span></p>
</div>
<div class="paragraph">
<p><code>quarkus.hibernate-search-orm."persistence-unit-name".coordination.tenants."tenant-id".event-processor.batch-size</code></p>
</div>
<div id="conf-collapsible-desc-73" class="openblock description description-collapsed">
<div class="content">
<div class="paragraph">
<p>How many outbox events, at most, are processed in a single transaction.</p>
</div>
<div class="paragraph">
<p>Higher values will reduce the number of transactions opened by the background process
and may increase performance thanks to the first-level cache (persistence context),
but will increase memory usage and in extreme cases may lead to <code>OutOfMemoryError</code>s.</p>
</div>
<div class="paragraph">
<p>See
<a href="https://docs.jboss.org/hibernate/search/7.2/reference/en-US/html_single/#coordination-outbox-polling-event-processor">this section of the reference documentation</a>
for more information.</p>
</div>
<div class="paragraph">
<p>Environment variable: <code id="env-var-29295">QUARKUS_HIBERNATE_SEARCH_ORM_COORDINATION_TENANTS__TENANT_ID__EVENT_PROCESSOR_BATCH_SIZE</code><button class="btn-copy fa fa-clipboard inline-btn-copy" data-clipboard-action="copy" data-clipboard-target="#env-var-29295" title="Copy to clipboard" do-not-collapse="true"></button></p>
</div>
</div>
</div>
<div class="paragraph description-decoration">
<p><i class="fa fa-chevron-down"></i><span>Show more</span></p>
</div></div></td>
<td class="tableblock halign-left valign-middle"><p class="tableblock">int</p></td>
<td class="tableblock halign-left valign-middle"><p class="tableblock"><code>50</code></p></td>
</tr>
<tr class="row-collapsible row-collapsed row-with-desc row-hidden">
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><a id="quarkus-hibernate-search-orm-outbox-polling_quarkus-hibernate-search-orm-coordination-tenants-tenant-id-event-processor-transaction-timeout"></a> <span class="property-path"><a href="#quarkus-hibernate-search-orm-outbox-polling_quarkus-hibernate-search-orm-coordination-tenants-tenant-id-event-processor-transaction-timeout"><code>quarkus.hibernate-search-orm.coordination.tenants."tenant-id".event-processor.transaction-timeout</code></a></span></p>
</div>
<div class="paragraph">
<p><code>quarkus.hibernate-search-orm."persistence-unit-name".coordination.tenants."tenant-id".event-processor.transaction-timeout</code></p>
</div>
<div id="conf-collapsible-desc-74" class="openblock description description-collapsed">
<div class="content">
<div class="paragraph">
<p>The timeout for transactions processing outbox events.</p>
</div>
<div class="paragraph">
<p>When this property is not set,
Hibernate Search will use whatever default transaction timeout is configured in the JTA transaction manager,
which may be too low for batch processing and lead to transaction timeouts when processing batches of events.
If this happens, set a higher transaction timeout for event processing using this property.</p>
</div>
<div class="paragraph">
<p>See
<a href="https://docs.jboss.org/hibernate/search/7.2/reference/en-US/html_single/#coordination-outbox-polling-event-processor">this section of the reference documentation</a>
for more information.</p>
</div>
<div class="paragraph">
<p>Environment variable: <code id="env-var-29296">QUARKUS_HIBERNATE_SEARCH_ORM_COORDINATION_TENANTS__TENANT_ID__EVENT_PROCESSOR_TRANSACTION_TIMEOUT</code><button class="btn-copy fa fa-clipboard inline-btn-copy" data-clipboard-action="copy" data-clipboard-target="#env-var-29296" title="Copy to clipboard" do-not-collapse="true"></button></p>
</div>
</div>
</div>
<div class="paragraph description-decoration">
<p><i class="fa fa-chevron-down"></i><span>Show more</span></p>
</div></div></td>
<td class="tableblock halign-left valign-middle"><p class="tableblock"><a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/time/Duration.html">Duration</a> <a href="#duration-note-anchor-{summaryTableId}"><span class="icon"><i class="fa fa-question-circle" title="More information about the Duration format"></i></span></a></p></td>
<td class="tableblock halign-left valign-middle"></td>
</tr>
<tr class="row-collapsible row-collapsed row-with-desc row-hidden odd">
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><a id="quarkus-hibernate-search-orm-outbox-polling_quarkus-hibernate-search-orm-coordination-tenants-tenant-id-event-processor-retry-delay"></a> <span class="property-path"><a href="#quarkus-hibernate-search-orm-outbox-polling_quarkus-hibernate-search-orm-coordination-tenants-tenant-id-event-processor-retry-delay"><code>quarkus.hibernate-search-orm.coordination.tenants."tenant-id".event-processor.retry-delay</code></a></span></p>
</div>
<div class="paragraph">
<p><code>quarkus.hibernate-search-orm."persistence-unit-name".coordination.tenants."tenant-id".event-processor.retry-delay</code></p>
</div>
<div id="conf-collapsible-desc-75" class="openblock description description-collapsed">
<div class="content">
<div class="paragraph">
<p>How long the event processor must wait before re-processing an event after its previous processing failed.</p>
</div>
<div class="paragraph">
<p>Use the value <code>0S</code> to reprocess failed events as soon as possible, with no delay.</p>
</div>
<div class="paragraph">
<p>See
<a href="https://docs.jboss.org/hibernate/search/7.2/reference/en-US/html_single/#coordination-outbox-polling-event-processor">this section of the reference documentation</a>
for more information.</p>
</div>
<div class="paragraph">
<p>Environment variable: <code id="env-var-29297">QUARKUS_HIBERNATE_SEARCH_ORM_COORDINATION_TENANTS__TENANT_ID__EVENT_PROCESSOR_RETRY_DELAY</code><button class="btn-copy fa fa-clipboard inline-btn-copy" data-clipboard-action="copy" data-clipboard-target="#env-var-29297" title="Copy to clipboard" do-not-collapse="true"></button></p>
</div>
</div>
</div>
<div class="paragraph description-decoration">
<p><i class="fa fa-chevron-down"></i><span>Show more</span></p>
</div></div></td>
<td class="tableblock halign-left valign-middle"><p class="tableblock"><a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/time/Duration.html">Duration</a> <a href="#duration-note-anchor-{summaryTableId}"><span class="icon"><i class="fa fa-question-circle" title="More information about the Duration format"></i></span></a></p></td>
<td class="tableblock halign-left valign-middle"><p class="tableblock"><code>30S</code></p></td>
</tr>
<tr class="row-collapsible row-collapsed row-with-desc row-hidden">
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><a id="quarkus-hibernate-search-orm-outbox-polling_quarkus-hibernate-search-orm-coordination-tenants-tenant-id-mass-indexer-polling-interval"></a> <span class="property-path"><a href="#quarkus-hibernate-search-orm-outbox-polling_quarkus-hibernate-search-orm-coordination-tenants-tenant-id-mass-indexer-polling-interval"><code>quarkus.hibernate-search-orm.coordination.tenants."tenant-id".mass-indexer.polling-interval</code></a></span></p>
</div>
<div class="paragraph">
<p><code>quarkus.hibernate-search-orm."persistence-unit-name".coordination.tenants."tenant-id".mass-indexer.polling-interval</code></p>
</div>
<div id="conf-collapsible-desc-76" class="openblock description description-collapsed">
<div class="content">
<div class="paragraph">
<p>How long to wait for another query to the agent table
when actively waiting for event processors to suspend themselves.</p>
</div>
<div class="paragraph">
<p>Low values will reduce the time it takes for the mass indexer agent to detect
that event processors finally suspended themselves,
but will increase the stress on the database while the mass indexer agent is actively waiting.</p>
</div>
<div class="paragraph">
<p>High values will increase the time it takes for the mass indexer agent to detect
that event processors finally suspended themselves,
but will reduce the stress on the database while the mass indexer agent is actively waiting.</p>
</div>
<div class="paragraph">
<p>See
<a href="https://docs.jboss.org/hibernate/search/7.2/reference/en-US/html_single/#coordination-outbox-polling-mass-indexer">this section of the reference documentation</a>
for more information.</p>
</div>
<div class="paragraph">
<p>Environment variable: <code id="env-var-29298">QUARKUS_HIBERNATE_SEARCH_ORM_COORDINATION_TENANTS__TENANT_ID__MASS_INDEXER_POLLING_INTERVAL</code><button class="btn-copy fa fa-clipboard inline-btn-copy" data-clipboard-action="copy" data-clipboard-target="#env-var-29298" title="Copy to clipboard" do-not-collapse="true"></button></p>
</div>
</div>
</div>
<div class="paragraph description-decoration">
<p><i class="fa fa-chevron-down"></i><span>Show more</span></p>
</div></div></td>
<td class="tableblock halign-left valign-middle"><p class="tableblock"><a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/time/Duration.html">Duration</a> <a href="#duration-note-anchor-{summaryTableId}"><span class="icon"><i class="fa fa-question-circle" title="More information about the Duration format"></i></span></a></p></td>
<td class="tableblock halign-left valign-middle"><p class="tableblock"><code>0.100S</code></p></td>
</tr>
<tr class="row-collapsible row-collapsed row-with-desc row-hidden odd">
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><a id="quarkus-hibernate-search-orm-outbox-polling_quarkus-hibernate-search-orm-coordination-tenants-tenant-id-mass-indexer-pulse-interval"></a> <span class="property-path"><a href="#quarkus-hibernate-search-orm-outbox-polling_quarkus-hibernate-search-orm-coordination-tenants-tenant-id-mass-indexer-pulse-interval"><code>quarkus.hibernate-search-orm.coordination.tenants."tenant-id".mass-indexer.pulse-interval</code></a></span></p>
</div>
<div class="paragraph">
<p><code>quarkus.hibernate-search-orm."persistence-unit-name".coordination.tenants."tenant-id".mass-indexer.pulse-interval</code></p>
</div>
<div id="conf-collapsible-desc-77" class="openblock description description-collapsed">
<div class="content">
<div class="paragraph">
<p>How long the mass indexer can wait before it must perform a "pulse",
updating and checking registrations in the agent table.</p>
</div>
<div class="paragraph">
<p>The pulse interval must be set to a value between the polling interval
and one third (1/3) of the expiration interval.</p>
</div>
<div class="paragraph">
<p>Low values (closer to the polling interval) mean reduced risk of
event processors starting to process events again during mass indexing
because a mass indexer agent is incorrectly considered disconnected,
but more stress on the database because of more frequent updates of the mass indexer agent&#8217;s entry in the agent table.</p>
</div>
<div class="paragraph">
<p>High values (closer to the expiration interval) mean increased risk of
event processors starting to process events again during mass indexing
because a mass indexer agent is incorrectly considered disconnected,
but less stress on the database because of less frequent updates of the mass indexer agent&#8217;s entry in the agent table.</p>
</div>
<div class="paragraph">
<p>See
<a href="https://docs.jboss.org/hibernate/search/7.2/reference/en-US/html_single/#coordination-outbox-polling-mass-indexer">this section of the reference documentation</a>
for more information.</p>
</div>
<div class="paragraph">
<p>Environment variable: <code id="env-var-29299">QUARKUS_HIBERNATE_SEARCH_ORM_COORDINATION_TENANTS__TENANT_ID__MASS_INDEXER_PULSE_INTERVAL</code><button class="btn-copy fa fa-clipboard inline-btn-copy" data-clipboard-action="copy" data-clipboard-target="#env-var-29299" title="Copy to clipboard" do-not-collapse="true"></button></p>
</div>
</div>
</div>
<div class="paragraph description-decoration">
<p><i class="fa fa-chevron-down"></i><span>Show more</span></p>
</div></div></td>
<td class="tableblock halign-left valign-middle"><p class="tableblock"><a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/time/Duration.html">Duration</a> <a href="#duration-note-anchor-{summaryTableId}"><span class="icon"><i class="fa fa-question-circle" title="More information about the Duration format"></i></span></a></p></td>
<td class="tableblock halign-left valign-middle"><p class="tableblock"><code>2S</code></p></td>
</tr>
<tr class="row-collapsible row-collapsed row-with-desc row-hidden">
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><a id="quarkus-hibernate-search-orm-outbox-polling_quarkus-hibernate-search-orm-coordination-tenants-tenant-id-mass-indexer-pulse-expiration"></a> <span class="property-path"><a href="#quarkus-hibernate-search-orm-outbox-polling_quarkus-hibernate-search-orm-coordination-tenants-tenant-id-mass-indexer-pulse-expiration"><code>quarkus.hibernate-search-orm.coordination.tenants."tenant-id".mass-indexer.pulse-expiration</code></a></span></p>
</div>
<div class="paragraph">
<p><code>quarkus.hibernate-search-orm."persistence-unit-name".coordination.tenants."tenant-id".mass-indexer.pulse-expiration</code></p>
</div>
<div id="conf-collapsible-desc-78" class="openblock description description-collapsed">
<div class="content">
<div class="paragraph">
<p>How long an event processor "pulse" remains valid before considering the processor disconnected
and forcibly removing it from the cluster.</p>
</div>
<div class="paragraph">
<p>The expiration interval must be set to a value at least 3 times larger than the pulse interval.</p>
</div>
<div class="paragraph">
<p>Low values (closer to the pulse interval) mean less time wasted with event processors not processing events
when a mass indexer agent terminates due to a crash,
but increased risk of event processors starting to process events again during mass indexing
because a mass indexer agent is incorrectly considered disconnected.</p>
</div>
<div class="paragraph">
<p>High values (much larger than the pulse interval) mean more time wasted with event processors not processing events
when a mass indexer agent terminates due to a crash,
but reduced risk of event processors starting to process events again during mass indexing
because a mass indexer agent is incorrectly considered disconnected.</p>
</div>
<div class="paragraph">
<p>See
<a href="https://docs.jboss.org/hibernate/search/7.2/reference/en-US/html_single/#coordination-outbox-polling-mass-indexer">this section of the reference documentation</a>
for more information.</p>
</div>
<div class="paragraph">
<p>Environment variable: <code id="env-var-29300">QUARKUS_HIBERNATE_SEARCH_ORM_COORDINATION_TENANTS__TENANT_ID__MASS_INDEXER_PULSE_EXPIRATION</code><button class="btn-copy fa fa-clipboard inline-btn-copy" data-clipboard-action="copy" data-clipboard-target="#env-var-29300" title="Copy to clipboard" do-not-collapse="true"></button></p>
</div>
</div>
</div>
<div class="paragraph description-decoration">
<p><i class="fa fa-chevron-down"></i><span>Show more</span></p>
</div></div></td>
<td class="tableblock halign-left valign-middle"><p class="tableblock"><a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/time/Duration.html">Duration</a> <a href="#duration-note-anchor-{summaryTableId}"><span class="icon"><i class="fa fa-question-circle" title="More information about the Duration format"></i></span></a></p></td>
<td class="tableblock halign-left valign-middle"><p class="tableblock"><code>30S</code></p></td>
</tr>
</tbody>
</table>
<div id="duration-note-anchor-quarkus-hibernate-search-orm-outbox-polling_quarkus-hibernate-search-orm" class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
<div class="title">About the Duration format</div>
<div class="paragraph">
<p>To write duration values, use the standard <code>java.time.Duration</code> format.
See the <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/time/Duration.html#parse(java.lang.CharSequence)">Duration#parse() Java API documentation</a> for more information.</p>
</div>
<div class="paragraph">
<p>You can also use a simplified format, starting with a number:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>If the value is only a number, it represents time in seconds.</p>
</li>
<li>
<p>If the value is a number followed by <code>ms</code>, it represents time in milliseconds.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>In other cases, the simplified format is translated to the <code>java.time.Duration</code> format for parsing:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>If the value is a number followed by <code>h</code>, <code>m</code>, or <code>s</code>, it is prefixed with <code>PT</code>.</p>
</li>
<li>
<p>If the value is a number followed by <code>d</code>, it is prefixed with <code>P</code>.</p>
</li>
</ul>
</div>
</td>
</tr>
</table>
</div>
</div>
</div>
</div>
    </div>
    <div class="grid__item width-4-12 width-12-12-m tocwrapper">
      <div class="hide-mobile toc"><ul class="sectlevel1">
<li><a href="#prerequisites">Prerequisites</a></li>
<li><a href="#architecture">Architecture</a></li>
<li><a href="#solution">Solution</a></li>
<li><a href="#creating-the-maven-project">Creating the Maven project</a></li>
<li><a href="#creating-the-bare-entities">Creating the bare entities</a></li>
<li><a href="#initializing-the-rest-service">Initializing the REST service</a></li>
<li><a href="#using-hibernate-search-annotations">Using Hibernate Search annotations</a></li>
<li><a href="#analyzers-and-normalizers">Analyzers and normalizers</a>
<ul class="sectlevel2">
<li><a href="#introduction">Introduction</a></li>
<li><a href="#defining-the-analyzers-used">Defining the analyzers used</a></li>
<li><a href="#analysis-configurer">Setting up the analyzers</a></li>
</ul>
</li>
<li><a href="#adding-full-text-capabilities-to-our-rest-service">Adding full text capabilities to our REST service</a></li>
<li><a href="#automatic-import-script">Automatic data initialization</a></li>
<li><a href="#configuring-the-application">Configuring the application</a></li>
<li><a href="#creating-a-frontend">Creating a frontend</a></li>
<li><a href="#time-to-play-with-your-application">Time to play with your application</a></li>
<li><a href="#building-a-native-executable">Building a native executable</a></li>
<li><a href="#dev-services">Dev Services (Configuration Free Datastores)</a></li>
<li><a href="#programmatic-mapping">Programmatic mapping</a></li>
<li><a href="#opensearch">OpenSearch compatibility</a></li>
<li><a href="#multiple-persistence-units">Multiple persistence units</a>
<ul class="sectlevel2">
<li><a href="#configuring-multiple-persistence-units">Configuring multiple persistence units</a></li>
<li><a href="#multiple-persistence-units-attaching-model-classes">Attaching model classes to persistence units</a></li>
</ul>
</li>
<li><a href="#multiple-persistence-units-attaching-cdi">CDI integration</a>
<ul class="sectlevel2">
<li><a href="#injecting-entry-points">Injecting entry points</a></li>
<li><a href="#plugging-in-custom-components">Plugging in custom components</a></li>
</ul>
</li>
<li><a href="#offline-startup">Offline startup</a></li>
<li><a href="#coordination">Coordination through outbox polling</a></li>
<li><a href="#aws-request-signing"> AWS request signing</a></li>
<li><a href="#management">Management endpoint</a></li>
<li><a href="#further-reading">Further reading</a></li>
<li><a href="#faq">FAQ</a>
<ul class="sectlevel2">
<li><a href="#why-elasticsearch-only">Why Elasticsearch only?</a></li>
</ul>
</li>
<li><a href="#configuration-reference">Configuration Reference for Hibernate Search with Hibernate ORM</a>
<ul class="sectlevel2">
<li><a href="#configuration-reference-main">Main Configuration</a></li>
<li><a href="#configuration-reference-coordination-outbox-polling">Configuration of coordination with outbox polling</a></li>
</ul>
</li>
</ul></div>
    </div>
  </div>
  <h2>Related content</h2>
  <div class="grid-wrapper relations">
    <div class="grid__item width-6-12 width-12-12-m">
      <h3>On the same extensions</h3>
      <ul class="related-content">
      
        
        <li class="guide"><a href="/version/3.15/guides/elasticsearch-dev-services">Dev Services for Elasticsearch</a></li>
      </ul>
    </div>
    <div class="grid__item width-6-12 width-12-12-m">
      <h3>On the same topics</h3>
      <ul class="related-content">
      
        
        <li class="guide"><a href="/version/3.15/guides/hibernate-search-standalone-elasticsearch">Use Hibernate Search in Standalone mode with Elasticsearch/OpenSearch</a></li>
      
        
        <li class="guide"><a href="/version/3.15/guides/elasticsearch">Connecting to an Elasticsearch cluster</a></li>
      
        
        <li class="guide"><a href="/version/3.15/guides/elasticsearch-dev-services">Dev Services for Elasticsearch</a></li>
      
        
        <li class="guide"><a href="/version/3.15/guides/redis-dev-services">Dev Services for Redis</a></li>
      
        
        <li class="guide"><a href="/version/3.15/guides/rest-data-panache">Generating Jakarta REST resources with Panache</a></li>
      
        
        <li class="reference"><a href="/version/3.15/guides/redis-reference">Redis Extension Reference Guide</a></li>
      
        
        <li class="guide"><a href="/version/3.15/guides/hibernate-orm-panache">Simplified Hibernate ORM with Panache</a></li>
      
        
        <li class="guide"><a href="/version/3.15/guides/hibernate-orm-panache-kotlin">Simplified Hibernate ORM with Panache and Kotlin</a></li>
      
        
        <li class="guide"><a href="/version/3.15/guides/mongodb-panache">Simplified MongoDB with Panache</a></li>
      
        
        <li class="guide"><a href="/version/3.15/guides/mongodb-panache-kotlin">Simplified MongoDB with Panache and Kotlin</a></li>
      
        
        <li class="guide"><a href="/version/3.15/guides/hibernate-orm">Using Hibernate ORM and Jakarta Persistence</a></li>
      
        
        <li class="guide"><a href="/version/3.15/guides/mongodb">Using the MongoDB Client</a></li>
      
        
        <li class="guide"><a href="/version/3.15/guides/redis">Using the Redis Client</a></li>
      
        
        <li class="guide"><a href="/version/3.15/guides/cache">Application Data Caching</a></li>
      
        
        <li class="reference"><a href="/version/3.15/guides/datasource">Configure data sources in Quarkus</a></li>
      
        
        <li class="guide"><a href="/version/3.15/guides/databases-dev-services">Dev Services for Databases</a></li>
      
        
        <li class="guide"><a href="/version/3.15/guides/infinispan-dev-services">Dev Services for Infinispan</a></li>
      
        
        <li class="reference"><a href="/version/3.15/guides/cache-infinispan-reference">Infinispan Cache</a></li>
      
        
        <li class="reference"><a href="/version/3.15/guides/infinispan-client-reference">Infinispan Client Extension Reference Guide</a></li>
      
        
        <li class="guide"><a href="/version/3.15/guides/lra">Narayana LRA Participant Support</a></li>
      </ul>
    </div>
    </div>
  </div>

  </div>

  <div class="content project-footer">
  <div class="footer-section">
    <div class="logo-wrapper">
      <a href="/"><img src="/assets/images/quarkus_logo_horizontal_rgb_reverse.svg" class="project-logo" title="Quarkus"></a>
    </div>
  </div>
  <div class="grid-wrapper">
    <p class="grid__item width-3-12">Quarkus is open. All dependencies of this project are available under the <a href='https://www.apache.org/licenses/LICENSE-2.0' target='_blank'>Apache Software License 2.0</a> or compatible license.<br /><br />This website was built with <a href='https://jekyllrb.com/' target='_blank'>Jekyll</a>, is hosted on <a href='https://pages.github.com/' target='_blank'>GitHub Pages</a> and is completely open source. If you want to make it better, <a href='https://github.com/quarkusio/quarkusio.github.io' target='_blank'>fork the website</a> and show us what you’ve got.</p>

    
      <div class="width-1-12 project-links">
        <span>Navigation</span>
        <ul class="footer-links">
          
          
            <li><a href="/" target="_blank">Home</a></li>
          
          
          
            <li><a href="/about" target="_blank">About</a></li>
          
          
          
            <li><a href="/blog" target="_blank">Blog</a></li>
          
          
          
            <li><a href="/insights" target="_blank">Podcast</a></li>
          
          
          
            <li><a href="/events" target="_blank">Events</a></li>
          
          
          
            <li><a href="/newsletter" target="_blank">Newsletter</a></li>
          
          
          
            <li><a href="https://github.com/orgs/quarkusio/projects/13/views/1" target="_blank">Roadmap</a></li>
          
          
          
            <li><a href="/security" target="_blank">Security&nbsp;policy</a></li>
          
          
          
            <li><a href="/usage" target="_blank">Usage</a></li>
          
          
          
            <li><a href="/brand" target="_blank">Brand</a></li>
          
          
          
            <li><a href="/desktopwallpapers" target="_blank">Wallpapers</a></li>
          
          
        </ul>
      </div>
    
      <div class="width-1-12 project-links">
        <span>Follow Us</span>
        <ul class="footer-links">
          
          
            <li><a href="https://x.com/quarkusio" target="_blank">X</a></li>
          
          
          
            <li><a rel="me" href="https://fosstodon.org/@quarkusio" target="_blank">Mastodon</a></li>
            
          
          
            <li><a href="https://www.facebook.com/quarkusio" target="_blank">Facebook</a></li>
          
          
          
            <li><a href="https://www.linkedin.com/company/quarkusio/" target="_blank">Linkedin</a></li>
          
          
          
            <li><a href="https://www.youtube.com/channel/UCaW8QG_QoIk_FnjLgr5eOqg" target="_blank">Youtube</a></li>
          
          
          
            <li><a href="https://github.com/quarkusio" target="_blank">GitHub</a></li>
          
          
        </ul>
      </div>
    
      <div class="width-2-12 project-links">
        <span>Get Help</span>
        <ul class="footer-links">
          
          
            <li><a href="/support" target="_blank">Support</a></li>
          
          
          
            <li><a href="/guides" target="_blank">Guides</a></li>
          
          
          
            <li><a href="/faq" target="_blank">FAQ</a></li>
          
          
          
            <li><a href="/get-started" target="_blank">Get Started</a></li>
          
          
          
            <li><a href="https://stackoverflow.com/questions/tagged/quarkus" target="_blank">Stack Overflow</a></li>
          
          
          
            <li><a href="https://github.com/quarkusio/quarkus/discussions" target="_blank">Discussions</a></li>
          
          
          
            <li><a href="https://groups.google.com/forum/#!forum/quarkus-dev" target="_blank">Development mailing list</a></li>
          
          
        </ul>
      </div>
    
      <div class="width-1-12 project-links">
        <span>Languages</span>
        <ul class="footer-links">
          
          
            <li><a href="https://quarkus.io/" target="_blank">English</a></li>
          
          
          
            <li><a href="https://pt.quarkus.io/" target="_blank">Português&nbsp;(Brasileiro)</a></li>
          
          
          
            <li><a href="https://es.quarkus.io/" target="_blank">Español</a></li>
          
          
          
            <li><a href="https://cn.quarkus.io/" target="_blank">简体中文</a></li>
          
          
          
            <li><a href="https://ja.quarkus.io/" target="_blank">日本語</a></li>
          
          
        </ul>
      </div>
    

    
      <div class="width-4-12 more-links">
        <span>Quarkus is made of community projects</span>
        <ul class="footer-links">
          
            <li><a blah href="https://vertx.io/" target="_blank">Eclipse Vert.x</a></li>
          
            <li><a blah href="https://smallrye.io" target="_blank">SmallRye</a></li>
          
            <li><a blah href="https://hibernate.org" target="_blank">Hibernate</a></li>
          
            <li><a blah href="https://netty.io" target="_blank">Netty</a></li>
          
            <li><a blah href="https://resteasy.github.io" target="_blank">RESTEasy</a></li>
          
            <li><a blah href="https://camel.apache.org" target="_blank">Apache Camel</a></li>
          
            <li><a blah href="https://microprofile.io" target="_blank">Eclipse MicroProfile</a></li>
          
            <li><a blah href="https://code.quarkus.io/" target="_blank">And many more...</a></li>
          
        </ul>
      </div>
    
  </div>
</div>

  <div class="content redhat-footer">
  <div class="grid-wrapper">
    <span class="licence">
      <i class="fab fa-creative-commons"></i><i class="fab fa-creative-commons-by"></i> <a href="https://creativecommons.org/licenses/by/3.0/" target="_blank">CC by 3.0</a> | <a href="https://www.redhat.com/en/about/privacy-policy">Privacy Policy</a>
    </span>
    <span class="redhat">
      Sponsored by
    </span>
    <span class="redhat-logo">
      <a href="https://www.redhat.com/" target="_blank"><img src="/assets/images/redhat_reversed.svg"></a>
    </span>
  </div>
</div>


  <script src="https://ajax.googleapis.com/ajax/libs/jquery/2.1.4/jquery.min.js" integrity="sha384-8gBf6Y4YYq7Jx97PIqmTwLPin4hxIzQw5aDmUg/DDhul9fFpbbLcLh3nTIIDJKhx" crossorigin="anonymous"></script>
  <script type="text/javascript" src="/assets/javascript/mobile-nav.js"></script>
  <script type="text/javascript" src="/assets/javascript/scroll-down.js"></script>
  <script src="/assets/javascript/satellite.js" type="text/javascript"></script>
  <script src="/guides/javascript/config.js" type="text/javascript"></script>
  <script src="/assets/javascript/guides-version-dropdown.js" type="text/javascript"></script>
  <script src="/assets/javascript/back-to-top.js" type="text/javascript"></script>
  <script src="/assets/javascript/clipboard.min.js" type="text/javascript"></script>
  <script src="/assets/javascript/copy.js" type="text/javascript"></script>
  <script src="/assets/javascript/asciidoc-tabs.js" type="text/javascript"></script>
  <script src="/assets/javascript/future-date.js" type="text/javascript"></script>
</body>

</html>
