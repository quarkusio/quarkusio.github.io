<!DOCTYPE html>
<html lang="en">







<head>
  <title>Validation with Hibernate Validator - 3.2 - Quarkus</title>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <meta http-equiv="Content-Security-Policy" content="
  connect-src 'self' https://dpm.demdex.net https://adobedc.demdex.net https://analytics.ossupstream.org/ https://search.quarkus.io https://smetrics.redhat.com; 
  script-src 'self' 'unsafe-inline' 'unsafe-eval'
      
      https://assets.adobedtm.com
      js.bizographics.com
      https://www.redhat.com
      https://static.redhat.com
      https://app.requestly.io/
      jsonip.com
      https://ajax.googleapis.com
      https://use.fontawesome.com
      http://www.youtube.com
      http://www.googleadservices.com
      https://googleads.g.doubleclick.net
      https://giscus.app
      https://analytics.ossupstream.org/
      https://app.mailjet.com;

  style-src 'self' https://fonts.googleapis.com https://use.fontawesome.com; 
  img-src 'self' * data:; 
  media-src 'self'; 
  frame-src https://redhat.demdex.net https://www.youtube.com https://player.restream.io https://app.mailjet.com http://xy0p2.mjt.lu https://mj.quarkus.io https://giscus.app; 
  base-uri 'none'; 
  object-src 'none'; 
  form-action 'none'; 
  font-src 'self' https://use.fontawesome.com https://fonts.gstatic.com;" />
  <script id="adobe_dtm" src="https://www.redhat.com/dtm.js" type="text/javascript"></script>
  <script src="/assets/javascript/highlight.pack.js" type="text/javascript"></script>
  <META HTTP-EQUIV='X-XSS-Protection' CONTENT="1; mode=block">
  <META HTTP-EQUIV='X-Content-Type-Options' CONTENT="nosniff">
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <meta name="description" content="Quarkus: Supersonic Subatomic Java">
  <meta name="twitter:card" content="summary_large_image">
  <meta name="twitter:site" content="@QuarkusIO"> 
  <meta name="twitter:creator" content="@QuarkusIO">
  <meta property="og:url" content="https://quarkus.io/version/3.2/guides/validation" />
  <meta property="og:title" content="Validation with Hibernate Validator - 3.2" />
  <meta property="og:description" content="Quarkus: Supersonic Subatomic Java" />
  <meta property="og:image" content="https://quarkus.io/assets/images/quarkus_card.png" />
  
  <link rel="canonical" href="https://quarkus.io/guides/validation">
  <link rel="shortcut icon" type="image/png" href="/favicon.ico" >
  <link rel="stylesheet" href="/guides/stylesheet/config.css" />
  <link rel="stylesheet" href="/assets/css/main.css?2021-07-29" />
  <link rel="stylesheet" href="https://use.fontawesome.com/releases/v6.5.2/css/all.css" crossorigin="anonymous">
  <link rel="alternate" type="application/rss+xml"  href="/feed.xml" title="Quarkus">
  <script src="/assets/javascript/hl.js" type="text/javascript"></script>
  
  
  
  
  <link rel="alternate" hreflang="en" href="https://quarkus.io/version/3.2/guides/validation" />
  
  <link rel="alternate" hreflang="pt-br" href="https://pt.quarkus.io/version/3.2/guides/validation" />
  
  <link rel="alternate" hreflang="es" href="https://es.quarkus.io/version/3.2/guides/validation" />
  
  <link rel="alternate" hreflang="zh" href="https://cn.quarkus.io/version/3.2/guides/validation" />
  
  <link rel="alternate" hreflang="ja" href="https://ja.quarkus.io/version/3.2/guides/validation" />
  
  <link rel="alternate" hreflang="x-default" href="https://quarkus.io/" />  
  <script src="/assets/javascript/tracking.js"></script>
  
  <script src="/assets/javascript/colormode.js" type="text/javascript"></script>

</head>

<body class="guides">

  
  <div class="nav-wrapper">
  <div class="grid-wrapper">
    <div class="width-12-12">
      <input type="checkbox" id="checkbox" />
      <nav id="main-nav" class="main-nav">
        <div class="logo-wrapper">
           <a href="/"><img src="/assets/images/quarkus_logo_horizontal_rgb_600px_reverse.png" class="project-logo" title="Quarkus"></a>
        </div>
    <label class="nav-toggle" for="checkbox">
      <i class="fa fa-bars"></i>
    </label>
    <ul id="menu" class="menu">
      <li class="dropdown">
        <span href="/about/">Why<i class="fas fa-chevron-down"></i></span>
        <ul class="submenu">
          <li><a href="/about" class="">WHAT IS QUARKUS?</a></li>
          <li><a href="/developer-joy" class="">DEVELOPER JOY</a></li>
          <li><a href="/performance" class="">PERFORMANCE</a></li>
          <li><a href="/kubernetes-native" class="">KUBERNETES NATIVE</a></li>
          <li><a href="/standards" class="">STANDARDS</a></li>
          <li><a href="/versatility" class="">VERSATILITY</a></li>
          <li><a href="/container-first" class="">CONTAINER FIRST</a></li>          
        </ul>
      </li>
      <li class="dropdown">
        <span href="/learn/">Learn<i class="fas fa-chevron-down"></i></span>
        <ul class="submenu">
          <li><a href="/get-started" class="">GET STARTED</a></li>
          <li><a href="/guides" class="active">DOCUMENTATION</a></li>
          <li><a href="/userstories/" class="">USER STORIES</a></li>  
          <li><a href="/qtips" class="">"Q" TIP VIDEOS</a></li>          
          <li><a href="/books" class="">BOOKS</a></li>
          </ul>
      </li>
      <li class="dropdown">
        <span href="https://quarkus.io/extensions/">Extensions<i class="fas fa-chevron-down"></i></span>
        <ul class="submenu">
          <!-- Note that quarkus.io is hardcoded here, because it is the only url which supports extensions -->
          <li><a href="https://quarkus.io/extensions/" class="">BROWSE EXTENSIONS</a></li>
          <li><a href="/faq/#what-is-a-quarkus-extension" class="">USE EXTENSIONS</a></li>
          <li><a href="/guides/writing-extensions" class="">CREATE EXTENSIONS</a></li>
          <li><a href="https://hub.quarkiverse.io" class="">SHARE EXTENSIONS</a></li>
        </ul>
      </li>
      <li class="dropdown">
        <span href="/community/">Community<i class="fas fa-chevron-down"></i></span>
        <ul class="submenu">
          <li><a href="/support/" class="">SUPPORT</a></li>
          <li><a href="/blog" class="">BLOG</a></li>
          <li><a href="/discussion" class="">DISCUSSION</a></li>
          <li><a href="/working-groups" class="">WORKING GROUPS</a></li>
          <li><a href="/insights" class="">PODCAST</a></li>
          <li><a href="/events" class="">EVENTS</a></li>
          <li><a href="/newsletter" class="">NEWSLETTER</a></li>
          <li><a href="https://github.com/orgs/quarkusio/projects/13/views/1" class="">ROADMAP</a></li>
          </ul>
      </li>
      <li>
        <a href="https://code.quarkus.io" class="button-cta secondary white">START CODING</a>
      </li>
      <li class="dropdown">
        <span href="/language/"><div class="fas fa-globe langicon"></div><i class="fas fa-chevron-down"></i></span>
        <ul class="submenu">
          <li><a href="https://quarkus.io/version/3.2/guides/validation" >OFFICIAL (ENGLISH)</a></li>
          <li><a href="https://pt.quarkus.io/version/3.2/guides/validation">PORTUGUÊS (BR)</a></li>
          <li><a href="https://es.quarkus.io/version/3.2/guides/validation">ESPAÑOL</a></li>
          <li><a href="https://cn.quarkus.io/version/3.2/guides/validation">简体中文</a></li>
          <li><a href="https://ja.quarkus.io/version/3.2/guides/validation">日本語</a></li>
          </ul>
      </li>
      <li>
        <span href="#" class="modeswitcher" id='theme-toggle'><i class="fas fa-sun"></i><i class="fas fa-moon"></i><i class="fas fa-cog"></i></span>
      </li>
    </ul>
      </nav>
    </div>
  </div>
</div>

  <div class="content">
    







<section class="full-width-version-bg flexfilterbar guides">
  <div class="guideflexcontainer">
    <div class="docslink">
      <a class="returnlink" href="/version/3.2/guides/"> Back to Guides</a>
    </div>
    <div class="flexlabel">
      <label>By Version</label>
    </div>
    <div class="guidepulldown version">
    <select id="guide-version-dropdown">
      
        
        
        <option value="main" >Main - SNAPSHOT</option>
        
        
        
        <option value="latest" >3.23.4 - Latest</option>
        
        
        
        <option value="3.20" >3.20</option>
        
        
        
        <option value="3.15" >3.15</option>
        
        
        
        <option value="3.8" >3.8</option>
        
        
        
        <option value="3.2" selected>3.2</option>
        
        
        
        <option value="2.16" >2.16</option>
        
        
        
        <option value="2.13" >2.13</option>
        </select>
    </div>
  </div>
</section>

<div class="guide">
  <div class="grid-wrapper">
    <div class="grid__item width-8-12 width-12-12-m">
      
      <h1 class="text-caps">Validation with Hibernate Validator </h1>
      <div id="preamble">
<div class="sectionbody">
<div class="paragraph">
<p>This guide covers how to use Hibernate Validator/Bean Validation for:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>validating the input/output of your REST services;</p>
</li>
<li>
<p>validating the parameters and return values of the methods of your business services.</p>
</li>
</ul>
</div>
</div>
</div>
<div class="sect1">
<h2 id="prerequisites"><a class="anchor" href="#prerequisites"></a>Prerequisites</h2>
<div class="sectionbody">
<div class="paragraph">
<p>To complete this guide, you need:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Roughly 15 minutes</p>
</li>
<li>
<p>An IDE</p>
</li>
<li>
<p>JDK 11+ installed with <code>JAVA_HOME</code> configured appropriately</p>
</li>
<li>
<p>Apache Maven 3.9.3</p>
</li>
<li>
<p>Optionally the <a href="cli-tooling">Quarkus CLI</a> if you want to use it</p>
</li>
<li>
<p>Optionally Mandrel or GraalVM installed and <a href="building-native-image#configuring-graalvm">configured appropriately</a> if you want to build a native executable (or Docker if you use a native container build)</p>
</li>
</ul>
</div>
</div>
</div>
<div class="sect1">
<h2 id="architecture"><a class="anchor" href="#architecture"></a>Architecture</h2>
<div class="sectionbody">
<div class="paragraph">
<p>The application built in this guide is quite simple. The user fills a form on a web page.
The web page sends the form content to the <code>BookResource</code> as JSON (using Ajax). The <code>BookResource</code> validates the user input and returns the
<em>result</em> as JSON.</p>
</div>
<div class="paragraph">
<p><span class="image"><img src="./images/validation-guide-architecture.png" alt="Architecture"></span></p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="solution"><a class="anchor" href="#solution"></a>Solution</h2>
<div class="sectionbody">
<div class="paragraph">
<p>We recommend that you follow the instructions in the next sections and create the application step by step.
However, you can go right to the completed example.</p>
</div>
<div class="paragraph">
<p>Clone the Git repository: <code>git clone -b 3.2 <a href="https://github.com/quarkusio/quarkus-quickstarts.git" class="bare">https://github.com/quarkusio/quarkus-quickstarts.git</a></code>, or download an <a href="https://github.com/quarkusio/quarkus-quickstarts/archive/3.2.zip">archive</a>.</p>
</div>
<div class="paragraph">
<p>The solution is located in the <code>validation-quickstart</code> <a href="https://github.com/quarkusio/quarkus-quickstarts/tree/3.2/validation-quickstart">directory</a>.</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="creating-the-maven-project"><a class="anchor" href="#creating-the-maven-project"></a>Creating the Maven project</h2>
<div class="sectionbody">
<div class="paragraph">
<p>First, we need a new project. Create a new project with the following command:</p>
</div>
<div class="sidebarblock primary asciidoc-tabs-sync-cli">
<div class="content">
<div class="title">CLI</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-bash hljs" data-lang="bash">quarkus create app org.acme:validation-quickstart \
    --extension='resteasy-reactive-jackson,hibernate-validator' \
    --no-code
cd validation-quickstart</code></pre>
</div>
</div>
<div class="paragraph">
<p>To create a Gradle project, add the <code>--gradle</code> or <code>--gradle-kotlin-dsl</code> option.</p>
</div>
<div class="paragraph">
<p>For more information about how to install and use the Quarkus CLI, see the <a href="cli-tooling">Quarkus CLI</a> guide.</p>
</div>
</div>
</div>
<div class="sidebarblock secondary asciidoc-tabs-sync-maven">
<div class="content">
<div class="title">Maven</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-bash hljs" data-lang="bash">mvn io.quarkus.platform:quarkus-maven-plugin:3.2.12.Final:create \
    -DprojectGroupId=org.acme \
    -DprojectArtifactId=validation-quickstart \
    -Dextensions='resteasy-reactive-jackson,hibernate-validator' \
    -DnoCode
cd validation-quickstart</code></pre>
</div>
</div>
<div class="paragraph">
<p>To create a Gradle project, add the <code>-DbuildTool=gradle</code> or <code>-DbuildTool=gradle-kotlin-dsl</code> option.</p>
</div>
</div>
</div>
<div class="paragraph">
<p>This command generates a Maven structure importing the RESTEasy Reactive/Jakarta REST, Jackson and Hibernate Validator/Bean Validation extensions.</p>
</div>
<div class="paragraph">
<p>If you already have your Quarkus project configured, you can add the <code>hibernate-validator</code> extension
to your project by running the following command in your project base directory:</p>
</div>
<div class="listingblock primary asciidoc-tabs-sync-cli">
<div class="title">CLI</div>
<div class="content">
<pre class="highlightjs highlight"><code class="language-bash hljs" data-lang="bash">quarkus extension add 'hibernate-validator'</code></pre>
</div>
</div>
<div class="listingblock secondary asciidoc-tabs-sync-maven">
<div class="title">Maven</div>
<div class="content">
<pre class="highlightjs highlight"><code class="language-bash hljs" data-lang="bash">./mvnw quarkus:add-extension -Dextensions='hibernate-validator'</code></pre>
</div>
</div>
<div class="listingblock secondary asciidoc-tabs-sync-gradle">
<div class="title">Gradle</div>
<div class="content">
<pre class="highlightjs highlight"><code class="language-bash hljs" data-lang="bash">./gradlew addExtension --extensions='hibernate-validator'</code></pre>
</div>
</div>
<div class="paragraph">
<p>The result of this command is dependent on your build tool:</p>
</div>
<div class="listingblock primary asciidoc-tabs-target-sync-cli asciidoc-tabs-target-sync-maven">
<div class="title">pom.xml</div>
<div class="content">
<pre class="highlightjs highlight"><code class="language-xml hljs" data-lang="xml">&lt;dependency&gt;
    &lt;groupId&gt;io.quarkus&lt;/groupId&gt;
    &lt;artifactId&gt;quarkus-hibernate-validator&lt;/artifactId&gt;
&lt;/dependency&gt;</code></pre>
</div>
</div>
<div class="listingblock secondary asciidoc-tabs-target-sync-gradle">
<div class="title">build.gradle</div>
<div class="content">
<pre class="highlightjs highlight"><code class="language-gradle hljs" data-lang="gradle">implementation("io.quarkus:quarkus-hibernate-validator")</code></pre>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="constraints"><a class="anchor" href="#constraints"></a>Constraints</h2>
<div class="sectionbody">
<div class="paragraph">
<p>In this application, we are going to test an elementary object, but we support complicated constraints and can validate graphs of objects.
Create the <code>org.acme.validation.Book</code> class with the following content:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-java hljs" data-lang="java">package org.acme.validation;

import jakarta.validation.constraints.NotBlank;
import jakarta.validation.constraints.Min;

public class Book {

    @NotBlank(message="Title may not be blank")
    public String title;

    @NotBlank(message="Author may not be blank")
    public String author;

    @Min(message="Author has been very lazy", value=1)
    public double pages;
}</code></pre>
</div>
</div>
<div class="paragraph">
<p>Constraints are added on fields, and when an object is validated, the values are checked.
The getter and setter methods are also used for JSON mapping.</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="json-mapping-and-validation"><a class="anchor" href="#json-mapping-and-validation"></a>JSON mapping and validation</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Create the following REST resource as <code>org.acme.validation.BookResource</code>:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-java hljs" data-lang="java">package org.acme.validation;

import jakarta.ws.rs.GET;
import jakarta.ws.rs.Path;
import jakarta.ws.rs.Produces;
import jakarta.ws.rs.core.MediaType;

@Path("/books")
public class BookResource {

    @Inject
    Validator validator; <i class="conum" data-value="1"></i><b>(1)</b>

    @Path("/manual-validation")
    @POST
    public Result tryMeManualValidation(Book book) {
        Set&lt;ConstraintViolation&lt;Book&gt;&gt; violations = validator.validate(book);
        if (violations.isEmpty()) {
            return new Result("Book is valid! It was validated by manual validation.");
        } else {
            return new Result(violations);
        }
    }
}</code></pre>
</div>
</div>
<div class="colist arabic">
<table>
<tr>
<td><i class="conum" data-value="1"></i><b>1</b></td>
<td>The <code>Validator</code> instance is injected via CDI.</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>Yes it does not compile, <code>Result</code> is missing, but we will add it very soon.</p>
</div>
<div class="paragraph">
<p>The method parameter (<code>book</code>) is created from the JSON payload automatically.</p>
</div>
<div class="paragraph">
<p>The method uses the <code>Validator</code> instance to check the payload.
It returns a set of violations.
If this set is empty, it means the object is valid.
In case of failures, the messages are concatenated and sent back to the browser.</p>
</div>
<div class="paragraph">
<p>Let&#8217;s now create the <code>Result</code> class as an inner class:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-java hljs" data-lang="java">public static class Result {

    Result(String message) {
        this.success = true;
        this.message = message;
    }

    Result(Set&lt;? extends ConstraintViolation&lt;?&gt;&gt; violations) {
        this.success = false;
        this.message = violations.stream()
             .map(cv -&gt; cv.getMessage())
             .collect(Collectors.joining(", "));
    }

    private String message;
    private boolean success;

    public String getMessage() {
        return message;
    }

    public boolean isSuccess() {
        return success;
    }

}</code></pre>
</div>
</div>
<div class="paragraph">
<p>The class is very simple and only contains 2 fields and the associated getters and setters.
Because we indicate that we produce JSON, the mapping to JSON is made automatically.</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="rest-end-point-validation"><a class="anchor" href="#rest-end-point-validation"></a>REST end point validation</h2>
<div class="sectionbody">
<div class="paragraph">
<p>While using the <code>Validator</code> manually might be useful for some advanced usage,
if you simply want to validate the parameters or the return value or your REST end point,
you can annotate it directly, either with constraints (<code>@NotNull</code>, <code>@Digits</code>&#8230;&#8203;)
or with <code>@Valid</code> (which will cascade the validation to the bean).</p>
</div>
<div class="paragraph">
<p>Let&#8217;s create an end point validating the <code>Book</code> provided in the request:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-java hljs" data-lang="java">@Path("/end-point-method-validation")
@POST
@Produces(MediaType.APPLICATION_JSON)
@Consumes(MediaType.APPLICATION_JSON)
public Result tryMeEndPointMethodValidation(@Valid Book book) {
    return new Result("Book is valid! It was validated by end point method validation.");
}</code></pre>
</div>
</div>
<div class="paragraph">
<p>As you can see, we don&#8217;t have to manually validate the provided <code>Book</code> anymore as it is automatically validated.</p>
</div>
<div class="paragraph">
<p>If a validation error is triggered, a violation report is generated and serialized as JSON as our end point produces a JSON output.
It can be extracted and manipulated to display a proper error message.</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="service-method-validation"><a class="anchor" href="#service-method-validation"></a>Service method validation</h2>
<div class="sectionbody">
<div class="paragraph">
<p>It might not always be handy to have the validation rules declared at the end point level as it could duplicate some business validation.</p>
</div>
<div class="paragraph">
<p>The best option is then to annotate a method of your business service with your constraints (or in our particular case with <code>@Valid</code>):</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-java hljs" data-lang="java">package org.acme.validation;

import jakarta.enterprise.context.ApplicationScoped;
import jakarta.validation.Valid;

@ApplicationScoped
public class BookService {

    public void validateBook(@Valid Book book) {
        // your business logic here
    }
}</code></pre>
</div>
</div>
<div class="paragraph">
<p>Calling the service in your rest end point triggers the <code>Book</code> validation automatically:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-java hljs" data-lang="java">@Inject BookService bookService;

@Path("/service-method-validation")
@POST
public Result tryMeServiceMethodValidation(Book book) {
    try {
        bookService.validateBook(book);
        return new Result("Book is valid! It was validated by service method validation.");
    } catch (ConstraintViolationException e) {
        return new Result(e.getConstraintViolations());
    }
}</code></pre>
</div>
</div>
<div class="paragraph">
<p>Note that, if you want to push the validation errors to the frontend, you have to catch the exception and push the information yourselves
as they will not be automatically pushed to the JSON output.</p>
</div>
<div class="paragraph">
<p>Keep in mind that you usually don&#8217;t want to expose to the public the internals of your services
- and especially not the validated value contained in the violation object.</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="a-frontend"><a class="anchor" href="#a-frontend"></a>A frontend</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Now let&#8217;s add the simple web page to interact with our <code>BookResource</code>.
Quarkus automatically serves static resources contained in the <code>META-INF/resources</code> directory.
In the <code>src/main/resources/META-INF/resources</code> directory, replace the <code>index.html</code> file with the content from this <a href="https://github.com/quarkusio/quarkus-quickstarts/blob/3.2/validation-quickstart/src/main/resources/META-INF/resources/index.html">index.html</a> file in it.</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="run-the-application"><a class="anchor" href="#run-the-application"></a>Run the application</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Now, let&#8217;s see our application in action. Run it with:</p>
</div>
<div class="listingblock primary asciidoc-tabs-sync-cli">
<div class="title">CLI</div>
<div class="content">
<pre class="highlightjs highlight"><code class="language-bash hljs" data-lang="bash">quarkus dev</code></pre>
</div>
</div>
<div class="listingblock secondary asciidoc-tabs-sync-maven">
<div class="title">Maven</div>
<div class="content">
<pre class="highlightjs highlight"><code class="language-bash hljs" data-lang="bash">./mvnw quarkus:dev</code></pre>
</div>
</div>
<div class="listingblock secondary asciidoc-tabs-sync-gradle">
<div class="title">Gradle</div>
<div class="content">
<pre class="highlightjs highlight"><code class="language-bash hljs" data-lang="bash">./gradlew --console=plain quarkusDev</code></pre>
</div>
</div>
<div class="paragraph">
<p>Then, open your browser to <a href="http://localhost:8080/" class="bare">http://localhost:8080/</a>:</p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>Enter the book details (valid or invalid)</p>
</li>
<li>
<p>Click on the <em>Try me&#8230;&#8203;</em> buttons to check if your data is valid using one of the methods we presented above.</p>
</li>
</ol>
</div>
<div class="paragraph">
<p><span class="image"><img src="./images/validation-guide-screenshot.png" alt="Application"></span></p>
</div>
<div class="paragraph">
<p>The application can be packaged using:</p>
</div>
<div class="listingblock primary asciidoc-tabs-sync-cli">
<div class="title">CLI</div>
<div class="content">
<pre class="highlightjs highlight"><code class="language-bash hljs" data-lang="bash">quarkus build</code></pre>
</div>
</div>
<div class="listingblock secondary asciidoc-tabs-sync-maven">
<div class="title">Maven</div>
<div class="content">
<pre class="highlightjs highlight"><code class="language-bash hljs" data-lang="bash">./mvnw install</code></pre>
</div>
</div>
<div class="listingblock secondary asciidoc-tabs-sync-gradle">
<div class="title">Gradle</div>
<div class="content">
<pre class="highlightjs highlight"><code class="language-bash hljs" data-lang="bash">./gradlew build</code></pre>
</div>
</div>
<div class="paragraph">
<p>and executed using <code>java -jar target/quarkus-app/quarkus-run.jar</code>.</p>
</div>
<div class="paragraph">
<p>You can also build the native executable using:</p>
</div>
<div class="listingblock primary asciidoc-tabs-sync-cli">
<div class="title">CLI</div>
<div class="content">
<pre class="highlightjs highlight"><code class="language-bash hljs" data-lang="bash">quarkus build --native</code></pre>
</div>
</div>
<div class="listingblock secondary asciidoc-tabs-sync-maven">
<div class="title">Maven</div>
<div class="content">
<pre class="highlightjs highlight"><code class="language-bash hljs" data-lang="bash">./mvnw install -Dnative</code></pre>
</div>
</div>
<div class="listingblock secondary asciidoc-tabs-sync-gradle">
<div class="title">Gradle</div>
<div class="content">
<pre class="highlightjs highlight"><code class="language-bash hljs" data-lang="bash">./gradlew build -Dquarkus.package.type=native</code></pre>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="going-further"><a class="anchor" href="#going-further"></a>Going further</h2>
<div class="sectionbody">
<div class="sect2">
<h3 id="hibernate-validator-extension-and-cdi"><a class="anchor" href="#hibernate-validator-extension-and-cdi"></a>Hibernate Validator extension and CDI</h3>
<div class="paragraph">
<p>The Hibernate Validator extension is tightly integrated with CDI.</p>
</div>
<div class="sect3">
<h4 id="configuring-the-validatorfactory"><a class="anchor" href="#configuring-the-validatorfactory"></a>Configuring the ValidatorFactory</h4>
<div class="paragraph">
<p>Sometimes, you might need to configure the behavior of the <code>ValidatorFactory</code>, for instance to use a specific <code>ParameterNameProvider</code>.</p>
</div>
<div class="paragraph">
<p>While the <code>ValidatorFactory</code> is instantiated by Quarkus itself,
you can very easily tweak it by declaring replacement beans that will be injected in the configuration.</p>
</div>
<div class="paragraph">
<p>If you create a bean of the following types in your application, it will automatically be injected into the <code>ValidatorFactory</code> configuration:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><code>jakarta.validation.ClockProvider</code></p>
</li>
<li>
<p><code>jakarta.validation.ConstraintValidator</code></p>
</li>
<li>
<p><code>jakarta.validation.ConstraintValidatorFactory</code></p>
</li>
<li>
<p><code>jakarta.validation.MessageInterpolator</code></p>
</li>
<li>
<p><code>jakarta.validation.ParameterNameProvider</code></p>
</li>
<li>
<p><code>jakarta.validation.TraversableResolver</code></p>
</li>
<li>
<p><code>org.hibernate.validator.spi.properties.GetterPropertySelectionStrategy</code></p>
</li>
<li>
<p><code>org.hibernate.validator.spi.nodenameprovider.PropertyNodeNameProvider</code></p>
</li>
<li>
<p><code>org.hibernate.validator.spi.scripting.ScriptEvaluatorFactory</code></p>
</li>
</ul>
</div>
<div class="paragraph">
<p>You don&#8217;t have to wire anything.</p>
</div>
<div class="admonitionblock warning">
<table>
<tr>
<td class="icon">
<i class="fa icon-warning" title="Warning"></i>
</td>
<td class="content">
<div class="paragraph">
<p>Obviously, for each listed type, you can declare only one bean.</p>
</div>
<div class="paragraph">
<p>Most of the time, these beans should be declared as <code>@ApplicationScoped</code>.</p>
</div>
<div class="paragraph">
<p>However, in the case of <code>ConstraintValidator</code>s that are dependent of attributes of the constraint annotation
(typically when implementing the <code>initialize(A constraintAnnotation)</code> method),
use the <code>@Dependent</code> scope to make sure each annotation context has a separate instance of the <code>ConstraintValidator</code> bean.</p>
</div>
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>If customizing the <code>ValidatorFactory</code> through the available configuration properties and the CDI beans above doesn&#8217;t cover your requirements,
you can customize it further by registering <code>ValidatorFactoryCustomizer</code> beans.</p>
</div>
<div class="paragraph">
<p>For instance, you could override the built-in validator enforcing the <code>@Email</code> constraint and use <code>MyEmailValidator</code> instead with the following class:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-java hljs" data-lang="java">@ApplicationScoped
public class MyEmailValidatorFactoryCustomizer implements ValidatorFactoryCustomizer {

    @Override
    public void customize(BaseHibernateValidatorConfiguration&lt;?&gt; configuration) {
        ConstraintMapping constraintMapping = configuration.createConstraintMapping();

        constraintMapping
                .constraintDefinition(Email.class)
                .includeExistingValidators(false)
                .validatedBy(MyEmailValidator.class);

        configuration.addMapping(constraintMapping);
    }
}</code></pre>
</div>
</div>
<div class="paragraph">
<p>All beans implementing <code>ValidatorFactoryCustomizer</code> are applied, meaning you can have several of them.
If you need to enforce some ordering, you can use the usual <code>@jakarta.annotation.Priority</code> annotation - beans with higher priority are applied first.</p>
</div>
</div>
<div class="sect3">
<h4 id="constraint-validators-as-beans"><a class="anchor" href="#constraint-validators-as-beans"></a>Constraint validators as beans</h4>
<div class="paragraph">
<p>You can declare your constraint validators as CDI beans:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-java hljs" data-lang="java">@ApplicationScoped
public class MyConstraintValidator implements ConstraintValidator&lt;MyConstraint, String&gt; {

    @Inject
    MyService service;

    @Override
    public boolean isValid(String value, ConstraintValidatorContext context) {
        if (value == null) {
            return true;
        }

        return service.validate(value);
    }
}</code></pre>
</div>
</div>
<div class="paragraph">
<p>When initializing a constraint validator of a given type,
Quarkus will check if a bean of this type is available and, if so, it will use it instead of instantiating a <code>ConstraintValidator</code>.</p>
</div>
<div class="paragraph">
<p>Thus, as demonstrated in our example, you can fully use injection in your constraint validator beans.</p>
</div>
<div class="admonitionblock warning">
<table>
<tr>
<td class="icon">
<i class="fa icon-warning" title="Warning"></i>
</td>
<td class="content">
<div class="paragraph">
<p>The scope you choose for your <code>ConstraintValidator</code> bean is important:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>If the same instance of the <code>ConstraintValidator</code> bean can be used across the whole application, use the <code>@ApplicationScoped</code> scope.</p>
</li>
<li>
<p>If the <code>ConstraintValidator</code> bean implements the <code>initialize(A constraintAnnotation)</code> method and depends on the state of the constraint annotation, use the <code>@Dependent</code> scope to make sure each annotation context has a separate and properly configured instance of the <code>ConstraintValidator</code> bean.</p>
</li>
</ul>
</div>
</td>
</tr>
</table>
</div>
</div>
</div>
<div class="sect2">
<h3 id="validation-and-localization"><a class="anchor" href="#validation-and-localization"></a>Validation and localization</h3>
<div class="paragraph">
<p>By default, constraint violation messages will be returned in the build system locale.</p>
</div>
<div class="paragraph">
<p>You can configure this behavior by adding the following configuration in your <code>application.properties</code>:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-properties hljs" data-lang="properties"># The default locale to use
quarkus.default-locale=fr-FR</code></pre>
</div>
</div>
<div class="paragraph">
<p>If you are using RESTEasy Reactive or RESTEasy Classic, in the context of a Jakarta REST endpoint,
Hibernate Validator will automatically resolve the optimal locale to use from the <code>Accept-Language</code> HTTP header,
provided the supported locales have been properly specified in the <code>application.properties</code>:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-properties hljs" data-lang="properties"># The list of all the supported locales
quarkus.locales=en-US,es-ES,fr-FR</code></pre>
</div>
</div>
<div class="paragraph">
<p>A similar mechanism exists for GraphQL services based on the <code>quarkus-smallrye-graphql</code> extension.</p>
</div>
<div class="paragraph">
<p>If this default mechanism is not sufficient and you need a custom locale resolution, you can add additional <code>org.hibernate.validator.spi.messageinterpolation.LocaleResolver</code>s:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Any CDI bean implementing <code>org.hibernate.validator.spi.messageinterpolation.LocaleResolver</code> will be taken into account.</p>
</li>
<li>
<p>The <code>LocaleResolver</code>s are consulted in the order of <code>@Priority</code> (higher priority goes first).</p>
</li>
<li>
<p>A <code>LocaleResolver</code> may return null if it cannot resolve the locale, it will then be ignored.</p>
</li>
<li>
<p>The first non-null locale returned by a <code>LocaleResolver</code> is the one resolved.</p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="validation-groups-for-rest-endpoint-or-service-method-validation"><a class="anchor" href="#validation-groups-for-rest-endpoint-or-service-method-validation"></a>Validation groups for REST endpoint or service method validation</h3>
<div class="paragraph">
<p>It&#8217;s sometimes necessary to enable different validation constraints
for the same class when it&#8217;s passed to a different method.</p>
</div>
<div class="paragraph">
<p>For example, a <code>Book</code> may need to have a <code>null</code> identifier when passed to the <code>post</code> method
(because the identifier will be generated),
but a non-<code>null</code> identifier when passed to the <code>put</code> method
(because the method needs the identifier to know what to update).</p>
</div>
<div class="paragraph">
<p>To address this, you can take advantage of validation groups.
Validation groups are markers that you put on your constraints in order to enable or disable them at will.</p>
</div>
<div class="paragraph">
<p>First, define the <code>Post</code> and <code>Put</code> groups, which are just Java interfaces.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-java hljs" data-lang="java">public interface ValidationGroups {
    interface Post extends Default { <i class="conum" data-value="1"></i><b>(1)</b>
    }
    interface Put extends Default { <i class="conum" data-value="1"></i><b>(1)</b>
    }
}</code></pre>
</div>
</div>
<div class="colist arabic">
<table>
<tr>
<td><i class="conum" data-value="1"></i><b>1</b></td>
<td>Make the custom groups extend the <code>Default</code> group.
This means that whenever these groups are enabled, the <code>Default</code> group is also enabled.
This is useful if you have constraints that you want validated in both the <code>Post</code> and <code>Put</code> method:
you can simply use the default group on those constraints, like on the <code>title</code> property below.</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>Then add the relevant constraints to <code>Book</code>, assigning the right group to each constraint:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-java hljs" data-lang="java">public class Book {

    @Null(groups = ValidationGroups.Post.class)
    @NotNull(groups = ValidationGroups.Put.class)
    public Long id;

    @NotBlank
    public String title;

}</code></pre>
</div>
</div>
<div class="paragraph">
<p>Finally, add a <code>@ConvertGroup</code> annotation next to your <code>@Valid</code> annotation in your validated method.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-java hljs" data-lang="java">@Path("/")
@POST
@Consumes(MediaType.APPLICATION_JSON)
public void post(@Valid @ConvertGroup(to = ValidationGroups.Post.class) Book book) { <i class="conum" data-value="1"></i><b>(1)</b>
    // ...
}

@Path("/")
@PUT
@Consumes(MediaType.APPLICATION_JSON)
public void put(@Valid @ConvertGroup(to = ValidationGroups.Put.class) Book book) { <i class="conum" data-value="2"></i><b>(2)</b>
    // ...
}</code></pre>
</div>
</div>
<div class="colist arabic">
<table>
<tr>
<td><i class="conum" data-value="1"></i><b>1</b></td>
<td>Enable the <code>Post</code> group, meaning only constraints assigned to the <code>Post</code> (and <code>Default</code>) groups
will be validated for the <code>book</code> parameter of the <code>post</code> method.
In this case, it means <code>Book.id</code> must be <code>null</code> and <code>Book.title</code> must not be blank.</td>
</tr>
<tr>
<td><i class="conum" data-value="2"></i><b>2</b></td>
<td>Enable the <code>Put</code> group, meaning only constraints assigned to the <code>Put</code> (and <code>Default</code>) groups
will be validated for the <code>book</code> parameter of the <code>put</code> method.
In this case, it means <code>Book.id</code> must not be <code>null</code> and <code>Book.title</code> must not be blank.</td>
</tr>
</table>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="limitations"><a class="anchor" href="#limitations"></a>Limitations</h2>
<div class="sectionbody">
<div class="sect2">
<h3 id="meta-infvalidation-xml"><a class="anchor" href="#meta-infvalidation-xml"></a>META-INF/validation.xml</h3>
<div class="paragraph">
<p>Configuring the <code>ValidatorFactory</code> using a <code>META-INF/validation.xml</code> file is <strong>NOT</strong> supported in Quarkus.</p>
</div>
<div class="paragraph">
<p>At the moment, Hibernate Validator does not expose an API to extract the information from this file
so that we could register the appropriate classes for reflection.</p>
</div>
<div class="paragraph">
<p>To configure the <code>ValidatorFactory</code>, use the exposed configuration properties and the CDI integration.</p>
</div>
<div class="paragraph">
<p>Consequently, the only way to define constraints in Quarkus is by annotating your classes.</p>
</div>
</div>
<div class="sect2">
<h3 id="validatorfactory-and-native-executables"><a class="anchor" href="#validatorfactory-and-native-executables"></a>ValidatorFactory and native executables</h3>
<div class="paragraph">
<p>Quarkus provides a default <code>ValidatorFactory</code> that you can customize using configuration properties.
This <code>ValidatorFactory</code> is carefully initialized to support native executables
using a bootstrap that is Quarkus-specific.</p>
</div>
<div class="paragraph">
<p>Creating a <code>ValidatorFactory</code> by yourself it not supported in native executables
and if you try to do so,
you will get an  error similar to <code>jakarta.validation.NoProviderFoundException: Unable to create a Configuration, because no
Jakarta Bean Validation provider could be found. Add a provider like Hibernate Validator (RI) to your
classpath.</code> when running your native executable.</p>
</div>
<div class="paragraph">
<p>Thus why you should always use the Quarkus-managed <code>ValidatorFactory</code> by injecting an instance of
<code>ValidatorFactory</code> or directly an instance of <code>Validator</code> using CDI injection.</p>
</div>
<div class="paragraph">
<p>To support some external libraries that are creating a <code>ValidatorFactory</code> using the default bootstrap,
Quarkus returns the <code>ValidatorFactory</code> managed by Quarkus when <code>Validation.buildDefaultValidatorFactory()</code>
is called.</p>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="configuration-reference"><a class="anchor" href="#configuration-reference"></a>Hibernate Validator Configuration Reference</h2>
<div class="sectionbody">
<div class="paragraph">
<p><span class="icon"><i class="fa fa-lock" title="Fixed at build time"></i></span> Configuration property fixed at build time - All other configuration properties are overridable at runtime <input type="search" id="config-search-0" placeholder="FILTER CONFIGURATION" disabled></p>
</div>
<table class="tableblock frame-all grid-all stretch configuration-reference searchable configuration-reference-all-rows">
<colgroup>
<col style="width: 80%;">
<col style="width: 10%;">
<col style="width: 10%;">
</colgroup>
<tbody>
<tr>
<th class="tableblock halign-left valign-top"><p class="tableblock"><a id="quarkus-hibernate-validator_configuration"></a><a href="#quarkus-hibernate-validator_configuration">Configuration property</a></p></th>
<th class="tableblock halign-left valign-middle"><p class="tableblock">Type</p></th>
<th class="tableblock halign-left valign-middle"><p class="tableblock">Default</p></th>
</tr>
<tr class="row-collapsible row-collapsed row-with-desc odd">
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><span class="icon"><i class="fa fa-lock" title="Fixed at build time"></i></span> <a id="quarkus-hibernate-validator_quarkus-hibernate-validator-fail-fast"></a><code><a href="#quarkus-hibernate-validator_quarkus-hibernate-validator-fail-fast">quarkus.hibernate-validator.fail-fast</a></code></p>
</div>
<div id="conf-collapsible-desc-1" class="openblock description description-collapsed">
<div class="content">
<div class="paragraph">
<p>Enable the fail fast mode. When fail fast is enabled the validation will stop on the first constraint violation detected.</p>
</div>
<div class="paragraph">
<p>Environment variable: <code id="env-var-39498">QUARKUS_HIBERNATE_VALIDATOR_FAIL_FAST</code><button class="btn-copy fa fa-clipboard inline-btn-copy" data-clipboard-action="copy" data-clipboard-target="#env-var-39498" title="Copy to clipboard" do-not-collapse="true"></button></p>
</div>
</div>
</div>
<div class="paragraph description-decoration">
<p><i class="fa fa-chevron-down"></i><span>Show more</span></p>
</div></div></td>
<td class="tableblock halign-left valign-middle"><p class="tableblock">boolean</p></td>
<td class="tableblock halign-left valign-middle"><p class="tableblock"><code>false</code></p></td>
</tr>
<tr>
<th class="tableblock halign-left valign-top"><p class="tableblock"><a id="quarkus-hibernate-validator_quarkus-hibernate-validator-method-validation-method-validation"></a><a href="#quarkus-hibernate-validator_quarkus-hibernate-validator-method-validation-method-validation">Method validation</a></p></th>
<th class="tableblock halign-left valign-middle"><p class="tableblock">Type</p></th>
<th class="tableblock halign-left valign-middle"><p class="tableblock">Default</p></th>
</tr>
<tr class="row-collapsible row-collapsed row-with-desc">
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><span class="icon"><i class="fa fa-lock" title="Fixed at build time"></i></span> <a id="quarkus-hibernate-validator_quarkus-hibernate-validator-method-validation-allow-overriding-parameter-constraints"></a><code><a href="#quarkus-hibernate-validator_quarkus-hibernate-validator-method-validation-allow-overriding-parameter-constraints">quarkus.hibernate-validator.method-validation.allow-overriding-parameter-constraints</a></code></p>
</div>
<div id="conf-collapsible-desc-2" class="openblock description description-collapsed">
<div class="content">
<div class="paragraph">
<p>Define whether overriding methods that override constraints should throw a <code>ConstraintDefinitionException</code>. The default value is <code>false</code>, i.e. do not allow.</p>
</div>
<div class="paragraph">
<p>See Section 4.5.5 of the JSR 380 specification, specifically</p>
</div>
<div class="quoteblock">
<blockquote>
<div class="paragraph">
<p>In sub types (be it sub classes/interfaces or interface implementations), no parameter constraints may be declared on overridden or implemented methods, nor may parameters be marked for cascaded validation. This would pose a strengthening of preconditions to be fulfilled by the caller.</p>
</div>
</blockquote>
</div>
<div class="paragraph">
<p>Environment variable: <code id="env-var-39499">QUARKUS_HIBERNATE_VALIDATOR_METHOD_VALIDATION_ALLOW_OVERRIDING_PARAMETER_CONSTRAINTS</code><button class="btn-copy fa fa-clipboard inline-btn-copy" data-clipboard-action="copy" data-clipboard-target="#env-var-39499" title="Copy to clipboard" do-not-collapse="true"></button></p>
</div>
</div>
</div>
<div class="paragraph description-decoration">
<p><i class="fa fa-chevron-down"></i><span>Show more</span></p>
</div></div></td>
<td class="tableblock halign-left valign-middle"><p class="tableblock">boolean</p></td>
<td class="tableblock halign-left valign-middle"><p class="tableblock"><code>false</code></p></td>
</tr>
<tr class="row-collapsible row-collapsed row-with-desc odd">
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><span class="icon"><i class="fa fa-lock" title="Fixed at build time"></i></span> <a id="quarkus-hibernate-validator_quarkus-hibernate-validator-method-validation-allow-parameter-constraints-on-parallel-methods"></a><code><a href="#quarkus-hibernate-validator_quarkus-hibernate-validator-method-validation-allow-parameter-constraints-on-parallel-methods">quarkus.hibernate-validator.method-validation.allow-parameter-constraints-on-parallel-methods</a></code></p>
</div>
<div id="conf-collapsible-desc-3" class="openblock description description-collapsed">
<div class="content">
<div class="paragraph">
<p>Define whether parallel methods that define constraints should throw a <code>ConstraintDefinitionException</code>. The default value is <code>false</code>, i.e. do not allow.</p>
</div>
<div class="paragraph">
<p>See Section 4.5.5 of the JSR 380 specification, specifically</p>
</div>
<div class="quoteblock">
<blockquote>
<div class="paragraph">
<p>If a sub type overrides/implements a method originally defined in several parallel types of the hierarchy (e.g. two interfaces not extending each other, or a class and an interface not implemented by said class), no parameter constraints may be declared for that method at all nor parameters be marked for cascaded validation. This again is to avoid an unexpected strengthening of preconditions to be fulfilled by the caller.</p>
</div>
</blockquote>
</div>
<div class="paragraph">
<p>Environment variable: <code id="env-var-39500">QUARKUS_HIBERNATE_VALIDATOR_METHOD_VALIDATION_ALLOW_PARAMETER_CONSTRAINTS_ON_PARALLEL_METHODS</code><button class="btn-copy fa fa-clipboard inline-btn-copy" data-clipboard-action="copy" data-clipboard-target="#env-var-39500" title="Copy to clipboard" do-not-collapse="true"></button></p>
</div>
</div>
</div>
<div class="paragraph description-decoration">
<p><i class="fa fa-chevron-down"></i><span>Show more</span></p>
</div></div></td>
<td class="tableblock halign-left valign-middle"><p class="tableblock">boolean</p></td>
<td class="tableblock halign-left valign-middle"><p class="tableblock"><code>false</code></p></td>
</tr>
<tr class="row-collapsible row-collapsed row-with-desc">
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><span class="icon"><i class="fa fa-lock" title="Fixed at build time"></i></span> <a id="quarkus-hibernate-validator_quarkus-hibernate-validator-method-validation-allow-multiple-cascaded-validation-on-return-values"></a><code><a href="#quarkus-hibernate-validator_quarkus-hibernate-validator-method-validation-allow-multiple-cascaded-validation-on-return-values">quarkus.hibernate-validator.method-validation.allow-multiple-cascaded-validation-on-return-values</a></code></p>
</div>
<div id="conf-collapsible-desc-4" class="openblock description description-collapsed">
<div class="content">
<div class="paragraph">
<p>Define whether more than one constraint on a return value may be marked for cascading validation are allowed. The default value is <code>false</code>, i.e. do not allow.</p>
</div>
<div class="paragraph">
<p>See Section 4.5.5 of the JSR 380 specification, specifically</p>
</div>
<div class="quoteblock">
<blockquote>
<div class="paragraph">
<p>One must not mark a method return value for cascaded validation more than once in a line of a class hierarchy. In other words, overriding methods on sub types (be it sub classes/interfaces or interface implementations) cannot mark the return value for cascaded validation if the return value has already been marked on the overridden method of the super type or interface.</p>
</div>
</blockquote>
</div>
<div class="paragraph">
<p>Environment variable: <code id="env-var-39501">QUARKUS_HIBERNATE_VALIDATOR_METHOD_VALIDATION_ALLOW_MULTIPLE_CASCADED_VALIDATION_ON_RETURN_VALUES</code><button class="btn-copy fa fa-clipboard inline-btn-copy" data-clipboard-action="copy" data-clipboard-target="#env-var-39501" title="Copy to clipboard" do-not-collapse="true"></button></p>
</div>
</div>
</div>
<div class="paragraph description-decoration">
<p><i class="fa fa-chevron-down"></i><span>Show more</span></p>
</div></div></td>
<td class="tableblock halign-left valign-middle"><p class="tableblock">boolean</p></td>
<td class="tableblock halign-left valign-middle"><p class="tableblock"><code>false</code></p></td>
</tr>
<tr>
<th class="tableblock halign-left valign-top"><p class="tableblock"><a id="quarkus-hibernate-validator_quarkus-hibernate-validator-expression-language-expression-language"></a><a href="#quarkus-hibernate-validator_quarkus-hibernate-validator-expression-language-expression-language">Expression Language</a></p></th>
<th class="tableblock halign-left valign-middle"><p class="tableblock">Type</p></th>
<th class="tableblock halign-left valign-middle"><p class="tableblock">Default</p></th>
</tr>
<tr class="row-collapsible row-collapsed row-with-desc odd">
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><span class="icon"><i class="fa fa-lock" title="Fixed at build time"></i></span> <a id="quarkus-hibernate-validator_quarkus-hibernate-validator-expression-language-constraint-expression-feature-level"></a><code><a href="#quarkus-hibernate-validator_quarkus-hibernate-validator-expression-language-constraint-expression-feature-level">quarkus.hibernate-validator.expression-language.constraint-expression-feature-level</a></code></p>
</div>
<div id="conf-collapsible-desc-5" class="openblock description description-collapsed">
<div class="content">
<div class="paragraph">
<p>Configure the Expression Language feature level for constraints, allowing the selection of Expression Language features available for message interpolation.</p>
</div>
<div class="paragraph">
<p>This property only affects the EL feature level of "static" constraint violation messages set through the <code>message</code> attribute of constraint annotations.</p>
</div>
<div class="paragraph">
<p>In particular, it doesn&#8217;t affect the default EL feature level for custom violations created programmatically in validator implementations. The feature level for those can only be configured directly in the validator implementation.</p>
</div>
<div class="paragraph">
<p>Environment variable: <code id="env-var-39502">QUARKUS_HIBERNATE_VALIDATOR_EXPRESSION_LANGUAGE_CONSTRAINT_EXPRESSION_FEATURE_LEVEL</code><button class="btn-copy fa fa-clipboard inline-btn-copy" data-clipboard-action="copy" data-clipboard-target="#env-var-39502" title="Copy to clipboard" do-not-collapse="true"></button></p>
</div>
</div>
</div>
<div class="paragraph description-decoration">
<p><i class="fa fa-chevron-down"></i><span>Show more</span></p>
</div></div></td>
<td class="tableblock halign-left valign-middle"><div class="content"><div class="paragraph">
<p><code>default</code>, <code>none</code>, <code>variables</code>, <code>bean-properties</code>, <code>bean-methods</code></p>
</div></div></td>
<td class="tableblock halign-left valign-middle"><p class="tableblock"><code>bean-properties</code></p></td>
</tr>
</tbody>
</table>
</div>
</div>
    </div>
    <div class="grid__item width-4-12 width-12-12-m tocwrapper">
      <div class="hide-mobile toc"><ul class="sectlevel1">
<li><a href="#prerequisites">Prerequisites</a></li>
<li><a href="#architecture">Architecture</a></li>
<li><a href="#solution">Solution</a></li>
<li><a href="#creating-the-maven-project">Creating the Maven project</a></li>
<li><a href="#constraints">Constraints</a></li>
<li><a href="#json-mapping-and-validation">JSON mapping and validation</a></li>
<li><a href="#rest-end-point-validation">REST end point validation</a></li>
<li><a href="#service-method-validation">Service method validation</a></li>
<li><a href="#a-frontend">A frontend</a></li>
<li><a href="#run-the-application">Run the application</a></li>
<li><a href="#going-further">Going further</a>
<ul class="sectlevel2">
<li><a href="#hibernate-validator-extension-and-cdi">Hibernate Validator extension and CDI</a></li>
<li><a href="#validation-and-localization">Validation and localization</a></li>
<li><a href="#validation-groups-for-rest-endpoint-or-service-method-validation">Validation groups for REST endpoint or service method validation</a></li>
</ul>
</li>
<li><a href="#limitations">Limitations</a>
<ul class="sectlevel2">
<li><a href="#meta-infvalidation-xml">META-INF/validation.xml</a></li>
<li><a href="#validatorfactory-and-native-executables">ValidatorFactory and native executables</a></li>
</ul>
</li>
<li><a href="#configuration-reference">Hibernate Validator Configuration Reference</a></li>
</ul></div>
    </div>
  </div>
  </div>

  </div>

  <div class="content project-footer">
  <div class="footer-section">
    <div class="logo-wrapper">
      <a href="/"><img src="/assets/images/quarkus_logo_horizontal_rgb_reverse.svg" class="project-logo" title="Quarkus"></a>
    </div>
  </div>
  <div class="grid-wrapper">
    <p class="grid__item width-3-12">Quarkus is open. All dependencies of this project are available under the <a href='https://www.apache.org/licenses/LICENSE-2.0' target='_blank'>Apache Software License 2.0</a> or compatible license.<br /><br />This website was built with <a href='https://jekyllrb.com/' target='_blank'>Jekyll</a>, is hosted on <a href='https://pages.github.com/' target='_blank'>GitHub Pages</a> and is completely open source. If you want to make it better, <a href='https://github.com/quarkusio/quarkusio.github.io' target='_blank'>fork the website</a> and show us what you’ve got.</p>

    
      <div class="width-1-12 project-links">
        <span>Navigation</span>
        <ul class="footer-links">
          
          
            <li><a href="/" target="_blank">Home</a></li>
          
          
          
            <li><a href="/about" target="_blank">About</a></li>
          
          
          
            <li><a href="/blog" target="_blank">Blog</a></li>
          
          
          
            <li><a href="/insights" target="_blank">Podcast</a></li>
          
          
          
            <li><a href="/events" target="_blank">Events</a></li>
          
          
          
            <li><a href="/newsletter" target="_blank">Newsletter</a></li>
          
          
          
            <li><a href="/userstories" target="_blank">User Stories</a></li>
          
          
          
            <li><a href="https://github.com/orgs/quarkusio/projects/13/views/1" target="_blank">Roadmap</a></li>
          
          
          
            <li><a href="/security" target="_blank">Security&nbsp;policy</a></li>
          
          
          
            <li><a href="/usage" target="_blank">Usage</a></li>
          
          
          
            <li><a href="/brand" target="_blank">Brand</a></li>
          
          
          
            <li><a href="/desktopwallpapers" target="_blank">Wallpapers</a></li>
          
          
        </ul>
      </div>
    
      <div class="width-1-12 project-links">
        <span>Follow Us</span>
        <ul class="footer-links">
          
          
            <li><a href="https://x.com/quarkusio" target="_blank">X</a></li>
          
          
          
            <li><a href="https://bsky.app/profile/quarkus.io" target="_blank">Bluesky</a></li>
          
          
          
            <li><a rel="me" href="https://fosstodon.org/@quarkusio" target="_blank">Mastodon</a></li>
            
          
          
            <li><a href="https://www.facebook.com/quarkusio" target="_blank">Facebook</a></li>
          
          
          
            <li><a href="https://www.linkedin.com/company/quarkusio/" target="_blank">Linkedin</a></li>
          
          
          
            <li><a href="https://www.youtube.com/channel/UCaW8QG_QoIk_FnjLgr5eOqg" target="_blank">Youtube</a></li>
          
          
          
            <li><a href="https://github.com/quarkusio" target="_blank">GitHub</a></li>
          
          
        </ul>
      </div>
    
      <div class="width-2-12 project-links">
        <span>Get Help</span>
        <ul class="footer-links">
          
          
            <li><a href="/support" target="_blank">Support</a></li>
          
          
          
            <li><a href="/guides" target="_blank">Guides</a></li>
          
          
          
            <li><a href="/faq" target="_blank">FAQ</a></li>
          
          
          
            <li><a href="/get-started" target="_blank">Get Started</a></li>
          
          
          
            <li><a href="https://stackoverflow.com/questions/tagged/quarkus" target="_blank">Stack Overflow</a></li>
          
          
          
            <li><a href="https://github.com/quarkusio/quarkus/discussions" target="_blank">Discussions</a></li>
          
          
          
            <li><a href="https://groups.google.com/forum/#!forum/quarkus-dev" target="_blank">Development mailing list</a></li>
          
          
        </ul>
      </div>
    
      <div class="width-1-12 project-links">
        <span>Languages</span>
        <ul class="footer-links">
          
          
            <li><a href="https://quarkus.io/" target="_blank">English</a></li>
          
          
          
            <li><a href="https://pt.quarkus.io/" target="_blank">Português&nbsp;(Brasileiro)</a></li>
          
          
          
            <li><a href="https://es.quarkus.io/" target="_blank">Español</a></li>
          
          
          
            <li><a href="https://cn.quarkus.io/" target="_blank">简体中文</a></li>
          
          
          
            <li><a href="https://ja.quarkus.io/" target="_blank">日本語</a></li>
          
          
        </ul>
      </div>
    

    
      <div class="width-4-12 more-links">
        <span>Quarkus is made of community projects</span>
        <ul class="footer-links">
          
            <li><a blah href="https://vertx.io/" target="_blank">Eclipse Vert.x</a></li>
          
            <li><a blah href="https://smallrye.io" target="_blank">SmallRye</a></li>
          
            <li><a blah href="https://hibernate.org" target="_blank">Hibernate</a></li>
          
            <li><a blah href="https://netty.io" target="_blank">Netty</a></li>
          
            <li><a blah href="https://resteasy.github.io" target="_blank">RESTEasy</a></li>
          
            <li><a blah href="https://camel.apache.org" target="_blank">Apache Camel</a></li>
          
            <li><a blah href="https://microprofile.io" target="_blank">Eclipse MicroProfile</a></li>
          
            <li><a blah href="https://code.quarkus.io/" target="_blank">And many more...</a></li>
          
        </ul>
      </div>
    
  </div>
</div>

  <div class="content redhat-footer">
  <div class="grid-wrapper">
    <span class="licence">
      <i class="fab fa-creative-commons"></i><i class="fab fa-creative-commons-by"></i> <a href="https://creativecommons.org/licenses/by/3.0/" target="_blank">CC by 3.0</a> | <a href="https://www.redhat.com/en/about/privacy-policy">Privacy Policy</a>
    </span>
    <span class="redhat">
      Sponsored by
    </span>
    <span class="redhat-logo">
      <a href="https://www.redhat.com/" target="_blank"><img src="/assets/images/redhat_reversed.svg"></a>
    </span>
  </div>
</div>


  <script src="https://ajax.googleapis.com/ajax/libs/jquery/2.1.4/jquery.min.js" integrity="sha384-8gBf6Y4YYq7Jx97PIqmTwLPin4hxIzQw5aDmUg/DDhul9fFpbbLcLh3nTIIDJKhx" crossorigin="anonymous"></script>
  <script type="text/javascript" src="/assets/javascript/mobile-nav.js"></script>
  <script type="text/javascript" src="/assets/javascript/scroll-down.js"></script>
  <script src="/assets/javascript/satellite.js" type="text/javascript"></script>
  <script src="/guides/javascript/config.js" type="text/javascript"></script>
  <script src="/assets/javascript/guides-version-dropdown.js" type="text/javascript"></script>
  <script src="/assets/javascript/back-to-top.js" type="text/javascript"></script>
  <script src="/assets/javascript/clipboard.min.js" type="text/javascript"></script>
  <script src="/assets/javascript/copy.js" type="text/javascript"></script>
  <script src="/assets/javascript/asciidoc-tabs.js" type="text/javascript"></script>
  <script src="/assets/javascript/future-date.js" type="text/javascript"></script>
</body>

</html>
