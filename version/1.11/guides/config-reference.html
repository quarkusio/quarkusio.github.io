<!DOCTYPE html>
<html>





<head>
  <title>Quarkus - Configuration Reference Guide - 1.11</title>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <meta http-equiv="Content-Security-Policy" content="default-src https://dpm.demdex.net; script-src 'self' 'unsafe-eval' 'sha256-ANpuoVzuSex6VhqpYgsG25OHWVA1I+F6aGU04LoI+5s=' 'sha256-ipy9P/3rZZW06mTLAR0EnXvxSNcnfSDPLDuh3kzbB1w=' js.bizographics.com https://www.redhat.com https://static.redhat.com assets.adobedtm.com jsonip.com https://ajax.googleapis.com https://www.googletagmanager.com https://www.google-analytics.com https://use.fontawesome.com https://app.mailjet.com http://www.youtube.com http://www.googleadservices.com https://googleads.g.doubleclick.net https://dpm.demdex.net https://giscus.app; style-src 'self' https://fonts.googleapis.com https://use.fontawesome.com; img-src 'self' *; media-src 'self'; frame-src https://www.googletagmanager.com https://www.youtube.com https://embed.restream.io https://app.mailjet.com https://giscus.app; base-uri 'none'; object-src 'none'; form-action 'none'; font-src 'self' https://use.fontawesome.com https://fonts.gstatic.com;" />
  <script id="adobe_dtm" src="https://www.redhat.com/dtm.js" type="text/javascript"></script>
  <script src="/assets/javascript/highlight.pack.js" type="text/javascript"></script>
  <META HTTP-EQUIV='X-XSS-Protection' CONTENT="1; mode=block">
  <META HTTP-EQUIV='X-Content-Type-Options' CONTENT="nosniff">
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <meta name="description" content="Quarkus: Supersonic Subatomic Java">
  <meta name="twitter:card" content="summary_large_image">
  <meta name="twitter:site" content="@QuarkusIO"> 
  <meta name="twitter:creator" content="@QuarkusIO">
  <meta property="og:url" content="https://quarkus.io/version/1.11/guides/config-reference" />
  <meta property="og:title" content="Quarkus - Configuration Reference Guide - 1.11" />
  <meta property="og:description" content="Quarkus: Supersonic Subatomic Java" />
  <meta property="og:image" content="https://quarkus.io/assets/images/quarkus_card.png" />
  
  <link rel="canonical" href="https://quarkus.io/guides/config-reference">
  <link rel="shortcut icon" type="image/png" href="/favicon.ico" >
  <link rel="stylesheet" href="/guides/stylesheet/config.css" />
  <link rel="stylesheet" href="/assets/css/main.css?2021-07-29" />
  <link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.1.0/css/all.css" integrity="sha384-lKuwvrZot6UHsBSfcMvOkWwlCMgc0TaWr+30HWe3a4ltaBwTZhyTEggF5tJv8tbt" crossorigin="anonymous">
  <link rel="alternate" type="application/rss+xml"  href="/feed.xml" title="Quarkus">
  <script src="/assets/javascript/goan.js" type="text/javascript"></script>
  <script src="/assets/javascript/hl.js" type="text/javascript"></script>
</head>

<body class="guides">
  <!-- Google Tag Manager (noscript) -->
  <noscript><iframe src="https://www.googletagmanager.com/ns.html?id=GTM-NJWS5L"
  height="0" width="0" style="display:none;visibility:hidden"></iframe></noscript>
  <!-- End Google Tag Manager (noscript) -->

  
  <div class="nav-wrapper">
  <div class="grid-wrapper">
    <div class="width-12-12">
      <input type="checkbox" id="checkbox" />
      <nav id="main-nav" class="main-nav">
  <div class="container">
    <div class="logo-wrapper">
        <a href="/"><img src="/assets/images/quarkus_logo_horizontal_rgb_600px_reverse.png" class="project-logo" title="Quarkus"></a>
    </div>
    <label class="nav-toggle" for="checkbox">
      <i class="fa fa-bars"></i>
    </label>
    <ul id="menu" class="menu">
      <li class="dropdown">
        <span href="/about/">About <i class="fas fa-chevron-down"></i></span>
        <ul class="submenu">
          <li><a href="/about" class="">WHAT IS QUARKUS?</a></li>
          <li><a href="/container-first" class="">CONTAINER FIRST</a></li>
          <li><a href="/continuum" class="">REACTIVE</a></li>
          <li><a href="/developer-joy" class="">DEVELOPER JOY</a></li>
          <li><a href="/kubernetes-native" class="">KUBERNETES NATIVE</a></li>
          <li><a href="/standards" class="">STANDARDS</a></li>
        </ul>
      </li>
      <li class="dropdown">
        <span href="/learn/">Learn <i class="fas fa-chevron-down"></i></span>
        <ul class="submenu">
          <li><a href="/get-started" class="">GET STARTED</a></li>
          <li><a href="/guides" class="active">GUIDES</a></li>
          <li><a href="/qtips" class="">"Q" TIP VIDEOS</a></li>          
          <li><a href="/books" class="">BOOKS</a></li>
          </ul>
      </li>
      <li class="dropdown">
        <span href="/community/">Community <i class="fas fa-chevron-down"></i></span>
        <ul class="submenu">
          <li><a href="/support/" class="">SUPPORT</a></li>
          <li><a href="/blog" class="">BLOG</a></li>
          <li><a href="/discussion" class="">DISCUSSION</a></li>
          <li><a href="/insights" class="">PODCAST</a></li>
          <li><a href="/events" class="">EVENTS</a></li>
          <li><a href="/newsletter" class="">NEWSLETTER</a></li>
          <li><a href="/publications" class="">PUBLICATIONS</a></li>
          <li><a href="/awards" class="">AWARDS</a></li>
          </ul>
      </li>
      <li>
        <a href="https://code.quarkus.io" class="button-cta secondary white">Start Coding</a>
      </li>
      <li class="dropdown">
        <span href="/language/"><div class="fas fa-globe langicon"></div><i class="fas fa-chevron-down"></i></span>
        <ul class="submenu">
          <li><a href="https://quarkus.io/" >OFFICIAL (ENGLISH)</a></li>
          <li><a href="https://ja.quarkus.io/">日本語 - JAPANESE</a></li>
          <li><a href="https://cn.quarkus.io/">简体中文 - CHINESE</a></li>
          </ul>
      </li>
    </ul>
  </div>
      </nav>
    </div>
  </div>
</div>

  <div class="content">
    



<div class="full-width-version-bg grey align-self">
  <div class="grid-wrapper">
    <div class="grid__item width-6-12">
      <p class="returnlink"><i class="fas fa-angle-left"></i><a href="/version/1.11/guides/"> Back to Guides</a></p>
    </div>
    <div class="grid__item width-6-12 align-self-center text-right hide-mobile">
      <label id="guide-version-label">Select Guide Version</label>
      <select id="guide-version-dropdown">
        
      
        
        
        
        
          
        <option value="main" >Main - SNAPSHOT</option>
        
        
      
        
        
        
        
          
        <option value="latest" >2.9 - Latest</option>
        
        
      
        
        
        
        
          
        <option value="2.7" >2.7</option>
        
        
      
        
        
        
        
          
        <option value="2.2" >2.2</option>
        
        
      
        
        
        
        
          
        <option value="1.11" selected>1.11</option>
        
        
      
    
      </select>
    </div>
  </div>
</div>

<div class="grid-wrapper guide">
  <div class="grid__item width-12-12 width-12-12-mobile">
    <h1 class="text-caps">Quarkus - Configuration Reference Guide </h1>
  </div>
  <div class="width-12-12">
    <div class="hide-mobile toc"><ul class="sectlevel1">
<li><a href="#configuration_sources">1. Configuration Sources</a>
<ul class="sectlevel2">
<li><a href="#system_properties">1.1. System properties</a></li>
<li><a href="#environment_variables">1.2. Environment variables</a></li>
<li><a href="#env_file">1.3. File named <code>.env</code> placed in the current working directory</a></li>
<li><a href="#pwd_config_application_file">1.4. An <code>application.properties</code> file placed in <code>$PWD/config/</code></a></li>
<li><a href="#application_properties_file">1.5. An application configuration file</a></li>
</ul>
</li>
<li><a href="#injecting-configuration-properties">2. Injecting configuration properties</a></li>
<li><a href="#programmatically-access-the-configuration">3. Programmatically access the configuration</a></li>
<li><a href="#using_configproperties">4. Using @ConfigProperties</a>
<ul class="sectlevel2">
<li><a href="#additional-notes-on-configproperties">4.1. Additional notes on @ConfigProperties</a></li>
<li><a href="#using-same-configproperties-with-different-prefixes">4.2. Using same ConfigProperties with different prefixes</a></li>
<li><a href="#using-a-list-of-objects">4.3. Using a list of objects</a></li>
</ul>
</li>
<li><a href="#configuration_profiles">5. Configuration Profiles</a>
<ul class="sectlevel2">
<li><a href="#default-runtime-profile">5.1. Default Runtime Profile</a></li>
</ul>
</li>
<li><a href="#using_property_expressions">6. Using Property Expressions</a></li>
<li><a href="#combine-property-env-var">7. Combining Property Expressions and Environment Variables</a></li>
<li><a href="#configuring_quarkus">8. Configuring Quarkus</a></li>
<li><a href="#generating-configuration-for-your-application">9. Generating configuration for your application</a></li>
<li><a href="#clearing-properties">10. Clearing properties</a></li>
<li><a href="#custom_configuration">11. Custom Configuration</a>
<ul class="sectlevel2">
<li><a href="#custom-configuration-sources">11.1. Custom configuration sources</a></li>
<li><a href="#custom-configuration-converters">11.2. Custom configuration converters</a></li>
</ul>
</li>
<li><a href="#yaml">12. YAML for Configuration</a>
<ul class="sectlevel2">
<li><a href="#add-yaml-config-support">12.1. Add YAML Config Support</a></li>
<li><a href="#profile-dependent-configuration">12.2. Profile dependent configuration</a></li>
<li><a href="#configuration-key-conflicts">12.3. Configuration key conflicts</a></li>
</ul>
</li>
<li><a href="#more-info-on-how-to-configure">13. More info on how to configure</a></li>
</ul></div>
    <div>
      <div id="preamble">
<div class="sectionbody">
<div class="paragraph">
<p>In this reference guide we&#8217;re going to describe various aspects of Quarkus configuration.
A Quarkus application and Quarkus itself (core and extensions) are both configured via the same mechanism that leverages the <a href="https://microprofile.io/project/eclipse/microprofile-config">MicroProfile Config</a> API.
Quarkus configuration is based on <a href="https://github.com/smallrye/smallrye-config">SmallRye Config</a>, an implementation of the MicroProfile Config specification.
All of the standard features are supported.
Moreover, there are several additional features which are made available by the SmallRye Config project as well as by Quarkus itself.</p>
</div>
<div class="admonitionblock tip">
<table>
<tr>
<td class="icon">
<i class="fa icon-tip" title="Tip"></i>
</td>
<td class="content">
If you&#8217;re looking for information how to make a Quarkus extension configurable then see the <a href="writing-extensions#configuration">Writing Your Own Extension</a> guide.
</td>
</tr>
</table>
</div>
</div>
</div>
<div class="sect1">
<h2 id="configuration_sources"><a class="anchor" href="#configuration_sources"></a>1. Configuration Sources</h2>
<div class="sectionbody">
<div class="paragraph">
<p>By default, Quarkus reads configuration properties from several sources (in decreasing priority):</p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p><a href="#system_properties">System properties</a></p>
</li>
<li>
<p><a href="#environment_variables">Environment variables</a></p>
</li>
<li>
<p><a href="#env_file">File named <code>.env</code></a> placed in the current working directory</p>
</li>
<li>
<p><a href="#pwd_config_application_file"><code>application.properties</code> file placed in the <code>$PWD/config/</code> directory</a></p>
</li>
<li>
<p><a href="#application_properties_file">An application configuration file</a>, i.e. <code>src/main/resources/application.properties</code></p>
</li>
</ol>
</div>
<div class="sect2">
<h3 id="system_properties"><a class="anchor" href="#system_properties"></a>1.1. System properties</h3>
<div class="ulist">
<ul>
<li>
<p>for a runner jar: <code>java -Dquarkus.datasource.password=youshallnotpass -jar target/myapp-runner.jar</code></p>
</li>
<li>
<p>for a native executable: <code>./target/myapp-runner -Dquarkus.datasource.password=youshallnotpass</code></p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="environment_variables"><a class="anchor" href="#environment_variables"></a>1.2. Environment variables</h3>
<div class="ulist">
<ul>
<li>
<p>for a runner jar: <code>export QUARKUS_DATASOURCE_PASSWORD=youshallnotpass ; java -jar target/myapp-runner.jar</code></p>
</li>
<li>
<p>for a native executable: <code>export QUARKUS_DATASOURCE_PASSWORD=youshallnotpass ; ./target/myapp-runner</code></p>
</li>
</ul>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
Environment variables names are following the conversion rules of <a href="https://github.com/eclipse/microprofile-config/blob/master/spec/src/main/asciidoc/configsources.asciidoc#default-configsources">Eclipse MicroProfile Config</a>.
</td>
</tr>
</table>
</div>
</div>
<div class="sect2">
<h3 id="env_file"><a class="anchor" href="#env_file"></a>1.3. File named <code>.env</code> placed in the current working directory</h3>
<div class="listingblock">
<div class="title">Example <code>.env</code> file</div>
<div class="content">
<pre class="highlightjs highlight"><code class="language-properties hljs" data-lang="properties">QUARKUS_DATASOURCE_PASSWORD=youshallnotpass <i class="conum" data-value="1"></i><b>(1)</b></code></pre>
</div>
</div>
<div class="colist arabic">
<table>
<tr>
<td><i class="conum" data-value="1"></i><b>1</b></td>
<td>The name <code>QUARKUS_DATASOURCE_PASSWORD</code> is converted using the same rules as for <a href="#environment_variables">Environment variables</a>.</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>For dev mode, this file can be placed in the root of the project, but it is advised to <strong>not</strong> check it in to version control.</p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
Environment variables without a configuration profile defined in <code>.env</code> file will overwrite all its related profiles in <code>application.properties</code>, e.g. <code>%test.application.value</code> is overwritten by <code>APPLICATION_VALUE</code> in <code>.env</code> file.
</td>
</tr>
</table>
</div>
</div>
<div class="sect2">
<h3 id="pwd_config_application_file"><a class="anchor" href="#pwd_config_application_file"></a>1.4. An <code>application.properties</code> file placed in <code>$PWD/config/</code></h3>
<div class="paragraph">
<p>By placing an <code>application.properties</code> file inside a directory named <code>config</code> which resides in the directory where the application runs, any runtime properties defined in that file will override the default configuration.
Furthermore any runtime properties added to this file that were not part of the original <code>application.properties</code> file
<em>will also</em> be taken into account.
This works in the same way for runner jar and the native executable.</p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
The <code>config/application.properties</code> feature is available in development mode as well. To make use of it, <code>config/application.properties</code> needs to be placed inside the build tool&#8217;s output directory (<code>target</code> for Maven and <code>build/classes/java/main</code> for Gradle).
Keep in mind however that any cleaning operation from the build tool like <code>mvn clean</code> or <code>gradle clean</code> will remove the <code>config</code> directory as well.
</td>
</tr>
</table>
</div>
</div>
<div class="sect2">
<h3 id="application_properties_file"><a class="anchor" href="#application_properties_file"></a>1.5. An application configuration file</h3>
<div class="paragraph">
<p>This is the main application configuration file located in <code>src/main/resources/application.properties</code>.</p>
</div>
<div class="listingblock">
<div class="title">Example <code>application.properties</code> file</div>
<div class="content">
<pre class="highlightjs highlight"><code class="language-properties hljs" data-lang="properties">greeting.message=hello <i class="conum" data-value="1"></i><b>(1)</b>
quarkus.http.port=9090 <i class="conum" data-value="2"></i><b>(2)</b></code></pre>
</div>
</div>
<div class="colist arabic">
<table>
<tr>
<td><i class="conum" data-value="1"></i><b>1</b></td>
<td>This is a user-defined configuration property.</td>
</tr>
<tr>
<td><i class="conum" data-value="2"></i><b>2</b></td>
<td>This is a configuration property consumed by the <code>quarkus-vertx-http</code> extension.</td>
</tr>
</table>
</div>
<div class="admonitionblock tip">
<table>
<tr>
<td class="icon">
<i class="fa icon-tip" title="Tip"></i>
</td>
<td class="content">
Quarkus supports the use of <a href="#using_property_expressions">property expressions</a> in the <code>application.properties</code> file.
</td>
</tr>
</table>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="injecting-configuration-properties"><a class="anchor" href="#injecting-configuration-properties"></a>2. Injecting configuration properties</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Quarkus uses <a href="https://microprofile.io/project/eclipse/microprofile-config">MicroProfile Config</a> annotations to inject the configuration properties in the application.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-java hljs" data-lang="java">@ConfigProperty(name = "greeting.message") <i class="conum" data-value="1"></i><b>(1)</b>
String message;</code></pre>
</div>
</div>
<div class="colist arabic">
<table>
<tr>
<td><i class="conum" data-value="1"></i><b>1</b></td>
<td>You can use <code>@Inject @ConfigProperty</code> or just <code>@ConfigProperty</code>.
The <code>@Inject</code> annotation is not necessary for members annotated with <code>@ConfigProperty</code>.
This behavior differs from <a href="https://microprofile.io/project/eclipse/microprofile-config">MicroProfile Config</a>.</td>
</tr>
</table>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
If the application attempts to inject a configuration property that is not set, an error is thrown, thus allowing you to quickly know when your configuration is complete.
</td>
</tr>
</table>
</div>
<div class="listingblock">
<div class="title">More <code>@ConfigProperty</code> Examples</div>
<div class="content">
<pre class="highlightjs highlight"><code class="language-java hljs" data-lang="java">@ConfigProperty(name = "greeting.message") <i class="conum" data-value="1"></i><b>(1)</b>
String message;

@ConfigProperty(name = "greeting.suffix", defaultValue="!") <i class="conum" data-value="2"></i><b>(2)</b>
String suffix;

@ConfigProperty(name = "greeting.name")
Optional&lt;String&gt; name; <i class="conum" data-value="3"></i><b>(3)</b></code></pre>
</div>
</div>
<div class="colist arabic">
<table>
<tr>
<td><i class="conum" data-value="1"></i><b>1</b></td>
<td>If you do not provide a value for this property, the application startup fails with <code>javax.enterprise.inject.spi.DeploymentException: No config value of type [class java.lang.String] exists for: greeting.message</code>.</td>
</tr>
<tr>
<td><i class="conum" data-value="2"></i><b>2</b></td>
<td>The default value is injected if the configuration does not provide a value for <code>greeting.suffix</code>.</td>
</tr>
<tr>
<td><i class="conum" data-value="3"></i><b>3</b></td>
<td>This property is optional - an empty <code>Optional</code> is injected if the configuration does not provide a value for <code>greeting.name</code>.</td>
</tr>
</table>
</div>
</div>
</div>
<div class="sect1">
<h2 id="programmatically-access-the-configuration"><a class="anchor" href="#programmatically-access-the-configuration"></a>3. Programmatically access the configuration</h2>
<div class="sectionbody">
<div class="paragraph">
<p>You can also access the configuration programmatically.
It can be handy to achieve dynamic lookup, or retrieve configured values from classes that are neither CDI beans or JAX-RS resources.</p>
</div>
<div class="paragraph">
<p>You can access the configuration programmatically using <code>org.eclipse.microprofile.config.ConfigProvider.getConfig()</code> such as in:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-java hljs" data-lang="java">String databaseName = ConfigProvider.getConfig().getValue("database.name", String.class);
Optional&lt;String&gt; maybeDatabaseName = ConfigProvider.getConfig().getOptionalValue("database.name", String.class);</code></pre>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="using_configproperties"><a class="anchor" href="#using_configproperties"></a>4. Using @ConfigProperties</h2>
<div class="sectionbody">
<div class="paragraph">
<p>As an alternative to injecting multiple related configuration values in the way that was shown in the previous example,
users can also use the <code>@io.quarkus.arc.config.ConfigProperties</code> annotation to group these properties together.</p>
</div>
<div class="paragraph">
<p>For the greeting properties above, a <code>GreetingConfiguration</code> class could be created like so:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-java hljs" data-lang="java">package org.acme.config;

import io.quarkus.arc.config.ConfigProperties;
import java.util.Optional;

@ConfigProperties(prefix = "greeting") <i class="conum" data-value="1"></i><b>(1)</b>
public class GreetingConfiguration {

    private String message;
    private String suffix = "!"; <i class="conum" data-value="2"></i><b>(2)</b>
    private Optional&lt;String&gt; name;

    public String getMessage() {
        return message;
    }

    public void setMessage(String message) {
        this.message = message;
    }

    public String getSuffix() {
        return suffix;
    }

    public void setSuffix(String suffix) {
        this.suffix = suffix;
    }

    public Optional&lt;String&gt; getName() {
        return name;
    }

    public void setName(Optional&lt;String&gt; name) {
        this.name = name;
    }
}</code></pre>
</div>
</div>
<div class="colist arabic">
<table>
<tr>
<td><i class="conum" data-value="1"></i><b>1</b></td>
<td><code>prefix</code> is optional. If not set then the prefix to be used will be determined by the class name. In this case it would still be <code>greeting</code> (since the <code>Configuration</code> suffix is removed). If the class were named <code>GreetingExtraConfiguration</code> then the resulting default prefix would be <code>greeting-extra</code>.</td>
</tr>
<tr>
<td><i class="conum" data-value="2"></i><b>2</b></td>
<td><code>!</code> will be the default value if <code>greeting.suffix</code> is not set.</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>This class could then be injected into the <code>GreetingResource</code> using the familiar CDI <code>@Inject</code> annotation like so:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-java hljs" data-lang="java">@Inject
GreetingConfiguration greetingConfiguration;</code></pre>
</div>
</div>
<div class="paragraph">
<p>Another alternative style provided by Quarkus is to create <code>GreetingConfiguration</code> as an interface like so:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-java hljs" data-lang="java">package org.acme.config;

import io.quarkus.arc.config.ConfigProperties;
import org.eclipse.microprofile.config.inject.ConfigProperty;
import java.util.Optional;

@ConfigProperties(prefix = "greeting")
public interface GreetingConfiguration {

    @ConfigProperty(name = "message") <i class="conum" data-value="1"></i><b>(1)</b>
    String message();

    @ConfigProperty(defaultValue = "!")
    String getSuffix(); <i class="conum" data-value="2"></i><b>(2)</b>

    Optional&lt;String&gt; getName(); <i class="conum" data-value="3"></i><b>(3)</b>
}</code></pre>
</div>
</div>
<div class="colist arabic">
<table>
<tr>
<td><i class="conum" data-value="1"></i><b>1</b></td>
<td>The <code>@ConfigProperty</code> annotation is needed because the name of the configuration property that the method corresponds to doesn&#8217;t follow the getter method naming conventions.</td>
</tr>
<tr>
<td><i class="conum" data-value="2"></i><b>2</b></td>
<td>In this case since <code>name</code> was not set, the corresponding property will be <code>greeting.suffix</code>.</td>
</tr>
<tr>
<td><i class="conum" data-value="3"></i><b>3</b></td>
<td>It is unnecessary to specify the <code>@ConfigProperty</code> annotation because the method name follows the getter method naming conventions (<code>greeting.name</code> being the corresponding property) and no default value is needed.</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>When using <code>@ConfigProperties</code> on a class or an interface, if the value of one of its fields is not provided, the application startup will fail and a <code>javax.enterprise.inject.spi.DeploymentException</code> indicating the missing value information will be thrown.
This does not apply to <code>Optional</code> fields and fields with a default value.</p>
</div>
<div class="sect2">
<h3 id="additional-notes-on-configproperties"><a class="anchor" href="#additional-notes-on-configproperties"></a>4.1. Additional notes on @ConfigProperties</h3>
<div class="paragraph">
<p>When using a regular class annotated with <code>@ConfigProperties</code> the class doesn&#8217;t necessarily have to declare getters and setters.
Having simple public non-final fields is valid as well.</p>
</div>
<div class="paragraph">
<p>Furthermore, the configuration classes support nested object configuration. Suppose there was a need to have an extra layer
of greeting configuration named <code>content</code> that would contain a few fields. This could be achieved like so:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-java hljs" data-lang="java">@ConfigProperties(prefix = "greeting")
public class GreetingConfiguration {

    public String message;
    public String suffix = "!";
    public Optional&lt;String&gt; name;
    public ContentConfig content; <i class="conum" data-value="1"></i><b>(1)</b>

    public static class ContentConfig {
        public Integer prizeAmount;
        public List&lt;String&gt; recipients;
    }
}</code></pre>
</div>
</div>
<div class="colist arabic">
<table>
<tr>
<td><i class="conum" data-value="1"></i><b>1</b></td>
<td>The name of the field (not the class name) will determine the name of the properties that are bound to the object.</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>Setting the properties would occur in the normal manner, for example in <code>application.properties</code> one could have:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-properties hljs" data-lang="properties">greeting.message = hello
greeting.name = quarkus
greeting.content.prize-amount=10
greeting.content.recipients=Jane,John</code></pre>
</div>
</div>
<div class="paragraph">
<p>Furthermore, classes annotated with <code>@ConfigProperties</code> can be annotated with Bean Validation annotations similar to the following example:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-java hljs" data-lang="java">@ConfigProperties(prefix = "greeting")
public class GreetingConfiguration {

    @Size(min = 20)
    public String message;
    public String suffix = "!";

}</code></pre>
</div>
</div>
<div class="admonitionblock warning">
<table>
<tr>
<td class="icon">
<i class="fa icon-warning" title="Warning"></i>
</td>
<td class="content">
For validation to work, the <code>quarkus-hibernate-validator</code> extension needs to be present.
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>If the validation fails with the given configuration, the application will fail to start and indicate the corresponding validation errors in the log.</p>
</div>
<div class="paragraph">
<p>In the case of an interface being annotated with <code>@ConfigProperties</code>, the interface is allowed to extend other interfaces and methods from
the entire interface hierarchy are used to bind properties.</p>
</div>
</div>
<div class="sect2">
<h3 id="using-same-configproperties-with-different-prefixes"><a class="anchor" href="#using-same-configproperties-with-different-prefixes"></a>4.2. Using same ConfigProperties with different prefixes</h3>
<div class="paragraph">
<p>Quarkus also supports the use of the same <code>@ConfigProperties</code> object with different prefixes for each injection point using the <code>io.quarkus.arc.config.@ConfigPrefix</code> annotation.
Say for example that <code>GreetingConfiguration</code> from above needs to be used for both the <code>greeting</code> prefix and the <code>other</code> prefix.
In that case the code would look like so:</p>
</div>
<div class="paragraph">
<p><code>GreetingConfiguration.java</code></p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-java hljs" data-lang="java">@ConfigProperties(prefix = "greeting")
public class GreetingConfiguration {

    @Size(min = 20)
    public String message;
    public String suffix = "!";

}</code></pre>
</div>
</div>
<div class="paragraph">
<p><code>SomeBean.java</code></p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-java hljs" data-lang="java">@ApplicationScoped
public class SomeBean {

    @Inject <i class="conum" data-value="1"></i><b>(1)</b>
    GreetingConfiguration greetingConfiguration;

    @ConfigPrefix("other") <i class="conum" data-value="2"></i><b>(2)</b>
    GreetingConfiguration otherConfiguration;

}</code></pre>
</div>
</div>
<div class="colist arabic">
<table>
<tr>
<td><i class="conum" data-value="1"></i><b>1</b></td>
<td>At this injection point <code>greetingConfiguration</code> will use the <code>greeting</code> prefix since that is what has been defined on <code>@ConfigProperties</code>.</td>
</tr>
<tr>
<td><i class="conum" data-value="2"></i><b>2</b></td>
<td>At this injection point <code>otherConfiguration</code> will use the <code>other</code> prefix from <code>@ConfigPrefix</code> instead of the <code>greeting</code> prefix. Notice that in this case <code>@Inject</code> is not required.</td>
</tr>
</table>
</div>
</div>
<div class="sect2">
<h3 id="using-a-list-of-objects"><a class="anchor" href="#using-a-list-of-objects"></a>4.3. Using a list of objects</h3>
<div class="paragraph">
<p>In certain cases it might be necessary to support complex configuration structures that utilize a list of objects as shown in the following example:</p>
</div>
<div class="paragraph">
<p><code>ComplexConfiguration.java</code></p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-java hljs" data-lang="java">@ConfigProperties(prefix = "complex")
public class ComplexConfiguration {
    public String name;
    public String user;
    public String password;
    public List&lt;Nested&gt; inputs;
    public List&lt;Nested&gt; outputs;

    public static class Nested {
        public String user;
        public String password;
    }
}</code></pre>
</div>
</div>
<div class="paragraph">
<p>Support for such use cases is only available when using YAML configuration with the <code>quarkus-config-yaml</code> extension. A corresponding example YAML configuration could be:</p>
</div>
<div class="paragraph">
<p><code>application.yaml</code></p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-yaml hljs" data-lang="yaml">complex:
  name: defaultName
  user: defaultUser
  password: defaultPassword
  inputs:
    - user: user
      password: secret
    - user: otheruser
      password: secret2
  outputs:
    - user: someuser
      password: asecret
    - user: someotheruser
      password: anothersecret</code></pre>
</div>
</div>
<div class="admonitionblock warning">
<table>
<tr>
<td class="icon">
<i class="fa icon-warning" title="Warning"></i>
</td>
<td class="content">
A limitation of such configuration is that the types used as the generic types of the lists need to be classes and not interfaces.
</td>
</tr>
</table>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="configuration_profiles"><a class="anchor" href="#configuration_profiles"></a>5. Configuration Profiles</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Quarkus supports the notion of configuration profiles.
These allow you to have multiple configurations in the same file and select between them via a profile name.</p>
</div>
<div class="paragraph">
<p>The syntax for this is <code>%{profile}.config.key=value</code>. For example if I have the following:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-properties hljs" data-lang="properties">quarkus.http.port=9090
%dev.quarkus.http.port=8181</code></pre>
</div>
</div>
<div class="paragraph">
<p>The Quarkus HTTP port will be 9090, unless the <code>dev</code> profile is active, in which case it will be 8181.</p>
</div>
<div class="paragraph">
<p>To use profiles in the <code>.env</code> file, you can follow a <code>_{PROFILE}_CONFIG_KEY=value</code> pattern. An equivalent of the above example in an <code>.env</code> file would be:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-.env hljs" data-lang=".env">QUARKUS_HTTP_PORT=9090
_DEV_QUARKUS_HTTP_PORT=8181</code></pre>
</div>
</div>
<div class="paragraph">
<p>By default, Quarkus has three profiles, although it is possible to use as many as you like.
The default profiles are:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><strong>dev</strong> - Activated when in development mode (i.e. <code>quarkus:dev</code>)</p>
</li>
<li>
<p><strong>test</strong> - Activated when running tests</p>
</li>
<li>
<p><strong>prod</strong> - The default profile when not running in development or test mode</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>There are two ways to set a custom profile, either via the <code>quarkus.profile</code> system property or the <code>QUARKUS_PROFILE</code>
environment variable. If both are set the system property takes precedence. Note that it is not necessary to
define the names of these profiles anywhere, all that is necessary is to create a config property with the profile
name, and then set the current profile to that name. For example if I want a <code>staging</code> profile with a different HTTP port I can add the following to <code>application.properties</code>:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-properties hljs" data-lang="properties">quarkus.http.port=9090
%staging.quarkus.http.port=9999</code></pre>
</div>
</div>
<div class="paragraph">
<p>And then set the <code>QUARKUS_PROFILE</code> environment variable to <code>staging</code> to activate my profile.</p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
<div class="paragraph">
<p>The proper way to check the active profile programmatically is to use the <code>getActiveProfile</code> method of <code>io.quarkus.runtime.configuration.ProfileManager</code>.</p>
</div>
<div class="paragraph">
<p>Using <code>@ConfigProperty("quarkus.profile")</code> will <strong>not</strong> work properly.</p>
</div>
</td>
</tr>
</table>
</div>
<div class="sect2">
<h3 id="default-runtime-profile"><a class="anchor" href="#default-runtime-profile"></a>5.1. Default Runtime Profile</h3>
<div class="paragraph">
<p>The default Quarkus application runtime profile is set to the profile used to build the application.
For example:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-bash hljs" data-lang="bash">./mvnw package -Pnative -Dquarkus.profile=prod-aws
./target/my-app-1.0-runner <i class="conum" data-value="1"></i><b>(1)</b></code></pre>
</div>
</div>
<div class="colist arabic">
<table>
<tr>
<td><i class="conum" data-value="1"></i><b>1</b></td>
<td>The command will run with the <code>prod-aws</code> profile. This can be overridden using the <code>quarkus.profile</code> system property.</td>
</tr>
</table>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="using_property_expressions"><a class="anchor" href="#using_property_expressions"></a>6. Using Property Expressions</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Quarkus supports the use of property expressions in the <code>application.properties</code> file.</p>
</div>
<div class="paragraph">
<p>These expressions are resolved when the property is read.
So if your configuration property is a build time configuration property, the property expression will be resolved at build time.
If your configuration property is overridable at runtime, the property expression will be resolved at runtime.</p>
</div>
<div class="paragraph">
<p>You can use property expressions both for the Quarkus configuration or for your own configuration properties.</p>
</div>
<div class="paragraph">
<p>Property expressions are defined this way: <code>${my-property-expression}</code>.</p>
</div>
<div class="paragraph">
<p>For example, having the following property:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-properties hljs" data-lang="properties">remote.host=quarkus.io</code></pre>
</div>
</div>
<div class="paragraph">
<p>and another property defined as:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-properties hljs" data-lang="properties">callable.url=https://${remote.host}/</code></pre>
</div>
</div>
<div class="paragraph">
<p>will result in the value of the <code>callable.url</code> property being set to:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-properties hljs" data-lang="properties">callable.url=https://quarkus.io/</code></pre>
</div>
</div>
<div class="paragraph">
<p>Another example would be defining different database servers depending on the profile used:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-properties hljs" data-lang="properties">%dev.quarkus.datasource.jdbc.url=jdbc:mysql://localhost:3306/mydatabase?useSSL=false
quarkus.datasource.jdbc.url=jdbc:mysql://remotehost:3306/mydatabase?useSSL=false</code></pre>
</div>
</div>
<div class="paragraph">
<p>can be simplified by having:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-properties hljs" data-lang="properties">%dev.application.server=localhost
application.server=remotehost

quarkus.datasource.jdbc.url=jdbc:mysql://${application.server}:3306/mydatabase?useSSL=false</code></pre>
</div>
</div>
<div class="paragraph">
<p>It does result in one more line in this example but the value of <code>application.server</code> can be reused in other properties,
diminishing the possibility of typos and providing more flexibility in property definitions.</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="combine-property-env-var"><a class="anchor" href="#combine-property-env-var"></a>7. Combining Property Expressions and Environment Variables</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Quarkus also supports the combination of both property expressions and environment variables.</p>
</div>
<div class="paragraph">
<p>Let&#8217;s assume you have the following property defined in <code>application.properties</code>:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-properties hljs" data-lang="properties">remote.host=quarkus.io</code></pre>
</div>
</div>
<div class="paragraph">
<p>You can combine environment variables and property expressions by having a property defined as follows:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-properties hljs" data-lang="properties">application.host=${HOST:${remote.host}}</code></pre>
</div>
</div>
<div class="paragraph">
<p>This will expand the <code>HOST</code> environment variable and use the value of the property <code>remote.host</code> as the default value if <code>HOST</code> is not set.</p>
</div>
<div class="paragraph">
<p>For the purpose of this section we used the property <code>remote.host</code> we defined previously.
It has to be noted that the value could have been a fixed one such as in:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-properties hljs" data-lang="properties">application.host=${HOST:localhost}</code></pre>
</div>
</div>
<div class="paragraph">
<p>which will result in <code>localhost</code> as the default value if <code>HOST</code> is not set.</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="configuring_quarkus"><a class="anchor" href="#configuring_quarkus"></a>8. Configuring Quarkus</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Quarkus itself is configured via the same mechanism as your application. Quarkus reserves the <code>quarkus.</code> namespace
for its own configuration and the configuration of all of its extensions. For example to configure the HTTP server port you can set <code>quarkus.http.port</code> in
<code>application.properties</code>. All the Quarkus configuration properties are <a href="all-config">documented and searchable</a>.</p>
</div>
<div class="admonitionblock important">
<table>
<tr>
<td class="icon">
<i class="fa icon-important" title="Important"></i>
</td>
<td class="content">
<div class="paragraph">
<p>As mentioned above, properties prefixed with <code>quarkus.</code> are effectively reserved for configuring Quarkus itself and its extensions.
Therefore <code>quarkus.</code> should <strong>never</strong> be used as prefix for application specific properties.</p>
</div>
<div class="paragraph">
<p>In the previous examples using <code>quarkus.message</code> instead of <code>greeting.message</code> would result in unexpected behavior.</p>
</div>
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>Quarkus does much of its configuration and bootstrap at build time and some configuration properties are read and used during the build.
These properties are <em>fixed at build time</em> and it&#8217;s not possible to change them at runtime.
You always need to repackage your application in order to reflect changes of such properties.</p>
</div>
<div class="admonitionblock tip">
<table>
<tr>
<td class="icon">
<i class="fa icon-tip" title="Tip"></i>
</td>
<td class="content">
The properties fixed at build time are marked with a lock icon (<span class="icon"><i class="fa fa-lock"></i></span>) in the <a href="all-config">list of all configuration options</a>.
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>However, some extensions do define properties that can be <em>overriden at runtime</em>.
A canonical example is the database URL, username and password which are only known specifically in your target environment.
This is a tradeoff as the more runtime properties are available, the less build time prework Quarkus can do.
The list of runtime properties is therefore lean.
You can override these runtime properties with the following mechanisms (in decreasing priority) using:</p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>System properties</p>
</li>
<li>
<p>Environment variables</p>
</li>
<li>
<p>An environment file named <code>.env</code> placed in the current working directory</p>
</li>
<li>
<p>A configuration file placed in <code>$PWD/config/application.properties</code></p>
</li>
</ol>
</div>
<div class="paragraph">
<p>See <a href="#configuration_sources">Configuration Sources</a> for more details.</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="generating-configuration-for-your-application"><a class="anchor" href="#generating-configuration-for-your-application"></a>9. Generating configuration for your application</h2>
<div class="sectionbody">
<div class="paragraph">
<p>It is also possible to generate an example <code>application.properties</code> with all known configuration properties, to make
it easy to see what Quarkus configuration options are available. To do this, run:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-bash hljs" data-lang="bash">./mvnw quarkus:generate-config</code></pre>
</div>
</div>
<div class="paragraph">
<p>This will create a <code>src/main/resources/application.properties.example</code> file that contains all the config options
exposed via the extensions you currently have installed. These options are commented out, and have their default value
when applicable. For example this HTTP port config entry will appear as:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-properties hljs" data-lang="properties">#
# The HTTP port
#
#quarkus.http.port=8080</code></pre>
</div>
</div>
<div class="paragraph">
<p>Rather than generating an example config file, you can also add these to you actual config file by setting the <code>-Dfile</code>
parameter:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-bash hljs" data-lang="bash">./mvnw quarkus:generate-config -Dfile=application.properties</code></pre>
</div>
</div>
<div class="paragraph">
<p>If a config option is already present (commented or not) it will not be added, so it is safe to run this after
adding an additional extension to see what additional options have been added.</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="clearing-properties"><a class="anchor" href="#clearing-properties"></a>10. Clearing properties</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Run time properties which are optional, and which have had values set at build time or which have a default value,
may be explicitly cleared by assigning an empty string to the property.  Note that this will <em>only</em> affect
runtime properties, and will <em>only</em> work with properties whose values are not required.</p>
</div>
<div class="paragraph">
<p>The property may be cleared by setting the corresponding <code>application.properties</code> property, setting the
corresponding system property, or setting the corresponding environment variable.</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="custom_configuration"><a class="anchor" href="#custom_configuration"></a>11. Custom Configuration</h2>
<div class="sectionbody">
<div class="sect2">
<h3 id="custom-configuration-sources"><a class="anchor" href="#custom-configuration-sources"></a>11.1. Custom configuration sources</h3>
<div class="paragraph">
<p>You can also introduce custom configuration sources in the standard MicroProfile Config manner.  To
do this, you must provide a class which implements either <code>org.eclipse.microprofile.config.spi.ConfigSource</code>
or <code>org.eclipse.microprofile.config.spi.ConfigSourceProvider</code>.  Create a
<a href="https://docs.oracle.com/javase/8/docs/api/java/util/ServiceLoader.html">service file</a> for the
class and it will be detected and installed at application startup.</p>
</div>
</div>
<div class="sect2">
<h3 id="custom-configuration-converters"><a class="anchor" href="#custom-configuration-converters"></a>11.2. Custom configuration converters</h3>
<div class="paragraph">
<p>You can also use your custom types for configuration values. This can be done by implementing <code>org.eclipse.microprofile.config.spi.Converter&lt;T&gt;</code>
and adding its fully qualified class name in the <code>META-INF/services/org.eclipse.microprofile.config.spi.Converter</code> file.</p>
</div>
<div class="paragraph">
<p>Let us assume you have a custom type like this one:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-java hljs" data-lang="java">package org.acme.config;

public class MicroProfileCustomValue {

    private final int number;

    public MicroProfileCustomValue(int number) {
        this.number = number;
    }

    public int getNumber() {
        return number;
    }
}</code></pre>
</div>
</div>
<div class="paragraph">
<p>The corresponding converter will look like the one below. Please note that your custom converter class must be <code>public</code> and must have
a <code>public</code> no-argument constructor. It also must not be <code>abstract</code>.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-java hljs" data-lang="java">package org.acme.config;

import org.eclipse.microprofile.config.spi.Converter;

public class MicroProfileCustomValueConverter implements Converter&lt;MicroProfileCustomValue&gt; {

    @Override
    public MicroProfileCustomValue convert(String value) {
        return new MicroProfileCustomValue(Integer.parseInt(value));
    }
}</code></pre>
</div>
</div>
<div class="paragraph">
<p>Then you need to include the fully qualified class name of the converter in a service file <code>META-INF/services/org.eclipse.microprofile.config.spi.Converter</code>.
If you have more converters, simply add their class names in this file as well. One fully qualified class name per line, for example:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-none hljs">org.acme.config.MicroProfileCustomValueConverter
org.acme.config.SomeOtherConverter
org.acme.config.YetAnotherConverter</code></pre>
</div>
</div>
<div class="paragraph">
<p>Please note that <code>SomeOtherConverter</code> and <code>YetAnotherConverter</code> were added just for demonstration purposes. If you include in this file classes
which are not available at runtime, the converters loading will fail.</p>
</div>
<div class="paragraph">
<p>After this is done, you can use your custom type as a configuration value:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-java hljs" data-lang="java">@ConfigProperty(name = "configuration.value.name")
MicroProfileCustomValue value;</code></pre>
</div>
</div>
<div class="sect3">
<h4 id="converter-priority"><a class="anchor" href="#converter-priority"></a>11.2.1. Converter priority</h4>
<div class="paragraph">
<p>In some cases, you may want to use a custom converter to convert a type which is already converted
by a different converter. In such cases, you can use the <code>javax.annotation.Priority</code> annotation to
change converters precedence and make your custom converter of higher priority than the other
in the list.</p>
</div>
<div class="paragraph">
<p>By default, if no <code>@Priority</code> can be found on a converter, it&#8217;s registered with a priority of 100
and all Quarkus core converters are registered with a priority of 200, so depending on which
converter you would like to replace, you need to set a higher value.</p>
</div>
<div class="paragraph">
<p>To demonstrate the idea let us implement a custom converter which will take precedence over
<code>MicroProfileCustomValueConverter</code> implemented in the previous example.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-java hljs" data-lang="java">package org.acme.config;

import javax.annotation.Priority;
import org.eclipse.microprofile.config.spi.Converter;

@Priority(150)
public class MyCustomConverter implements Converter&lt;MicroProfileCustomValue&gt; {

    @Override
    public MicroProfileCustomValue convert(String value) {

        final int secretNumber;
        if (value.startsFrom("OBF:")) {
            secretNumber = Integer.parseInt(SecretDecoder.decode(value));
        } else {
            secretNumber = Integer.parseInt(value);
        }

        return new MicroProfileCustomValue(secretNumber);
    }
}</code></pre>
</div>
</div>
<div class="paragraph">
<p>Since it converts the same value type (namely <code>MicroProfileCustomValue</code>) and has a priority
of 150, it will be used instead of a <code>MicroProfileCustomValueConverter</code> which has a default
priority of 100.</p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
This new converter also needs to be listed in a service file, i.e. <code>META-INF/services/org.eclipse.microprofile.config.spi.Converter</code>.
</td>
</tr>
</table>
</div>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="yaml"><a class="anchor" href="#yaml"></a>12. YAML for Configuration</h2>
<div class="sectionbody">
<div class="sect2">
<h3 id="add-yaml-config-support"><a class="anchor" href="#add-yaml-config-support"></a>12.1. Add YAML Config Support</h3>
<div class="paragraph">
<p>You might want to use YAML over properties for configuration.
Since <a href="https://github.com/smallrye/smallrye-config">SmallRye Config</a> brings support for YAML
configuration, Quarkus supports this as well.</p>
</div>
<div class="paragraph">
<p>First you will need to add the Config YAML extension to your <code>pom.xml</code>:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-xml hljs" data-lang="xml">&lt;dependency&gt;
    &lt;groupId&gt;io.quarkus&lt;/groupId&gt;
    &lt;artifactId&gt;quarkus-config-yaml&lt;/artifactId&gt;
&lt;/dependency&gt;</code></pre>
</div>
</div>
<div class="paragraph">
<p>Or you can alternatively run this command in the directory containing your Quarkus project:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-bash hljs" data-lang="bash">./mvnw quarkus:add-extension -Dextensions="config-yaml"</code></pre>
</div>
</div>
<div class="paragraph">
<p>Now Quarkus can read YAML configuration files.
The config directories and priorities are the same as before.</p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
Quarkus will choose an <code>application.yaml</code> over an <code>application.properties</code>.
YAML files are just an alternative way to configure your application.
You should decide and keep one configuration type to avoid errors.
</td>
</tr>
</table>
</div>
<div class="sect3">
<h4 id="configuration-examples"><a class="anchor" href="#configuration-examples"></a>12.1.1. Configuration Examples</h4>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-yaml hljs" data-lang="yaml"># YAML supports comments
quarkus:
  datasource:
    db-kind: postgresql
    jdbc:
      url: jdbc:postgresql://localhost:5432/some-database
    username: quarkus
    password: quarkus

# REST Client configuration property
org:
  acme:
    restclient:
      CountriesService/mp-rest/url: https://restcountries.eu/rest

# For configuration property names that use quotes, do not split the string inside the quotes.
quarkus:
  log:
    category:
      "io.quarkus.category":
        level: INFO</code></pre>
</div>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
<div class="paragraph">
<p>Quarkus also supports using <code>application.yml</code> as the name of the YAML file. The same rules apply for this file as for <code>application.yaml</code>.</p>
</div>
</td>
</tr>
</table>
</div>
</div>
</div>
<div class="sect2">
<h3 id="profile-dependent-configuration"><a class="anchor" href="#profile-dependent-configuration"></a>12.2. Profile dependent configuration</h3>
<div class="paragraph">
<p>Providing profile dependent configuration with YAML is done like with properties.
Just add the <code>%profile</code> wrapped in quotation marks before defining the key-value pairs:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-yaml hljs" data-lang="yaml">"%dev":
  quarkus:
    datasource:
      db-kind: postgresql
      jdbc:
        url: jdbc:postgresql://localhost:5432/some-database
      username: quarkus
      password: quarkus</code></pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="configuration-key-conflicts"><a class="anchor" href="#configuration-key-conflicts"></a>12.3. Configuration key conflicts</h3>
<div class="paragraph">
<p>The MicroProfile Configuration specification defines configuration keys as an arbitrary <code>.</code>-delimited string.
However, structured formats like YAML naively only support a subset of the possible configuration namespace.
For example, consider the two configuration properties <code>quarkus.http.cors</code> and <code>quarkus.http.cors.methods</code>.
One property is the prefix of another, so it may not be immediately evident how to specify both keys in your YAML configuration.</p>
</div>
<div class="paragraph">
<p>This is solved by using a <code>null</code> key (normally represented by <code>~</code>) for any YAML property which is a prefix of another one.  Here&#8217;s an example:</p>
</div>
<div class="listingblock">
<div class="title">An example YAML configuration resolving prefix-related key name conflicts</div>
<div class="content">
<pre class="highlightjs highlight"><code class="language-yaml hljs" data-lang="yaml">quarkus:
  http:
    cors:
      ~: true
      methods: GET,PUT,POST</code></pre>
</div>
</div>
<div class="paragraph">
<p>In general, <code>null</code> YAML keys are not included in assembly of the configuration property name, allowing them to be used to
any level for disambiguating configuration keys.</p>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="more-info-on-how-to-configure"><a class="anchor" href="#more-info-on-how-to-configure"></a>13. More info on how to configure</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Quarkus relies on SmallRye Config and inherits its features.</p>
</div>
<div class="paragraph">
<p>SmallRye Config provides:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Additional Config Sources</p>
</li>
<li>
<p>Additional Converters</p>
</li>
<li>
<p>Interceptors for configuration value resolution</p>
</li>
<li>
<p>Relocate Configuration Properties</p>
</li>
<li>
<p>Fallback Configuration Properties</p>
</li>
<li>
<p>Logging</p>
</li>
<li>
<p>Hide Secrets</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>For more information, please check the
<a href="https://smallrye.io/docs/smallrye-config/index.html">SmallRye Config documentation</a>.</p>
</div>
</div>
</div>
    </div>
  </div>
</div>

  </div>

  <div class="content project-footer">
  <div class="footer-section">
    <div class="logo-wrapper">
      <a href="/"><img src="/assets/images/quarkus_logo_horizontal_rgb_reverse.svg" class="project-logo" title="Quarkus"></a>
    </div>
  </div>
  <div class="grid-wrapper">
    <p class="grid__item width-3-12">Quarkus is open. All dependencies of this project are available under the <a href='https://www.apache.org/licenses/LICENSE-2.0' target='_blank'>Apache Software License 2.0</a> or compatible license.<br /><br />This website was built with <a href='https://jekyllrb.com/' target='_blank'>Jekyll</a>, is hosted on <a href='https://pages.github.com/' target='_blank'>GitHub Pages</a> and is completely open source. If you want to make it better, <a href='https://github.com/quarkusio/quarkusio.github.io' target='_blank'>fork the website</a> and show us what you’ve got.</p>

    
      <div class="width-1-12 project-links">
        <span>Navigation</span>
        <ul class="footer-links">
          
            <li><a href="/">Home</a></li>
          
            <li><a href="/about">About</a></li>
          
            <li><a href="/blog">Blog</a></li>
          
            <li><a href="/insights">Podcast</a></li>
          
            <li><a href="/events">Events</a></li>
          
            <li><a href="/newsletter">Newsletter</a></li>
          
            <li><a href="/publications">Publications</a></li>
          
            <li><a href="/awards">Awards</a></li>
          
            <li><a href="/security">Security&nbsp;policy</a></li>
          
        </ul>
      </div>
    
      <div class="width-1-12 project-links">
        <span>Follow Us</span>
        <ul class="footer-links">
          
            <li><a href="https://twitter.com/quarkusio">Twitter</a></li>
          
            <li><a href="https://www.facebook.com/quarkusio">Facebook</a></li>
          
            <li><a href="https://www.linkedin.com/company/quarkusio/">Linkedin</a></li>
          
            <li><a href="https://www.youtube.com/channel/UCaW8QG_QoIk_FnjLgr5eOqg">Youtube</a></li>
          
            <li><a href="https://github.com/quarkusio">GitHub</a></li>
          
        </ul>
      </div>
    
      <div class="width-2-12 project-links">
        <span>Get Help</span>
        <ul class="footer-links">
          
            <li><a href="/support">Support</a></li>
          
            <li><a href="/guides">Guides</a></li>
          
            <li><a href="/faq">FAQ</a></li>
          
            <li><a href="/get-started">Get Started</a></li>
          
            <li><a href="https://stackoverflow.com/questions/tagged/quarkus">Stack Overflow</a></li>
          
            <li><a href="https://github.com/quarkusio/quarkus/discussions">Discussions</a></li>
          
            <li><a href="https://groups.google.com/forum/#!forum/quarkus-dev">Development mailing list</a></li>
          
        </ul>
      </div>
    
      <div class="width-1-12 project-links">
        <span>Languages</span>
        <ul class="footer-links">
          
            <li><a href="https://quarkus.io/">English</a></li>
          
            <li><a href="https://ja.quarkus.io/">日本語</a></li>
          
            <li><a href="https://cn.quarkus.io/">简体中文</a></li>
          
        </ul>
      </div>
    

    
      <div class="width-4-12 more-links">
        <span>Quarkus is made of community projects</span>
        <ul class="footer-links">
          
            <li><a href="https://vertx.io/" target="_blank">Eclipse Vert.x</a></li>
          
            <li><a href="https://smallrye.io" target="_blank">SmallRye</a></li>
          
            <li><a href="https://hibernate.org" target="_blank">Hibernate</a></li>
          
            <li><a href="https://netty.io" target="_blank">Netty</a></li>
          
            <li><a href="https://resteasy.github.io" target="_blank">RESTEasy</a></li>
          
            <li><a href="https://camel.apache.org" target="_blank">Apache Camel</a></li>
          
            <li><a href="https://microprofile.io" target="_blank">Eclipse MicroProfile</a></li>
          
            <li><a href="https://code.quarkus.io/" target="_blank">And many more...</a></li>
          
        </ul>
      </div>
    
  </div>
</div>

  <div class="content redhat-footer">
  <div class="grid-wrapper">
    <span class="licence">
      <i class="fab fa-creative-commons"></i><i class="fab fa-creative-commons-by"></i> <a href="https://creativecommons.org/licenses/by/3.0/" target="_blank">CC by 3.0</a> | <a href="https://www.redhat.com/en/about/privacy-policy">Privacy Policy</a>
    </span>
    <span class="redhat">
      Sponsored by
    </span>
    <span class="redhat-logo">
      <a href="https://www.redhat.com/" target="_blank"><img src="/assets/images/redhat_reversed.svg"></a>
    </span>
  </div>
</div>


  <script src="https://ajax.googleapis.com/ajax/libs/jquery/2.1.4/jquery.min.js" integrity="sha384-8gBf6Y4YYq7Jx97PIqmTwLPin4hxIzQw5aDmUg/DDhul9fFpbbLcLh3nTIIDJKhx" crossorigin="anonymous"></script>
  <script type="text/javascript" src="/assets/javascript/mobile-nav.js"></script>
  <script type="text/javascript" src="/assets/javascript/scroll-down.js"></script>
  <script src="/assets/javascript/satellite.js" type="text/javascript"></script>
  <script src="/guides/javascript/config.js" type="text/javascript"></script>
  <script src="/assets/javascript/search-filter.js" type="text/javascript"></script>
  <script src="/assets/javascript/guides-version-dropdown.js" type="text/javascript"></script>
  <script src="/assets/javascript/back-to-top.js" type="text/javascript"></script>
  <script src="/assets/javascript/clipboard.min.js" type="text/javascript"></script>
  <script src="/assets/javascript/copy.js" type="text/javascript"></script>
  <script src="/assets/javascript/asciidoc-tabs.js" type="text/javascript"></script>
</body>

</html>
