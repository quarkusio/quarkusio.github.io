<!DOCTYPE html>
<html lang="en">







<head>
  <title>Scheduler Reference Guide - Quarkus</title>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <meta http-equiv="Content-Security-Policy" content="
  connect-src 'self' https://dpm.demdex.net https://adobedc.demdex.net https://route-default-test-mscherer-matamo.apps.ospo-osci.z3b1.p1.openshiftapps.com/ https://search.quarkus.io https://smetrics.redhat.com; 
  script-src 'self' 'unsafe-inline' 'unsafe-eval'
      
      https://assets.adobedtm.com
      js.bizographics.com
      https://www.redhat.com
      https://static.redhat.com
      https://app.requestly.io/
      jsonip.com
      https://ajax.googleapis.com
      https://use.fontawesome.com
      http://www.youtube.com
      http://www.googleadservices.com
      https://googleads.g.doubleclick.net
      https://giscus.app
      https://route-default-test-mscherer-matamo.apps.ospo-osci.z3b1.p1.openshiftapps.com/
      https://app.mailjet.com;

  style-src 'self' https://fonts.googleapis.com https://use.fontawesome.com; 
  img-src 'self' * data:; 
  media-src 'self'; 
  frame-src https://redhat.demdex.net https://www.youtube.com https://embed.restream.io https://app.mailjet.com http://xy0p2.mjt.lu https://mj.quarkus.io https://giscus.app; 
  base-uri 'none'; 
  object-src 'none'; 
  form-action 'none'; 
  font-src 'self' https://use.fontawesome.com https://fonts.gstatic.com;" />
  <script id="adobe_dtm" src="https://www.redhat.com/dtm.js" type="text/javascript"></script>
  <script src="/assets/javascript/highlight.pack.js" type="text/javascript"></script>
  <META HTTP-EQUIV='X-XSS-Protection' CONTENT="1; mode=block">
  <META HTTP-EQUIV='X-Content-Type-Options' CONTENT="nosniff">
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <meta name="description" content="Quarkus: Supersonic Subatomic Java">
  <meta name="twitter:card" content="summary_large_image">
  <meta name="twitter:site" content="@QuarkusIO"> 
  <meta name="twitter:creator" content="@QuarkusIO">
  <meta property="og:url" content="https://quarkus.io/guides/scheduler-reference" />
  <meta property="og:title" content="Scheduler Reference Guide" />
  <meta property="og:description" content="Quarkus: Supersonic Subatomic Java" />
  <meta property="og:image" content="https://quarkus.io/assets/images/quarkus_card.png" />
  
  <link rel="canonical" href="https://quarkus.io/guides/scheduler-reference">
  <link rel="shortcut icon" type="image/png" href="/favicon.ico" >
  <link rel="stylesheet" href="/guides/stylesheet/config.css" />
  <link rel="stylesheet" href="/assets/css/main.css?2021-07-29" />
  <link rel="stylesheet" href="https://use.fontawesome.com/releases/v6.5.2/css/all.css" crossorigin="anonymous">
  <link rel="alternate" type="application/rss+xml"  href="/feed.xml" title="Quarkus">
  <script src="/assets/javascript/hl.js" type="text/javascript"></script>
  
  
  
  
  <link rel="alternate" hreflang="en" href="https://quarkus.io/guides/scheduler-reference" />
  
  <link rel="alternate" hreflang="pt-br" href="https://pt.quarkus.io/guides/scheduler-reference" />
  
  <link rel="alternate" hreflang="es" href="https://es.quarkus.io/guides/scheduler-reference" />
  
  <link rel="alternate" hreflang="zh" href="https://cn.quarkus.io/guides/scheduler-reference" />
  
  <link rel="alternate" hreflang="ja" href="https://ja.quarkus.io/guides/scheduler-reference" />
  
  <link rel="alternate" hreflang="x-default" href="https://quarkus.io/" />  
  <script src="/assets/javascript/tracking.js"></script>
  
  <script src="/assets/javascript/colormode.js" type="text/javascript"></script>

</head>

<body class="guides">

  
  <div class="nav-wrapper">
  <div class="grid-wrapper">
    <div class="width-12-12">
      <input type="checkbox" id="checkbox" />
      <nav id="main-nav" class="main-nav">
        <div class="logo-wrapper">
           <a href="/"><img src="/assets/images/quarkus_logo_horizontal_rgb_600px_reverse.png" class="project-logo" title="Quarkus"></a>
        </div>
    <label class="nav-toggle" for="checkbox">
      <i class="fa fa-bars"></i>
    </label>
    <ul id="menu" class="menu">
      <li class="dropdown">
        <span href="/about/">Why<i class="fas fa-chevron-down"></i></span>
        <ul class="submenu">
          <li><a href="/about" class="">WHAT IS QUARKUS?</a></li>
          <li><a href="/container-first" class="">CONTAINER FIRST</a></li>
          <li><a href="/continuum" class="">VERSATILITY</a></li>
          <li><a href="/developer-joy" class="">DEVELOPER JOY</a></li>
          <li><a href="/kubernetes-native" class="">KUBERNETES NATIVE</a></li>
          <li><a href="/standards" class="">STANDARDS</a></li>
        </ul>
      </li>
      <li class="dropdown">
        <span href="/learn/">Learn<i class="fas fa-chevron-down"></i></span>
        <ul class="submenu">
          <li><a href="/get-started" class="">GET STARTED</a></li>
          <li><a href="/guides" class="active">DOCUMENTATION</a></li>
          <li><a href="/qtips" class="">"Q" TIP VIDEOS</a></li>          
          <li><a href="/books" class="">BOOKS</a></li>
          </ul>
      </li>
      <li class="dropdown">
        <span href="https://quarkus.io/extensions/">Extensions<i class="fas fa-chevron-down"></i></span>
        <ul class="submenu">
          <!-- Note that quarkus.io is hardcoded here, because it is the only url which supports extensions -->
          <li><a href="https://quarkus.io/extensions/" class="">BROWSE EXTENSIONS</a></li>
          <li><a href="/faq/#what-is-a-quarkus-extension" class="">USE EXTENSIONS</a></li>
          <li><a href="/guides/writing-extensions" class="">CREATE EXTENSIONS</a></li>
          <li><a href="https://hub.quarkiverse.io" class="">SHARE EXTENSIONS</a></li>
        </ul>
      </li>
      <li class="dropdown">
        <span href="/community/">Community<i class="fas fa-chevron-down"></i></span>
        <ul class="submenu">
          <li><a href="/support/" class="">SUPPORT</a></li>
          <li><a href="/blog" class="">BLOG</a></li>
          <li><a href="/discussion" class="">DISCUSSION</a></li>
          <li><a href="/working-groups" class="">WORKING GROUPS</a></li>
          <li><a href="/insights" class="">PODCAST</a></li>
          <li><a href="/events" class="">EVENTS</a></li>
          <li><a href="/newsletter" class="">NEWSLETTER</a></li>
          <li><a href="https://github.com/orgs/quarkusio/projects/13/views/1" class="">ROADMAP</a></li>
          </ul>
      </li>
      <li>
        <a href="https://code.quarkus.io" class="button-cta secondary white">START CODING</a>
      </li>
      <li class="dropdown">
        <span href="/language/"><div class="fas fa-globe langicon"></div><i class="fas fa-chevron-down"></i></span>
        <ul class="submenu">
          <li><a href="https://quarkus.io/guides/scheduler-reference" >OFFICIAL (ENGLISH)</a></li>
          <li><a href="https://pt.quarkus.io/guides/scheduler-reference">PORTUGUÊS (BR)</a></li>
          <li><a href="https://es.quarkus.io/guides/scheduler-reference">ESPAÑOL</a></li>
          <li><a href="https://cn.quarkus.io/guides/scheduler-reference">简体中文</a></li>
          <li><a href="https://ja.quarkus.io/guides/scheduler-reference">日本語</a></li>
          </ul>
      </li>
      <li>
        <span href="#" class="modeswitcher" id='theme-toggle'><i class="fas fa-sun"></i><i class="fas fa-moon"></i><i class="fas fa-cog"></i></span>
      </li>
    </ul>
      </nav>
    </div>
  </div>
</div>

  <div class="content">
    







<section class="full-width-version-bg flexfilterbar guides">
  <div class="guideflexcontainer">
    <div class="docslink">
      <a class="returnlink" href="/guides/"> Back to Guides</a>
    </div>
    <div class="flexlabel">
      <label>By Version</label>
    </div>
    <div class="guidepulldown version">
    <select id="guide-version-dropdown">
      
        
        
        <option value="main" >Main - SNAPSHOT</option>
        
        
        
        <option value="latest" selected>3.16.2 - Latest</option>
        
        
        
        <option value="3.15" >3.15</option>
        
        
        
        <option value="3.8" >3.8</option>
        
        
        
        <option value="3.2" >3.2</option>
        
        
        
        <option value="2.16" >2.16</option>
        
        
        
        <option value="2.13" >2.13</option>
        </select>
    </div>
  </div>
</section>

<div class="guide">
  <div class="grid-wrapper">
    <div class="grid__item width-8-12 width-12-12-m">
      
      <a class="editlink" href="https://github.com/quarkusio/quarkus/edit/main/docs/src/main/asciidoc/scheduler-reference.adoc">Edit this Page</a>
      
      <h1 class="text-caps">Scheduler Reference Guide </h1>
      <div id="preamble">
<div class="sectionbody">
<div class="paragraph">
<p>Modern applications often need to run specific tasks periodically.
There are two scheduler extensions in Quarkus.
The <code>quarkus-scheduler</code> extension brings the API and a lightweight in-memory scheduler implementation.
The <code>quarkus-quartz</code> extension implements the API from the <code>quarkus-scheduler</code> extension and contains a scheduler implementation based on the Quartz library.
You will only need <code>quarkus-quartz</code> for more advanced scheduling use cases, such as persistent tasks and clustering.</p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
If you add the <code>quarkus-quartz</code> dependency to your project the lightweight scheduler implementation from the <code>quarkus-scheduler</code> extension is automatically disabled.
</td>
</tr>
</table>
</div>
</div>
</div>
<div class="sect1">
<h2 id="scheduled-methods"><a class="anchor" href="#scheduled-methods"></a>1. Scheduled Methods</h2>
<div class="sectionbody">
<div class="paragraph">
<p>A method annotated with <code>@io.quarkus.scheduler.Scheduled</code> is automatically scheduled for invocation.
A scheduled method must not be abstract or private.
It may be either static or non-static.
A scheduled method can be annotated with interceptor bindings, such as <code>@jakarta.transaction.Transactional</code> and <code>@org.eclipse.microprofile.metrics.annotation.Counted</code>.</p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
If there is a bean class that has no scope and declares at least one non-static method annotated with <code>@Scheduled</code> then <code>@Singleton</code> is used.
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>Furthermore, the annotated method must return <code>void</code> and either declare no parameters or one parameter of type <code>io.quarkus.scheduler.ScheduledExecution</code>.</p>
</div>
<div class="admonitionblock tip">
<table>
<tr>
<td class="icon">
<i class="fa icon-tip" title="Tip"></i>
</td>
<td class="content">
The annotation is repeatable so a single method could be scheduled multiple times.
</td>
</tr>
</table>
</div>
<div class="sect2">
<h3 id="inheritance-of-metadata"><a class="anchor" href="#inheritance-of-metadata"></a>1.1. Inheritance of metadata</h3>
<div class="paragraph">
<p>A subclass never inherits the metadata of a <code>@Scheduled</code> method declared on a superclass.
For example, suppose the class <code>org.amce.Foo</code> is extended by the class <code>org.amce.Bar</code>.
If <code>Foo</code> declares a non-static method annotated with <code>@Scheduled</code> then <code>Bar</code> does not inherit the metadata of the scheduled method.
In the following example, the <code>everySecond()</code> method is only invoked upon the instance of <code>Foo</code>.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-java hljs" data-lang="java">class Foo {

   @Scheduled(every = "1s")
   void everySecond() {
     // ..do something
   }
}

@Singleton
class Bar extends Foo {
}</code></pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="cdi-events"><a class="anchor" href="#cdi-events"></a>1.2. CDI events</h3>
<div class="paragraph">
<p>Some CDI events are fired synchronously and asynchronously when specific events occur.</p>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 50%;">
<col style="width: 50%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Type</th>
<th class="tableblock halign-left valign-top">Event description</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>io.quarkus.scheduler.SuccessfulExecution</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">An execution of a scheduled job completed successfully.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>io.quarkus.scheduler.FailedExecution</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">An execution of a scheduled job completed with an exception.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>io.quarkus.scheduler.SkippedExecution</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">An execution of a scheduled job was skipped.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>io.quarkus.scheduler.SchedulerPaused</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">The scheduler was paused.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>io.quarkus.scheduler.SchedulerResumed</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">The scheduler was resumed.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>io.quarkus.scheduler.ScheduledJobPaused</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">A scheduled job was paused.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>io.quarkus.scheduler.ScheduledJobResumed</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">A scheduled job was resumed.</p></td>
</tr>
</tbody>
</table>
</div>
<div class="sect2">
<h3 id="triggers"><a class="anchor" href="#triggers"></a>1.3. Triggers</h3>
<div class="paragraph">
<p>A trigger is defined either by the <code>@Scheduled#cron()</code> or by the <code>@Scheduled#every()</code> attribute.
If both are specified, the cron expression takes precedence.
If none is specified, the build fails with an <code>IllegalStateException</code>.</p>
</div>
<div class="sect3">
<h4 id="cron"><a class="anchor" href="#cron"></a>1.3.1. CRON</h4>
<div class="paragraph">
<p>A CRON trigger is defined by a cron-like expression.
For example <code>"0 15 10 * * ?"</code> fires at 10:15am every day.</p>
</div>
<div class="listingblock">
<div class="title">CRON Trigger Example</div>
<div class="content">
<pre class="highlightjs highlight"><code class="language-java hljs" data-lang="java">@Scheduled(cron = "0 15 10 * * ?")
void fireAt1015AmEveryDay() { }</code></pre>
</div>
</div>
<div class="paragraph">
<p>The syntax used in CRON expressions is controlled by the <code>quarkus.scheduler.cron-type</code> property.
The values can be <code>cron4j</code>, <code>quartz</code>, <code>unix</code> and <code>spring</code>.
<code>quartz</code> is used by default.</p>
</div>
<div class="paragraph">
<p>The <code>cron</code> attribute supports <a href="config-reference#property-expressions">Property Expressions</a> including default values and nested
Property Expressions. (Note that "{property.path}" style expressions are still supported but don&#8217;t offer the full functionality of Property Expressions.)</p>
</div>
<div class="listingblock">
<div class="title">CRON Config Property Example</div>
<div class="content">
<pre class="highlightjs highlight"><code class="language-java hljs" data-lang="java">@Scheduled(cron = "${myMethod.cron.expr}")
void myMethod() { }</code></pre>
</div>
</div>
<div class="paragraph">
<p>If you wish to disable a specific scheduled method, you can set its cron expression to <code>"off"</code> or <code>"disabled"</code>.</p>
</div>
<div class="listingblock">
<div class="title">application.properties</div>
<div class="content">
<pre class="highlightjs highlight"><code class="language-properties hljs" data-lang="properties">myMethod.cron.expr=disabled</code></pre>
</div>
</div>
<div class="paragraph">
<p>Property Expressions allow you to define a default value that is used, if the property is not configured.</p>
</div>
<div class="listingblock">
<div class="title">CRON Config Property Example with default <code>0 0 15 ? * MON *</code></div>
<div class="content">
<pre class="highlightjs highlight"><code class="language-java hljs" data-lang="java">@Scheduled(cron = "${myMethod.cron.expr:0 0 15 ? * MON *}")
void myMethod() { }</code></pre>
</div>
</div>
<div class="paragraph">
<p>If the property <code>myMethod.cron.expr</code> is undefined or <code>null</code>, the default value (<code>0 0 15 ? * MON *</code>) will be used.</p>
</div>
<div class="sect4">
<h5 id="time-zones"><a class="anchor" href="#time-zones"></a>1.3.1.1. Time Zones</h5>
<div class="paragraph">
<p>The cron expression is evaluated in the context of the default time zone.
However, it is also possible to associate the cron expression with a specific time zone.</p>
</div>
<div class="listingblock">
<div class="title">Time Zone Example</div>
<div class="content">
<pre class="highlightjs highlight"><code class="language-java hljs" data-lang="java">@Scheduled(cron = "0 15 10 * * ?", timeZone = "Europe/Prague") <i class="conum" data-value="1"></i><b>(1)</b>
void myMethod() { }</code></pre>
</div>
</div>
<div class="colist arabic">
<table>
<tr>
<td><i class="conum" data-value="1"></i><b>1</b></td>
<td>The time zone ID is parsed using <code>java.time.ZoneId#of(String)</code>.</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>The <code>timeZone</code> attribute supports <a href="config-reference#property-expressions">Property Expressions</a> including default values and nested
Property Expressions.</p>
</div>
<div class="listingblock">
<div class="title">Time Zone Configuration Property Example</div>
<div class="content">
<pre class="highlightjs highlight"><code class="language-java hljs" data-lang="java">@Scheduled(cron = "0 15 10 * * ?", timeZone = "{myMethod.timeZone}")
void myMethod() { }</code></pre>
</div>
</div>
</div>
</div>
<div class="sect3">
<h4 id="intervals"><a class="anchor" href="#intervals"></a>1.3.2. Intervals</h4>
<div class="paragraph">
<p>An interval trigger defines a period between invocations.
The period expression is based on the ISO-8601 duration format <code>PnDTnHnMn.nS</code> and the value of <code>@Scheduled#every()</code> is parsed with <code>java.time.Duration#parse(CharSequence)</code>.
However, if an expression starts with a digit and ends with <code>d</code>, <code>P</code> prefix will be added automatically. If the expression only starts with a digit, <code>PT</code> prefix is added automatically.
So for example, <code>15m</code> can be used instead of <code>PT15M</code> and is parsed as "15 minutes".</p>
</div>
<div class="listingblock">
<div class="title">Interval Trigger Example</div>
<div class="content">
<pre class="highlightjs highlight"><code class="language-java hljs" data-lang="java">@Scheduled(every = "15m")
void every15Mins() { }</code></pre>
</div>
</div>
<div class="admonitionblock warning">
<table>
<tr>
<td class="icon">
<i class="fa icon-warning" title="Warning"></i>
</td>
<td class="content">
A value less than one second may not be supported by the underlying scheduler implementation. In that case a warning message is logged during build and application start.
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>The <code>every</code> attribute supports <a href="config-reference#property-expressions">Property Expressions</a> including default values and nested
Property Expressions. (Note that <code>"{property.path}"</code> style expressions are still supported but don&#8217;t offer the full functionality of Property Expressions.)</p>
</div>
<div class="listingblock">
<div class="title">Interval Config Property Example</div>
<div class="content">
<pre class="highlightjs highlight"><code class="language-java hljs" data-lang="java">@Scheduled(every = "${myMethod.every.expr}")
void myMethod() { }</code></pre>
</div>
</div>
<div class="paragraph">
<p>Intervals can be disabled by setting their value to <code>"off"</code> or <code>"disabled"</code>.
So for example a Property Expression with the default value <code>"off"</code> can be used to disable the trigger if its Config Property has not been set.</p>
</div>
<div class="listingblock">
<div class="title">Interval Config Property Example with a Default Value</div>
<div class="content">
<pre class="highlightjs highlight"><code class="language-java hljs" data-lang="java">@Scheduled(every = "${myMethod.every.expr:off}")
void myMethod() { }</code></pre>
</div>
</div>
</div>
</div>
<div class="sect2">
<h3 id="identity"><a class="anchor" href="#identity"></a>1.4. Identity</h3>
<div class="paragraph">
<p>By default, a unique identifier is generated for each scheduled method.
This identifier is used in log messages, during debugging and as a parameter of some <code>io.quarkus.scheduler.Scheduler</code> methods.
Therefore, a possibility to specify an explicit identifier may come in handy.</p>
</div>
<div class="listingblock">
<div class="title">Identity Example</div>
<div class="content">
<pre class="highlightjs highlight"><code class="language-java hljs" data-lang="java">@Scheduled(identity = "myScheduledMethod")
void myMethod() { }</code></pre>
</div>
</div>
<div class="paragraph">
<p>The <code>identity</code> attribute supports <a href="config-reference#property-expressions">Property Expressions</a> including default values and nested
Property Expressions. (Note that <code>"{property.path}"</code> style expressions are still supported but don&#8217;t offer the full functionality of Property Expressions.)</p>
</div>
<div class="listingblock">
<div class="title">Interval Config Property Example</div>
<div class="content">
<pre class="highlightjs highlight"><code class="language-java hljs" data-lang="java">@Scheduled(identity = "${myMethod.identity.expr}")
void myMethod() { }</code></pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="delayed_start"><a class="anchor" href="#delayed_start"></a>1.5. Delayed Start of a Trigger</h3>
<div class="paragraph">
<p><code>@Scheduled</code> provides two ways to delay the time a trigger should start firing at.</p>
</div>
<div class="paragraph">
<p><code>@Scheduled#delay()</code> and <code>@Scheduled#delayUnit()</code> form the initial delay together.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-java hljs" data-lang="java">@Scheduled(every = "2s", delay = 2, delayUnit = TimeUnit.HOUR) <i class="conum" data-value="1"></i><b>(1)</b>
void everyTwoSeconds() { }</code></pre>
</div>
</div>
<div class="colist arabic">
<table>
<tr>
<td><i class="conum" data-value="1"></i><b>1</b></td>
<td>The trigger fires for the first time two hours after the application start.</td>
</tr>
</table>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
The final value is always rounded to full second.
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p><code>@Scheduled#delayed()</code> is a text alternative to the properties above.
The period expression is based on the ISO-8601 duration format <code>PnDTnHnMn.nS</code> and the value is parsed with <code>java.time.Duration#parse(CharSequence)</code>.
However, if an expression starts with a digit and ends with <code>d</code>, <code>P</code> prefix will be added automatically. If the expression only starts with a digit, <code>PT</code> prefix is added automatically.
So for example, <code>15s</code> can be used instead of <code>PT15S</code> and is parsed as "15 seconds".</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-java hljs" data-lang="java">@Scheduled(every = "2s", delayed = "2h")
void everyTwoSeconds() { }</code></pre>
</div>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
If <code>@Scheduled#delay()</code> is set to a value greater than zero the value of <code>@Scheduled#delayed()</code> is ignored.
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>The main advantage over <code>@Scheduled#delay()</code> is that the value is configurable.
The <code>delay</code> attribute supports <a href="config-reference#property-expressions">Property Expressions</a> including default values and nested Property Expressions.
(Note that <code>"{property.path}"</code> style expressions are still supported but don&#8217;t offer the full functionality of Property Expressions.)</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-java hljs" data-lang="java">@Scheduled(every = "2s", delayed = "${myMethod.delay.expr}") <i class="conum" data-value="1"></i><b>(1)</b>
void everyTwoSeconds() { }</code></pre>
</div>
</div>
<div class="colist arabic">
<table>
<tr>
<td><i class="conum" data-value="1"></i><b>1</b></td>
<td>The config property <code>myMethod.delay.expr</code> is used to set the delay.</td>
</tr>
</table>
</div>
</div>
<div class="sect2">
<h3 id="delayed_execution"><a class="anchor" href="#delayed_execution"></a>1.6. Delayed Execution</h3>
<div class="paragraph">
<p><code>@Scheduled#executionMaxDelay()</code> can be set to delay each execution of a scheduled method.
The value represents the maximum delay between the activation of the trigger and the execution of the scheduled method.
The actual delay is a randomized number between 0 and the maximum specified delay.</p>
</div>
<div class="paragraph">
<p>The value is parsed with <code>DurationConverter#parseDuration(String)</code>.
It can be a property expression, in which case, the scheduler attempts to use the configured value instead: <code>@Scheduled(executionMaxDelay = "${myJob.maxDelay}")</code>.
Additionally, the property expression can specify a default value:
<code>@Scheduled(executionMaxDelay = "${myJob.maxDelay}:500ms}")</code>.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-java hljs" data-lang="java">@Scheduled(every = "2s", executionMaxDelay = "500ms") <i class="conum" data-value="1"></i><b>(1)</b>
void everyTwoSeconds() { }</code></pre>
</div>
</div>
<div class="colist arabic">
<table>
<tr>
<td><i class="conum" data-value="1"></i><b>1</b></td>
<td>The delay will be a value between 0 and 500 milliseconds. As a result, the period between to <code>everyTwoSeconds()</code> executions will be roughly between one and a half and two and a half seconds.</td>
</tr>
</table>
</div>
</div>
<div class="sect2">
<h3 id="concurrent_execution"><a class="anchor" href="#concurrent_execution"></a>1.7. Concurrent Execution</h3>
<div class="paragraph">
<p>By default, a scheduled method can be executed concurrently.
Nevertheless, it is possible to specify the strategy to handle concurrent executions via <code>@Scheduled#concurrentExecution()</code>.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-java hljs" data-lang="java">import static io.quarkus.scheduler.Scheduled.ConcurrentExecution.SKIP;

@Scheduled(every = "1s", concurrentExecution = SKIP) <i class="conum" data-value="1"></i><b>(1)</b>
void nonConcurrent() {
  // we can be sure that this method is never executed concurrently
}</code></pre>
</div>
</div>
<div class="colist arabic">
<table>
<tr>
<td><i class="conum" data-value="1"></i><b>1</b></td>
<td>Concurrent executions are skipped.</td>
</tr>
</table>
</div>
<div class="admonitionblock tip">
<table>
<tr>
<td class="icon">
<i class="fa icon-tip" title="Tip"></i>
</td>
<td class="content">
A CDI event of type <code>io.quarkus.scheduler.SkippedExecution</code> is fired when an execution of a scheduled method is skipped.
</td>
</tr>
</table>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
Note that only executions within the same application instance are considered. This feature is not intended to work across the cluster.
</td>
</tr>
</table>
</div>
</div>
<div class="sect2">
<h3 id="conditional_execution"><a class="anchor" href="#conditional_execution"></a>1.8. Conditional Execution</h3>
<div class="paragraph">
<p>You can define the logic to skip any execution of a scheduled method via <code>@Scheduled#skipExecutionIf()</code>.
The specified class must implement <code>io.quarkus.scheduler.Scheduled.SkipPredicate</code> and the execution is skipped if the result of the <code>test()</code> method is <code>true</code>.
The class must either represent a CDI bean or declare a public no-args constructor.
In case of CDI, there must be exactly one bean that has the specified class in its set of bean types, otherwise the build fails.
Furthermore, the scope of the bean must be active during execution of the job.
If the scope is <code>@Dependent</code> then the bean instance belongs exclusively to the specific scheduled method and is destroyed when the application is shut down.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-java hljs" data-lang="java">class Jobs {

   @Scheduled(every = "1s", skipExecutionIf = MyPredicate.class) <i class="conum" data-value="1"></i><b>(1)</b>
   void everySecond() {
     // do something every second...
   }
}

@Singleton <i class="conum" data-value="2"></i><b>(2)</b>
class MyPredicate implements SkipPredicate {

   @Inject
   MyService service;

   boolean test(ScheduledExecution execution) {
       return !service.isStarted(); <i class="conum" data-value="3"></i><b>(3)</b>
   }
}</code></pre>
</div>
</div>
<div class="colist arabic">
<table>
<tr>
<td><i class="conum" data-value="1"></i><b>1</b></td>
<td>A bean instance of <code>MyPredicate.class</code> is used to evaluate whether an execution should be skipped. There must be exactly one bean that has the specified class in its set of bean types, otherwise the build fails.</td>
</tr>
<tr>
<td><i class="conum" data-value="2"></i><b>2</b></td>
<td>The scope of the bean must be active during execution.</td>
</tr>
<tr>
<td><i class="conum" data-value="3"></i><b>3</b></td>
<td><code>Jobs.everySecond()</code> is skipped until <code>MyService.isStarted()</code> returns <code>true</code>.</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>Note that this is an equivalent of the following code:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-java hljs" data-lang="java">class Jobs {

   @Inject
   MyService service;

   @Scheduled(every = "1s")
   void everySecond() {
     if (service.isStarted()) {
        // do something every second...
     }
   }
}</code></pre>
</div>
</div>
<div class="paragraph">
<p>The main idea is to keep the logic to skip the execution outside the scheduled business methods so that it can be reused and refactored easily.</p>
</div>
<div class="admonitionblock tip">
<table>
<tr>
<td class="icon">
<i class="fa icon-tip" title="Tip"></i>
</td>
<td class="content">
A CDI event of type <code>io.quarkus.scheduler.SkippedExecution</code> is fired when an execution of a scheduled method is skipped.
</td>
</tr>
</table>
</div>
<div class="admonitionblock tip">
<table>
<tr>
<td class="icon">
<i class="fa icon-tip" title="Tip"></i>
</td>
<td class="content">
To skip the scheduled executions while the application is starting up/shutting down, you can make use of the <code>io.quarkus.scheduler.Scheduled.ApplicationNotRunning</code> skip predicate.
</td>
</tr>
</table>
</div>
</div>
<div class="sect2">
<h3 id="non-blocking-methods"><a class="anchor" href="#non-blocking-methods"></a>1.9. Non-blocking Methods</h3>
<div class="paragraph">
<p>By default, a scheduled method is executed on the main executor for blocking tasks.
As a result, a technology that is designed to run on a Vert.x event loop (such as Hibernate Reactive) cannot be used inside the method body.
For this reason, a scheduled method that returns <code>java.util.concurrent.CompletionStage&lt;Void&gt;</code> or <code>io.smallrye.mutiny.Uni&lt;Void&gt;</code>, or is annotated with <code>@io.smallrye.common.annotation.NonBlocking</code> is executed on the Vert.x event loop instead.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-java hljs" data-lang="java">class Jobs {

   @Scheduled(every = "1s")
   Uni&lt;Void&gt; everySecond() { <i class="conum" data-value="1"></i><b>(1)</b>
     // ...do something async
   }
}</code></pre>
</div>
</div>
<div class="colist arabic">
<table>
<tr>
<td><i class="conum" data-value="1"></i><b>1</b></td>
<td>The return type <code>Uni&lt;Void&gt;</code> instructs the scheduler to execute the method on the Vert.x event loop.</td>
</tr>
</table>
</div>
</div>
<div class="sect2">
<h3 id="how-to-use-multiple-scheduler-implementations"><a class="anchor" href="#how-to-use-multiple-scheduler-implementations"></a>1.10. How to use multiple scheduler implementations</h3>
<div class="paragraph">
<p>In some cases, it might be useful to choose a scheduler implementation used to execute a scheduled method.
However, only one <code>Scheduler</code> implementation is used for all scheduled methods by default.
For example, the <code>quarkus-quartz</code> extension provides an implementation that supports clustering but it also removes the simple in-memory implementation from the game.
Now, if clustering is enabled then it&#8217;s not possible to define a scheduled method that would be executed locally on a single node.
Nevertheless, if you set the <code>quarkus.scheduler.use-composite-scheduler</code> config property to <code>true</code> then a composite <code>Scheduler</code> is used instead.
This means that multiple scheduler implementations are kept running side by side.
Furthermore, it&#8217;s possible to chose a specific implementation used to execute a scheduled method using <code>@Scheduled#executeWith()</code>.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-java hljs" data-lang="java">class Jobs {

   @Scheduled(cron = "0 15 10 * * ?") <i class="conum" data-value="1"></i><b>(1)</b>
   void fireAt10AmEveryDay() { }

   @Scheduled(every = "1s", executeWith = Scheduled.SIMPLE) <i class="conum" data-value="2"></i><b>(2)</b>
   void everySecond() { }
}</code></pre>
</div>
</div>
<div class="colist arabic">
<table>
<tr>
<td><i class="conum" data-value="1"></i><b>1</b></td>
<td>If the <code>quarkus-quartz</code> extension is present then this method will be executed with the Quartz-specific scheduler.</td>
</tr>
<tr>
<td><i class="conum" data-value="2"></i><b>2</b></td>
<td>If <code>quarkus.scheduler.use-composite-scheduler=true</code> is set then this method will be executed with the simple in-memory implementation provided by the <code>quarkus-scheduler</code> extension.</td>
</tr>
</table>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="scheduler"><a class="anchor" href="#scheduler"></a>2. Scheduler</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Quarkus provides a built-in bean of type <code>io.quarkus.scheduler.Scheduler</code> that can be injected and used to pause/resume the scheduler and individual scheduled methods identified by a specific <code>Scheduled#identity()</code>.</p>
</div>
<div class="listingblock">
<div class="title">Scheduler Injection Example</div>
<div class="content">
<pre class="highlightjs highlight"><code class="language-java hljs" data-lang="java">import io.quarkus.scheduler.Scheduler;

class MyService {

   @Inject
   Scheduler scheduler;

   void ping() {
      scheduler.pause(); <i class="conum" data-value="1"></i><b>(1)</b>
      scheduler.pause("myIdentity"); <i class="conum" data-value="2"></i><b>(2)</b>
      if (scheduler.isRunning()) {
         throw new IllegalStateException("This should never happen!");
      }
      scheduler.resume("myIdentity"); <i class="conum" data-value="3"></i><b>(3)</b>
      scheduler.resume(); <i class="conum" data-value="4"></i><b>(4)</b>
      scheduler.getScheduledJobs(); <i class="conum" data-value="5"></i><b>(5)</b>
      Trigger jobTrigger = scheduler.getScheduledJob("myIdentity"); <i class="conum" data-value="6"></i><b>(6)</b>
      if (jobTrigger != null &amp;&amp; jobTrigger.isOverdue()){ <i class="conum" data-value="7"></i><b>(7)</b>
        // the job is late to the party.
      }
   }
}</code></pre>
</div>
</div>
<div class="colist arabic">
<table>
<tr>
<td><i class="conum" data-value="1"></i><b>1</b></td>
<td>Pause all triggers.</td>
</tr>
<tr>
<td><i class="conum" data-value="2"></i><b>2</b></td>
<td>Pause a specific scheduled method by its identity</td>
</tr>
<tr>
<td><i class="conum" data-value="3"></i><b>3</b></td>
<td>Resume a specific scheduled method by its identity</td>
</tr>
<tr>
<td><i class="conum" data-value="4"></i><b>4</b></td>
<td>Resume the scheduler.</td>
</tr>
<tr>
<td><i class="conum" data-value="5"></i><b>5</b></td>
<td>List all jobs in the scheduler.</td>
</tr>
<tr>
<td><i class="conum" data-value="6"></i><b>6</b></td>
<td>Get Trigger metadata for a specific scheduled job by its identity.</td>
</tr>
<tr>
<td><i class="conum" data-value="7"></i><b>7</b></td>
<td>You can configure the grace period for isOverdue() with quarkus.scheduler.overdue-grace-period</td>
</tr>
</table>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
A CDI event is fired synchronously and asynchronously when the scheduler or a scheduled job is paused/resumed. The payload is <code>io.quarkus.scheduler.SchedulerPaused</code>, <code>io.quarkus.scheduler.SchedulerResumed</code>, <code>io.quarkus.scheduler.ScheduledJobPaused</code> and <code>io.quarkus.scheduler.ScheduledJobResumed</code> respectively.
</td>
</tr>
</table>
</div>
</div>
</div>
<div class="sect1">
<h2 id="programmatic_scheduling"><a class="anchor" href="#programmatic_scheduling"></a>3. Programmatic Scheduling</h2>
<div class="sectionbody">
<div class="paragraph">
<p>An injected <code>io.quarkus.scheduler.Scheduler</code> can be also used to schedule a job programmatically.</p>
</div>
<div class="listingblock">
<div class="title">Programmatic Scheduling</div>
<div class="content">
<pre class="highlightjs highlight"><code class="language-java hljs" data-lang="java">import io.quarkus.scheduler.Scheduler;

@ApplicationScoped
class MyJobs {

    @Inject
    Scheduler scheduler;

    void addMyJob() { <i class="conum" data-value="1"></i><b>(1)</b>
        scheduler.newJob("myJob")
            .setCron("0/5 * * * * ?")
            .setTask(executionContext -&gt; { <i class="conum" data-value="2"></i><b>(2)</b>
                // do something important every 5 seconds
            })
            .schedule(); <i class="conum" data-value="3"></i><b>(3)</b>
    }

    void removeMyJob() {
        scheduler.unscheduleJob("myJob"); <i class="conum" data-value="4"></i><b>(4)</b>
    }
}</code></pre>
</div>
</div>
<div class="colist arabic">
<table>
<tr>
<td><i class="conum" data-value="1"></i><b>1</b></td>
<td>This is a programmatic alternative to a method annotated with <code>@Scheduled(identity = "myJob", cron = "0/5 * * * * ?")</code>.</td>
</tr>
<tr>
<td><i class="conum" data-value="2"></i><b>2</b></td>
<td>The business logic is defined in a callback.</td>
</tr>
<tr>
<td><i class="conum" data-value="3"></i><b>3</b></td>
<td>The job is scheduled once the <code>JobDefinition#schedule()</code> method is called.</td>
</tr>
<tr>
<td><i class="conum" data-value="4"></i><b>4</b></td>
<td>A job that was added programmatically can be also removed.</td>
</tr>
</table>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
By default, the scheduler is not started unless a <code>@Scheduled</code> business method is found. You may need to force the start of the scheduler for "pure" programmatic scheduling via <code>quarkus.scheduler.start-mode=forced</code>.
</td>
</tr>
</table>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
If the <a href="quartz">Quartz extension</a> is present and the DB store type is used then it&#8217;s not possible to pass a task instance to the job definition and a task class must be used instead. The Quartz API can be also used to schedule a job programmatically.
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>In certain cases, a more fine-grained approach might be needed which is why Quarkus also exposes <code>java.util.concurrent.ScheduledExecutorService</code> and <code>java.util.concurrent.ExecutorService</code> that can be injected as CDI beans.
However, these executors are used by other Quarkus extensions and therefore should be approached with caution. Furthermore, users are never allowed to shut these executors down manually.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-java hljs" data-lang="java">class JobScheduler {

   @Inject
   ScheduledExecutorService executor;

   void everySecondWithDelay() {
       Runnable myRunnable = createMyRunnable();
       executor.scheduleAtFixedRate(myRunnable, 3, 1, TimeUnit.SECONDS);
   }
}</code></pre>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="scheduled-methods-and-testing"><a class="anchor" href="#scheduled-methods-and-testing"></a>4. Scheduled Methods and Testing</h2>
<div class="sectionbody">
<div class="paragraph">
<p>It is often desirable to disable the scheduler when running the tests.
The scheduler can be disabled through the runtime config property <code>quarkus.scheduler.enabled</code>.
If set to <code>false</code> the scheduler is not started even though the application contains scheduled methods.
You can even disable the scheduler for particular <a href="getting-started-testing#testing_different_profiles">Test Profiles</a>.</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="metrics"><a class="anchor" href="#metrics"></a>5. Metrics</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Some basic metrics are published out of the box if <code>quarkus.scheduler.metrics.enabled</code> is set to <code>true</code> and a metrics extension is present.</p>
</div>
<div class="paragraph">
<p>If the <a href="telemetry-micrometer">Micrometer extension</a> is present, then a <code>@io.micrometer.core.annotation.Timed</code> interceptor binding is added to all <code>@Scheduled</code> methods automatically (unless it&#8217;s already present) and a <code>io.micrometer.core.instrument.Timer</code> with name <code>scheduled.methods</code> and a <code>io.micrometer.core.instrument.LongTaskTimer</code> with name <code>scheduled.methods.running</code> are registered. The fully qualified name of the declaring class and the name of a <code>@Scheduled</code> method are used as tags.</p>
</div>
<div class="paragraph">
<p>If the <a href="smallrye-metrics">SmallRye Metrics extension</a> is present, then a <code>@org.eclipse.microprofile.metrics.annotation.Timed</code>  interceptor binding is added to all <code>@Scheduled</code> methods automatically (unless it&#8217;s already present) and a <code>org.eclipse.microprofile.metrics.Timer</code> is created for each <code>@Scheduled</code> method. The name consists of the fully qualified name of the declaring class and the name of a <code>@Scheduled</code> method. The timer has a tag <code>scheduled=true</code>.</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="opentelemetry-tracing"><a class="anchor" href="#opentelemetry-tracing"></a>6. OpenTelemetry Tracing</h2>
<div class="sectionbody">
<div class="paragraph">
<p>If <code>quarkus.scheduler.tracing.enabled</code> is set to <code>true</code> and the <a href="opentelemetry">OpenTelemetry extension</a> is present then every job execution, either defined with the <code>@Scheduled</code> annotation or scheduled programmatically, automatically creates a span named after the job&#8217;s <a href="#identity">Identity</a>.</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="virtual_threads"><a class="anchor" href="#virtual_threads"></a>7. Run @Scheduled methods on virtual threads</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Methods annotated with <code>@Scheduled</code> can also be annotated with <code>@RunOnVirtualThread</code>.
In this case, the method is invoked on a virtual thread.</p>
</div>
<div class="paragraph">
<p>The method must return <code>void</code> and your Java runtime must provide support for virtual threads.
Read <a href="./virtual-threads">the virtual thread guide</a> for more details.</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="configuration-reference"><a class="anchor" href="#configuration-reference"></a>8. Configuration Reference</h2>
<div class="sectionbody">
<div class="paragraph">
<p><span class="icon"><i class="fa fa-lock" title="Fixed at build time"></i></span> Configuration property fixed at build time - All other configuration properties are overridable at runtime <input type="search" id="config-search-0" placeholder="FILTER CONFIGURATION" disabled></p>
</div>
<table class="tableblock frame-all grid-all stretch configuration-reference searchable configuration-reference-all-rows">
<colgroup>
<col style="width: 80%;">
<col style="width: 10%;">
<col style="width: 10%;">
</colgroup>
<tbody>
<tr>
<th class="tableblock halign-left valign-top"><p class="tableblock"><span class="header-title">Configuration property</span></p></th>
<th class="tableblock halign-left valign-middle"><p class="tableblock">Type</p></th>
<th class="tableblock halign-left valign-middle"><p class="tableblock">Default</p></th>
</tr>
<tr class="row-collapsible row-collapsed row-with-desc odd">
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><span class="icon"><i class="fa fa-lock" title="Fixed at build time"></i></span> <a id="quarkus-scheduler_quarkus-scheduler-cron-type"></a> <span class="property-path"><a href="#quarkus-scheduler_quarkus-scheduler-cron-type"><code>quarkus.scheduler.cron-type</code></a></span></p>
</div>
<div id="conf-collapsible-desc-1" class="openblock description description-collapsed">
<div class="content">
<div class="paragraph">
<p>The syntax used in CRON expressions.</p>
</div>
<div class="paragraph">
<p>Environment variable: <code id="env-var-7809">QUARKUS_SCHEDULER_CRON_TYPE</code><button class="btn-copy fa fa-clipboard inline-btn-copy" data-clipboard-action="copy" data-clipboard-target="#env-var-7809" title="Copy to clipboard" do-not-collapse="true"></button></p>
</div>
</div>
</div>
<div class="paragraph description-decoration">
<p><i class="fa fa-chevron-down"></i><span>Show more</span></p>
</div></div></td>
<td class="tableblock halign-left valign-middle"><div class="content"><div class="paragraph">
<p><code>cron4j</code>, <code>quartz</code>, <code>unix</code>, <code>spring</code>, <code>spring53</code></p>
</div></div></td>
<td class="tableblock halign-left valign-middle"><p class="tableblock"><code>quartz</code></p></td>
</tr>
<tr class="row-collapsible row-collapsed row-with-desc">
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><span class="icon"><i class="fa fa-lock" title="Fixed at build time"></i></span> <a id="quarkus-scheduler_quarkus-scheduler-metrics-enabled"></a> <span class="property-path"><a href="#quarkus-scheduler_quarkus-scheduler-metrics-enabled"><code>quarkus.scheduler.metrics.enabled</code></a></span></p>
</div>
<div id="conf-collapsible-desc-2" class="openblock description description-collapsed">
<div class="content">
<div class="paragraph">
<p>Scheduled task metrics will be enabled if a metrics extension is present and this value is true.</p>
</div>
<div class="paragraph">
<p>Environment variable: <code id="env-var-7810">QUARKUS_SCHEDULER_METRICS_ENABLED</code><button class="btn-copy fa fa-clipboard inline-btn-copy" data-clipboard-action="copy" data-clipboard-target="#env-var-7810" title="Copy to clipboard" do-not-collapse="true"></button></p>
</div>
</div>
</div>
<div class="paragraph description-decoration">
<p><i class="fa fa-chevron-down"></i><span>Show more</span></p>
</div></div></td>
<td class="tableblock halign-left valign-middle"><p class="tableblock">boolean</p></td>
<td class="tableblock halign-left valign-middle"><p class="tableblock"><code>false</code></p></td>
</tr>
<tr class="row-collapsible row-collapsed row-with-desc odd">
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><span class="icon"><i class="fa fa-lock" title="Fixed at build time"></i></span> <a id="quarkus-scheduler_quarkus-scheduler-tracing-enabled"></a> <span class="property-path"><a href="#quarkus-scheduler_quarkus-scheduler-tracing-enabled"><code>quarkus.scheduler.tracing.enabled</code></a></span></p>
</div>
<div id="conf-collapsible-desc-3" class="openblock description description-collapsed">
<div class="content">
<div class="paragraph">
<p>Controls whether tracing is enabled. If set to true and the OpenTelemetry extension is present, tracing will be enabled, creating automatic Spans for each scheduled task.</p>
</div>
<div class="paragraph">
<p>Environment variable: <code id="env-var-7811">QUARKUS_SCHEDULER_TRACING_ENABLED</code><button class="btn-copy fa fa-clipboard inline-btn-copy" data-clipboard-action="copy" data-clipboard-target="#env-var-7811" title="Copy to clipboard" do-not-collapse="true"></button></p>
</div>
</div>
</div>
<div class="paragraph description-decoration">
<p><i class="fa fa-chevron-down"></i><span>Show more</span></p>
</div></div></td>
<td class="tableblock halign-left valign-middle"><p class="tableblock">boolean</p></td>
<td class="tableblock halign-left valign-middle"><p class="tableblock"><code>false</code></p></td>
</tr>
<tr class="row-collapsible row-collapsed row-with-desc">
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><span class="icon"><i class="fa fa-lock" title="Fixed at build time"></i></span> <a id="quarkus-scheduler_quarkus-scheduler-use-composite-scheduler"></a> <span class="property-path"><a href="#quarkus-scheduler_quarkus-scheduler-use-composite-scheduler"><code>quarkus.scheduler.use-composite-scheduler</code></a></span></p>
</div>
<div id="conf-collapsible-desc-4" class="openblock description description-collapsed">
<div class="content">
<div class="paragraph">
<p>By default, only one <code>Scheduler</code> implementation is used. If set to <code>true</code> then a composite <code>Scheduler</code> that delegates to all running implementations is used.</p>
</div>
<div class="paragraph">
<p>Scheduler implementations will be started depending on the value of <code>quarkus.scheduler.start-mode</code>, i.e. the scheduler is not started unless a relevant <code>io.quarkus.scheduler.Scheduled</code> business method is found.</p>
</div>
<div class="paragraph">
<p>Environment variable: <code id="env-var-7812">QUARKUS_SCHEDULER_USE_COMPOSITE_SCHEDULER</code><button class="btn-copy fa fa-clipboard inline-btn-copy" data-clipboard-action="copy" data-clipboard-target="#env-var-7812" title="Copy to clipboard" do-not-collapse="true"></button></p>
</div>
</div>
</div>
<div class="paragraph description-decoration">
<p><i class="fa fa-chevron-down"></i><span>Show more</span></p>
</div></div></td>
<td class="tableblock halign-left valign-middle"><p class="tableblock">boolean</p></td>
<td class="tableblock halign-left valign-middle"><p class="tableblock"><code>false</code></p></td>
</tr>
<tr class="row-collapsible row-collapsed row-with-desc odd">
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><a id="quarkus-scheduler_quarkus-scheduler-enabled"></a> <span class="property-path"><a href="#quarkus-scheduler_quarkus-scheduler-enabled"><code>quarkus.scheduler.enabled</code></a></span></p>
</div>
<div id="conf-collapsible-desc-5" class="openblock description description-collapsed">
<div class="content">
<div class="paragraph">
<p>If schedulers are enabled.</p>
</div>
<div class="paragraph">
<p>Environment variable: <code id="env-var-7813">QUARKUS_SCHEDULER_ENABLED</code><button class="btn-copy fa fa-clipboard inline-btn-copy" data-clipboard-action="copy" data-clipboard-target="#env-var-7813" title="Copy to clipboard" do-not-collapse="true"></button></p>
</div>
</div>
</div>
<div class="paragraph description-decoration">
<p><i class="fa fa-chevron-down"></i><span>Show more</span></p>
</div></div></td>
<td class="tableblock halign-left valign-middle"><p class="tableblock">boolean</p></td>
<td class="tableblock halign-left valign-middle"><p class="tableblock"><code>true</code></p></td>
</tr>
<tr class="row-collapsible row-collapsed row-with-desc">
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><a id="quarkus-scheduler_quarkus-scheduler-overdue-grace-period"></a> <span class="property-path"><a href="#quarkus-scheduler_quarkus-scheduler-overdue-grace-period"><code>quarkus.scheduler.overdue-grace-period</code></a></span></p>
</div>
<div id="conf-collapsible-desc-6" class="openblock description description-collapsed">
<div class="content">
<div class="paragraph">
<p>Scheduled task will be flagged as overdue if next execution time is exceeded by this period.</p>
</div>
<div class="paragraph">
<p>Environment variable: <code id="env-var-7814">QUARKUS_SCHEDULER_OVERDUE_GRACE_PERIOD</code><button class="btn-copy fa fa-clipboard inline-btn-copy" data-clipboard-action="copy" data-clipboard-target="#env-var-7814" title="Copy to clipboard" do-not-collapse="true"></button></p>
</div>
</div>
</div>
<div class="paragraph description-decoration">
<p><i class="fa fa-chevron-down"></i><span>Show more</span></p>
</div></div></td>
<td class="tableblock halign-left valign-middle"><p class="tableblock"><a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/time/Duration.html">Duration</a> <a href="#duration-note-anchor-quarkus-scheduler_quarkus-scheduler"><span class="icon"><i class="fa fa-question-circle" title="More information about the Duration format"></i></span></a></p></td>
<td class="tableblock halign-left valign-middle"><p class="tableblock"><code>1S</code></p></td>
</tr>
<tr class="row-collapsible row-collapsed row-with-desc odd">
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><a id="quarkus-scheduler_quarkus-scheduler-start-mode"></a> <span class="property-path"><a href="#quarkus-scheduler_quarkus-scheduler-start-mode"><code>quarkus.scheduler.start-mode</code></a></span></p>
</div>
<div id="conf-collapsible-desc-7" class="openblock description description-collapsed">
<div class="content">
<div class="paragraph">
<p>Scheduler can be started in different modes. By default, the scheduler is not started unless a <code>io.quarkus.scheduler.Scheduled</code> business method is found.</p>
</div>
<div class="paragraph">
<p>Environment variable: <code id="env-var-7815">QUARKUS_SCHEDULER_START_MODE</code><button class="btn-copy fa fa-clipboard inline-btn-copy" data-clipboard-action="copy" data-clipboard-target="#env-var-7815" title="Copy to clipboard" do-not-collapse="true"></button></p>
</div>
</div>
</div>
<div class="paragraph description-decoration">
<p><i class="fa fa-chevron-down"></i><span>Show more</span></p>
</div></div></td>
<td class="tableblock halign-left valign-middle"><div class="content"><div class="paragraph">
<p><span class="asciidoc-tooltip-wrapper"><code>normal</code><span class="asciidoc-tooltip">The scheduler is not started unless a <code>io.quarkus.scheduler.Scheduled</code> business method is found.</span></span>, <span class="asciidoc-tooltip-wrapper"><code>forced</code><span class="asciidoc-tooltip">The scheduler will be started even if no scheduled business methods are found.  This is necessary for "pure" programmatic scheduling.</span></span>, <span class="asciidoc-tooltip-wrapper"><code>halted</code><span class="asciidoc-tooltip">Just like the <code>forced</code> mode but the scheduler will not start triggering jobs until <code>Scheduler#resume()</code> is called.  This can be useful to run some initialization logic that needs to be performed before the scheduler starts.</span></span></p>
</div></div></td>
<td class="tableblock halign-left valign-middle"></td>
</tr>
</tbody>
</table>
<div id="duration-note-anchor-quarkus-scheduler_quarkus-scheduler" class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
<div class="title">About the Duration format</div>
<div class="paragraph">
<p>To write duration values, use the standard <code>java.time.Duration</code> format.
See the <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/time/Duration.html#parse(java.lang.CharSequence)">Duration#parse() Java API documentation</a> for more information.</p>
</div>
<div class="paragraph">
<p>You can also use a simplified format, starting with a number:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>If the value is only a number, it represents time in seconds.</p>
</li>
<li>
<p>If the value is a number followed by <code>ms</code>, it represents time in milliseconds.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>In other cases, the simplified format is translated to the <code>java.time.Duration</code> format for parsing:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>If the value is a number followed by <code>h</code>, <code>m</code>, or <code>s</code>, it is prefixed with <code>PT</code>.</p>
</li>
<li>
<p>If the value is a number followed by <code>d</code>, it is prefixed with <code>P</code>.</p>
</li>
</ul>
</div>
</td>
</tr>
</table>
</div>
</div>
</div>
    </div>
    <div class="grid__item width-4-12 width-12-12-m tocwrapper">
      <div class="hide-mobile toc"><ul class="sectlevel1">
<li><a href="#scheduled-methods">1. Scheduled Methods</a>
<ul class="sectlevel2">
<li><a href="#inheritance-of-metadata">1.1. Inheritance of metadata</a></li>
<li><a href="#cdi-events">1.2. CDI events</a></li>
<li><a href="#triggers">1.3. Triggers</a></li>
<li><a href="#identity">1.4. Identity</a></li>
<li><a href="#delayed_start">1.5. Delayed Start of a Trigger</a></li>
<li><a href="#delayed_execution">1.6. Delayed Execution</a></li>
<li><a href="#concurrent_execution">1.7. Concurrent Execution</a></li>
<li><a href="#conditional_execution">1.8. Conditional Execution</a></li>
<li><a href="#non-blocking-methods">1.9. Non-blocking Methods</a></li>
<li><a href="#how-to-use-multiple-scheduler-implementations">1.10. How to use multiple scheduler implementations</a></li>
</ul>
</li>
<li><a href="#scheduler">2. Scheduler</a></li>
<li><a href="#programmatic_scheduling">3. Programmatic Scheduling</a></li>
<li><a href="#scheduled-methods-and-testing">4. Scheduled Methods and Testing</a></li>
<li><a href="#metrics">5. Metrics</a></li>
<li><a href="#opentelemetry-tracing">6. OpenTelemetry Tracing</a></li>
<li><a href="#virtual_threads">7. Run @Scheduled methods on virtual threads</a></li>
<li><a href="#configuration-reference">8. Configuration Reference</a></li>
</ul></div>
    </div>
  </div>
  <h2>Related content</h2>
  <div class="grid-wrapper relations">
    <div class="grid__item width-6-12 width-12-12-m">
      <h3>On the same extensions</h3>
      <ul class="related-content">
      
        
        <li class="guide"><a href="/guides/scheduler">Scheduling Periodic Tasks</a></li>
      </ul>
    </div>
    <div class="grid__item width-6-12 width-12-12-m">
      <h3>On the same topics</h3>
      <ul class="related-content">
      
        
        <li class="guide"><a href="/guides/scheduler">Scheduling Periodic Tasks</a></li>
      
        
        <li class="guide"><a href="/guides/quartz">Scheduling Periodic Tasks with Quartz</a></li>
      </ul>
    </div>
    </div>
  </div>

  </div>

  <div class="content project-footer">
  <div class="footer-section">
    <div class="logo-wrapper">
      <a href="/"><img src="/assets/images/quarkus_logo_horizontal_rgb_reverse.svg" class="project-logo" title="Quarkus"></a>
    </div>
  </div>
  <div class="grid-wrapper">
    <p class="grid__item width-3-12">Quarkus is open. All dependencies of this project are available under the <a href='https://www.apache.org/licenses/LICENSE-2.0' target='_blank'>Apache Software License 2.0</a> or compatible license.<br /><br />This website was built with <a href='https://jekyllrb.com/' target='_blank'>Jekyll</a>, is hosted on <a href='https://pages.github.com/' target='_blank'>GitHub Pages</a> and is completely open source. If you want to make it better, <a href='https://github.com/quarkusio/quarkusio.github.io' target='_blank'>fork the website</a> and show us what you’ve got.</p>

    
      <div class="width-1-12 project-links">
        <span>Navigation</span>
        <ul class="footer-links">
          
          
            <li><a href="/" target="_blank">Home</a></li>
          
          
          
            <li><a href="/about" target="_blank">About</a></li>
          
          
          
            <li><a href="/blog" target="_blank">Blog</a></li>
          
          
          
            <li><a href="/insights" target="_blank">Podcast</a></li>
          
          
          
            <li><a href="/events" target="_blank">Events</a></li>
          
          
          
            <li><a href="/newsletter" target="_blank">Newsletter</a></li>
          
          
          
            <li><a href="https://github.com/orgs/quarkusio/projects/13/views/1" target="_blank">Roadmap</a></li>
          
          
          
            <li><a href="/security" target="_blank">Security&nbsp;policy</a></li>
          
          
          
            <li><a href="/usage" target="_blank">Usage</a></li>
          
          
          
            <li><a href="/brand" target="_blank">Brand</a></li>
          
          
          
            <li><a href="/desktopwallpapers" target="_blank">Wallpapers</a></li>
          
          
        </ul>
      </div>
    
      <div class="width-1-12 project-links">
        <span>Follow Us</span>
        <ul class="footer-links">
          
          
            <li><a href="https://x.com/quarkusio" target="_blank">X</a></li>
          
          
          
            <li><a rel="me" href="https://fosstodon.org/@quarkusio" target="_blank">Mastodon</a></li>
            
          
          
            <li><a href="https://www.facebook.com/quarkusio" target="_blank">Facebook</a></li>
          
          
          
            <li><a href="https://www.linkedin.com/company/quarkusio/" target="_blank">Linkedin</a></li>
          
          
          
            <li><a href="https://www.youtube.com/channel/UCaW8QG_QoIk_FnjLgr5eOqg" target="_blank">Youtube</a></li>
          
          
          
            <li><a href="https://github.com/quarkusio" target="_blank">GitHub</a></li>
          
          
        </ul>
      </div>
    
      <div class="width-2-12 project-links">
        <span>Get Help</span>
        <ul class="footer-links">
          
          
            <li><a href="/support" target="_blank">Support</a></li>
          
          
          
            <li><a href="/guides" target="_blank">Guides</a></li>
          
          
          
            <li><a href="/faq" target="_blank">FAQ</a></li>
          
          
          
            <li><a href="/get-started" target="_blank">Get Started</a></li>
          
          
          
            <li><a href="https://stackoverflow.com/questions/tagged/quarkus" target="_blank">Stack Overflow</a></li>
          
          
          
            <li><a href="https://github.com/quarkusio/quarkus/discussions" target="_blank">Discussions</a></li>
          
          
          
            <li><a href="https://groups.google.com/forum/#!forum/quarkus-dev" target="_blank">Development mailing list</a></li>
          
          
        </ul>
      </div>
    
      <div class="width-1-12 project-links">
        <span>Languages</span>
        <ul class="footer-links">
          
          
            <li><a href="https://quarkus.io/" target="_blank">English</a></li>
          
          
          
            <li><a href="https://pt.quarkus.io/" target="_blank">Português&nbsp;(Brasileiro)</a></li>
          
          
          
            <li><a href="https://es.quarkus.io/" target="_blank">Español</a></li>
          
          
          
            <li><a href="https://cn.quarkus.io/" target="_blank">简体中文</a></li>
          
          
          
            <li><a href="https://ja.quarkus.io/" target="_blank">日本語</a></li>
          
          
        </ul>
      </div>
    

    
      <div class="width-4-12 more-links">
        <span>Quarkus is made of community projects</span>
        <ul class="footer-links">
          
            <li><a blah href="https://vertx.io/" target="_blank">Eclipse Vert.x</a></li>
          
            <li><a blah href="https://smallrye.io" target="_blank">SmallRye</a></li>
          
            <li><a blah href="https://hibernate.org" target="_blank">Hibernate</a></li>
          
            <li><a blah href="https://netty.io" target="_blank">Netty</a></li>
          
            <li><a blah href="https://resteasy.github.io" target="_blank">RESTEasy</a></li>
          
            <li><a blah href="https://camel.apache.org" target="_blank">Apache Camel</a></li>
          
            <li><a blah href="https://microprofile.io" target="_blank">Eclipse MicroProfile</a></li>
          
            <li><a blah href="https://code.quarkus.io/" target="_blank">And many more...</a></li>
          
        </ul>
      </div>
    
  </div>
</div>

  <div class="content redhat-footer">
  <div class="grid-wrapper">
    <span class="licence">
      <i class="fab fa-creative-commons"></i><i class="fab fa-creative-commons-by"></i> <a href="https://creativecommons.org/licenses/by/3.0/" target="_blank">CC by 3.0</a> | <a href="https://www.redhat.com/en/about/privacy-policy">Privacy Policy</a>
    </span>
    <span class="redhat">
      Sponsored by
    </span>
    <span class="redhat-logo">
      <a href="https://www.redhat.com/" target="_blank"><img src="/assets/images/redhat_reversed.svg"></a>
    </span>
  </div>
</div>


  <script src="https://ajax.googleapis.com/ajax/libs/jquery/2.1.4/jquery.min.js" integrity="sha384-8gBf6Y4YYq7Jx97PIqmTwLPin4hxIzQw5aDmUg/DDhul9fFpbbLcLh3nTIIDJKhx" crossorigin="anonymous"></script>
  <script type="text/javascript" src="/assets/javascript/mobile-nav.js"></script>
  <script type="text/javascript" src="/assets/javascript/scroll-down.js"></script>
  <script src="/assets/javascript/satellite.js" type="text/javascript"></script>
  <script src="/guides/javascript/config.js" type="text/javascript"></script>
  <script src="/assets/javascript/guides-version-dropdown.js" type="text/javascript"></script>
  <script src="/assets/javascript/back-to-top.js" type="text/javascript"></script>
  <script src="/assets/javascript/clipboard.min.js" type="text/javascript"></script>
  <script src="/assets/javascript/copy.js" type="text/javascript"></script>
  <script src="/assets/javascript/asciidoc-tabs.js" type="text/javascript"></script>
  <script src="/assets/javascript/future-date.js" type="text/javascript"></script>
</body>

</html>
