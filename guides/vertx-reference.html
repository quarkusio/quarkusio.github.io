<!DOCTYPE html>
<html>





<head>
  <title>Quarkus - Vert.x Reference Guide</title>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <meta http-equiv="Content-Security-Policy" content="default-src https://dpm.demdex.net; script-src 'self' 'unsafe-eval' 'sha256-ANpuoVzuSex6VhqpYgsG25OHWVA1I+F6aGU04LoI+5s=' 'sha256-ipy9P/3rZZW06mTLAR0EnXvxSNcnfSDPLDuh3kzbB1w=' js.bizographics.com https://www.redhat.com https://static.redhat.com assets.adobedtm.com jsonip.com https://ajax.googleapis.com https://www.googletagmanager.com https://www.google-analytics.com https://use.fontawesome.com https://app.mailjet.com http://www.youtube.com http://www.googleadservices.com https://googleads.g.doubleclick.net https://dpm.demdex.net https://giscus.app; style-src 'self' https://fonts.googleapis.com https://use.fontawesome.com; img-src 'self' *; media-src 'self'; frame-src https://www.googletagmanager.com https://www.youtube.com https://embed.restream.io https://app.mailjet.com https://giscus.app; base-uri 'none'; object-src 'none'; form-action 'none'; font-src 'self' https://use.fontawesome.com https://fonts.gstatic.com;" />
  <script id="adobe_dtm" src="https://www.redhat.com/dtm.js" type="text/javascript"></script>
  <script src="/assets/javascript/highlight.pack.js" type="text/javascript"></script>
  <META HTTP-EQUIV='X-XSS-Protection' CONTENT="1; mode=block">
  <META HTTP-EQUIV='X-Content-Type-Options' CONTENT="nosniff">
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <meta name="description" content="Quarkus: Supersonic Subatomic Java">
  <meta name="twitter:card" content="summary_large_image">
  <meta name="twitter:site" content="@QuarkusIO"> 
  <meta name="twitter:creator" content="@QuarkusIO">
  <meta property="og:url" content="https://quarkus.io/guides/vertx-reference" />
  <meta property="og:title" content="Vert.x Reference Guide" />
  <meta property="og:description" content="Quarkus: Supersonic Subatomic Java" />
  <meta property="og:image" content="https://quarkus.io/assets/images/quarkus_card.png" />
  
  <link rel="canonical" href="https://quarkus.io/guides/vertx-reference">
  <link rel="shortcut icon" type="image/png" href="/favicon.ico" >
  <link rel="stylesheet" href="/guides/stylesheet/config.css" />
  <link rel="stylesheet" href="/assets/css/main.css?2021-07-29" />
  <link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.1.0/css/all.css" integrity="sha384-lKuwvrZot6UHsBSfcMvOkWwlCMgc0TaWr+30HWe3a4ltaBwTZhyTEggF5tJv8tbt" crossorigin="anonymous">
  <link rel="alternate" type="application/rss+xml"  href="/feed.xml" title="Quarkus">
  <script src="/assets/javascript/goan.js" type="text/javascript"></script>
  <script src="/assets/javascript/hl.js" type="text/javascript"></script>
</head>

<body class="guides">
  <!-- Google Tag Manager (noscript) -->
  <noscript><iframe src="https://www.googletagmanager.com/ns.html?id=GTM-NJWS5L"
  height="0" width="0" style="display:none;visibility:hidden"></iframe></noscript>
  <!-- End Google Tag Manager (noscript) -->

  
  <div class="nav-wrapper">
  <div class="grid-wrapper">
    <div class="width-12-12">
      <input type="checkbox" id="checkbox" />
      <nav id="main-nav" class="main-nav">
  <div class="container">
    <div class="logo-wrapper">
        <a href="/"><img src="/assets/images/quarkus_logo_horizontal_rgb_600px_reverse.png" class="project-logo" title="Quarkus"></a>
    </div>
    <label class="nav-toggle" for="checkbox">
      <i class="fa fa-bars"></i>
    </label>
    <ul id="menu" class="menu">
      <li class="dropdown">
        <span href="/about/">About <i class="fas fa-chevron-down"></i></span>
        <ul class="submenu">
          <li><a href="/about" class="">WHAT IS QUARKUS?</a></li>
          <li><a href="/container-first" class="">CONTAINER FIRST</a></li>
          <li><a href="/continuum" class="">REACTIVE</a></li>
          <li><a href="/developer-joy" class="">DEVELOPER JOY</a></li>
          <li><a href="/kubernetes-native" class="">KUBERNETES NATIVE</a></li>
          <li><a href="/standards" class="">STANDARDS</a></li>
        </ul>
      </li>
      <li class="dropdown">
        <span href="/learn/">Learn <i class="fas fa-chevron-down"></i></span>
        <ul class="submenu">
          <li><a href="/get-started" class="">GET STARTED</a></li>
          <li><a href="/guides" class="active">GUIDES</a></li>
          <li><a href="/qtips" class="">"Q" TIP VIDEOS</a></li>          
          <li><a href="/books" class="">BOOKS</a></li>
          </ul>
      </li>
      <li class="dropdown">
        <span href="/community/">Community <i class="fas fa-chevron-down"></i></span>
        <ul class="submenu">
          <li><a href="/support/" class="">SUPPORT</a></li>
          <li><a href="/blog" class="">BLOG</a></li>
          <li><a href="/discussion" class="">DISCUSSION</a></li>
          <li><a href="/insights" class="">PODCAST</a></li>
          <li><a href="/events" class="">EVENTS</a></li>
          <li><a href="/newsletter" class="">NEWSLETTER</a></li>
          <li><a href="/publications" class="">PUBLICATIONS</a></li>
          <li><a href="/awards" class="">AWARDS</a></li>
          </ul>
      </li>
      <li>
        <a href="https://code.quarkus.io" class="button-cta secondary white">Start Coding</a>
      </li>
      <li class="dropdown">
        <span href="/language/"><div class="fas fa-globe langicon"></div><i class="fas fa-chevron-down"></i></span>
        <ul class="submenu">
          <li><a href="https://quarkus.io/" >OFFICIAL (ENGLISH)</a></li>
          <li><a href="https://ja.quarkus.io/">日本語 - JAPANESE</a></li>
          <li><a href="https://cn.quarkus.io/">简体中文 - CHINESE</a></li>
          </ul>
      </li>
    </ul>
  </div>
      </nav>
    </div>
  </div>
</div>

  <div class="content">
    



<div class="full-width-version-bg grey align-self">
  <div class="grid-wrapper">
    <div class="grid__item width-6-12">
      <p class="returnlink"><i class="fas fa-angle-left"></i><a href="/guides/"> Back to Guides</a></p>
    </div>
    <div class="grid__item width-6-12 align-self-center text-right hide-mobile">
      <label id="guide-version-label">Select Guide Version</label>
      <select id="guide-version-dropdown">
        
      
        
        
        
        
          
        <option value="main" >Main - SNAPSHOT</option>
        
        
      
        
        
        
        
          
        <option value="latest" selected>2.9 - Latest</option>
        
        
      
        
        
        
        
          
        <option value="2.7" >2.7</option>
        
        
      
        
        
        
        
          
        <option value="2.2" >2.2</option>
        
        
      
        
        
        
        
      
    
      </select>
    </div>
  </div>
</div>

<div class="grid-wrapper guide">
  <div class="grid__item width-12-12 width-12-12-mobile">
    <h1 class="text-caps">Vert.x Reference Guide </h1>
  </div>
  <div class="width-12-12">
    <div class="hide-mobile toc"><ul class="sectlevel1">
<li><a href="#vertx-access">Accessing the Vert.x instance</a></li>
<li><a href="#vertx-config">Configuring the Vert.x instance</a></li>
<li><a href="#using-vertx-clients">Using Vert.x clients</a>
<ul class="sectlevel2">
<li><a href="#available-apis">Available APIs</a></li>
<li><a href="#example-of-usage">Example of usage</a></li>
</ul>
</li>
<li><a href="#using-vert-x-json">Using Vert.x JSON</a></li>
<li><a href="#using-verticles">Using verticles</a>
<ul class="sectlevel2">
<li><a href="#deploying-verticles">Deploying verticles</a></li>
<li><a href="#using-applicationscoped-beans-as-verticle">Using @ApplicationScoped Beans as Verticle</a></li>
<li><a href="#using-multiple-verticles-instances">Using multiple verticles instances</a></li>
</ul>
</li>
<li><a href="#eventbus">Using the event bus</a>
<ul class="sectlevel2">
<li><a href="#consuming-events">Consuming events</a></li>
<li><a href="#configuring-the-address">Configuring the address</a></li>
<li><a href="#asynchronous-processing">Asynchronous processing</a></li>
<li><a href="#blocking-processing">Blocking processing</a></li>
<li><a href="#replying-to-messages">Replying to messages</a></li>
<li><a href="#implementing-fire-and-forget-interactions">Implementing fire and forget interactions</a></li>
<li><a href="#dealing-with-messages">Dealing with messages</a></li>
<li><a href="#handling-failures">Handling Failures</a></li>
<li><a href="#sending-messages">Sending messages</a></li>
<li><a href="#using-codecs">Using codecs</a></li>
<li><a href="#combining-http-and-the-event-bus">Combining HTTP and the event bus</a></li>
<li><a href="#bi-directional-communication-with-browsers-using-sockjs">Bi-directional communication with browsers using SockJS</a></li>
</ul>
</li>
<li><a href="#native-transport">Native Transport</a>
<ul class="sectlevel2">
<li><a href="#native-linux-transport">Native Linux Transport</a></li>
<li><a href="#native-macos-transport">Native MacOS Transport</a></li>
</ul>
</li>
<li><a href="#listening-to-a-unix-domain-socket">Listening to a Unix Domain Socket</a></li>
<li><a href="#read-only-deployment-environments">Read only deployment environments</a></li>
</ul></div>
    <div>
      <div id="preamble">
<div class="sectionbody">
<div class="paragraph">
<p><a href="https://vertx.io">Vert.x</a> is a toolkit for building reactive applications.
As described in the <a href="quarkus-reactive-architecture">Quarkus Reactive Architecture</a>, Quarkus uses Vert.x underneath.</p>
</div>
<div class="paragraph">
<p>This guide is the companion to the <a href="vertx">Using Eclipse Vert.x API from a Quarkus Application</a> guide.
It provides more advanced details about the usage and the configuration of the Vert.x instance used by Quarkus.</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="vertx-access"><a class="anchor" href="#vertx-access"></a>Accessing the Vert.x instance</h2>
<div class="sectionbody">
<div class="paragraph">
<p>To access the managed Vert.x instance, add the <code>quarkus-vertx</code> extension to your project.
Note that this dependency may already be installed (as a transitive dependency).</p>
</div>
<div class="paragraph">
<p>With this extension, you can retrieve the managed instance of Vert.x using either field or constructor injection:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-java hljs" data-lang="java">@ApplicationScoped
public class MyBean {
// Field injection
@Inject Vertx vertx;

// Constructor injection
MyBean(Vertx vertx) {
    // ...
}

}</code></pre>
</div>
</div>
<div class="paragraph">
<p>You can inject either the:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><code>io.vertx.core.Vertx</code> instance exposing the <em>bare</em> Vert.x API</p>
</li>
<li>
<p><code>io.vertx.mutiny.core.Vertx</code> instance exposing the <em>Mutiny</em> API</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>We recommend using the Mutiny variant as it integrates with the other reactive APIs provided by Quarkus.</p>
</div>
<div class="admonitionblock tip">
<table>
<tr>
<td class="icon">
<i class="fa icon-tip" title="Tip"></i>
</td>
<td class="content">
<div class="title">Mutiny</div>
<div class="paragraph">
<p>If you are not familiar with Mutiny, check <a href="mutiny-primer">Mutiny - an intuitive reactive programming library</a>.</p>
</div>
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>Documentation about the Vert.x Mutiny variant is available on <a href="https://smallrye.io/smallrye-mutiny-vertx-bindings" class="bare">https://smallrye.io/smallrye-mutiny-vertx-bindings</a>.</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="vertx-config"><a class="anchor" href="#vertx-config"></a>Configuring the Vert.x instance</h2>
<div class="sectionbody">
<div class="paragraph">
<p>You can configure the Vert.x instance from the <code>application.properties</code> file.
The following table lists the supported properties:</p>
</div>
<div class="paragraph configuration-legend">
<p><span class="icon"><i class="fa fa-lock" title="Fixed at build time"></i></span> Configuration property fixed at build time - All other configuration properties are overridable at runtime</p>
</div>
<table class="tableblock frame-all grid-all stretch configuration-reference searchable">
<colgroup>
<col style="width: 80%;">
<col style="width: 10%;">
<col style="width: 10%;">
</colgroup>
<tbody>
<tr>
<th class="tableblock halign-left valign-top"><p class="tableblock"><a id="quarkus-vertx-core_configuration"></a><a href="#quarkus-vertx-core_configuration">Configuration property</a></p></th>
<th class="tableblock halign-left valign-middle"><p class="tableblock">Type</p></th>
<th class="tableblock halign-left valign-middle"><p class="tableblock">Default</p></th>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><a id="quarkus-vertx-core_quarkus.vertx.caching"></a><code><a href="#quarkus-vertx-core_quarkus.vertx.caching">quarkus.vertx.caching</a></code></p>
</div>
<div class="openblock description">
<div class="content">
<div class="paragraph">
<p>Enables or disables the Vert.x cache.</p>
</div>
</div>
</div></div></td>
<td class="tableblock halign-left valign-middle"><p class="tableblock">boolean</p></td>
<td class="tableblock halign-left valign-middle"><p class="tableblock"><code>true</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><a id="quarkus-vertx-core_quarkus.vertx.classpath-resolving"></a><code><a href="#quarkus-vertx-core_quarkus.vertx.classpath-resolving">quarkus.vertx.classpath-resolving</a></code></p>
</div>
<div class="openblock description">
<div class="content">
<div class="paragraph">
<p>Enables or disabled the Vert.x classpath resource resolver.</p>
</div>
</div>
</div></div></td>
<td class="tableblock halign-left valign-middle"><p class="tableblock">boolean</p></td>
<td class="tableblock halign-left valign-middle"><p class="tableblock"><code>true</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><a id="quarkus-vertx-core_quarkus.vertx.event-loops-pool-size"></a><code><a href="#quarkus-vertx-core_quarkus.vertx.event-loops-pool-size">quarkus.vertx.event-loops-pool-size</a></code></p>
</div>
<div class="openblock description">
<div class="content">
<div class="paragraph">
<p>The number of event loops. 2 x the number of core by default.</p>
</div>
</div>
</div></div></td>
<td class="tableblock halign-left valign-middle"><p class="tableblock">int</p></td>
<td class="tableblock halign-left valign-middle"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><a id="quarkus-vertx-core_quarkus.vertx.max-event-loop-execute-time"></a><code><a href="#quarkus-vertx-core_quarkus.vertx.max-event-loop-execute-time">quarkus.vertx.max-event-loop-execute-time</a></code></p>
</div>
<div class="openblock description">
<div class="content">
<div class="paragraph">
<p>The maximum amount of time the event loop can be blocked.</p>
</div>
</div>
</div></div></td>
<td class="tableblock halign-left valign-middle"><p class="tableblock"><a href="https://docs.oracle.com/javase/8/docs/api/java/time/Duration.html">Duration</a>
  <a href="#duration-note-anchor" title="More information about the Duration format"><span class="icon"><i class="fa fa-question-circle"></i></span></a></p></td>
<td class="tableblock halign-left valign-middle"><p class="tableblock"><code>2S</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><a id="quarkus-vertx-core_quarkus.vertx.warning-exception-time"></a><code><a href="#quarkus-vertx-core_quarkus.vertx.warning-exception-time">quarkus.vertx.warning-exception-time</a></code></p>
</div>
<div class="openblock description">
<div class="content">
<div class="paragraph">
<p>The amount of time before a warning is displayed if the event loop is blocked.</p>
</div>
</div>
</div></div></td>
<td class="tableblock halign-left valign-middle"><p class="tableblock"><a href="https://docs.oracle.com/javase/8/docs/api/java/time/Duration.html">Duration</a>
  <a href="#duration-note-anchor" title="More information about the Duration format"><span class="icon"><i class="fa fa-question-circle"></i></span></a></p></td>
<td class="tableblock halign-left valign-middle"><p class="tableblock"><code>2S</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><a id="quarkus-vertx-core_quarkus.vertx.worker-pool-size"></a><code><a href="#quarkus-vertx-core_quarkus.vertx.worker-pool-size">quarkus.vertx.worker-pool-size</a></code></p>
</div>
<div class="openblock description">
<div class="content">
<div class="paragraph">
<p>The size of the worker thread pool.</p>
</div>
</div>
</div></div></td>
<td class="tableblock halign-left valign-middle"><p class="tableblock">int</p></td>
<td class="tableblock halign-left valign-middle"><p class="tableblock"><code>20</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><a id="quarkus-vertx-core_quarkus.vertx.max-worker-execute-time"></a><code><a href="#quarkus-vertx-core_quarkus.vertx.max-worker-execute-time">quarkus.vertx.max-worker-execute-time</a></code></p>
</div>
<div class="openblock description">
<div class="content">
<div class="paragraph">
<p>The maximum amount of time the worker thread can be blocked.</p>
</div>
</div>
</div></div></td>
<td class="tableblock halign-left valign-middle"><p class="tableblock"><a href="https://docs.oracle.com/javase/8/docs/api/java/time/Duration.html">Duration</a>
  <a href="#duration-note-anchor" title="More information about the Duration format"><span class="icon"><i class="fa fa-question-circle"></i></span></a></p></td>
<td class="tableblock halign-left valign-middle"><p class="tableblock"><code>60S</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><a id="quarkus-vertx-core_quarkus.vertx.internal-blocking-pool-size"></a><code><a href="#quarkus-vertx-core_quarkus.vertx.internal-blocking-pool-size">quarkus.vertx.internal-blocking-pool-size</a></code></p>
</div>
<div class="openblock description">
<div class="content">
<div class="paragraph">
<p>The size of the internal thread pool (used for the file system).</p>
</div>
</div>
</div></div></td>
<td class="tableblock halign-left valign-middle"><p class="tableblock">int</p></td>
<td class="tableblock halign-left valign-middle"><p class="tableblock"><code>20</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><a id="quarkus-vertx-core_quarkus.vertx.queue-size"></a><code><a href="#quarkus-vertx-core_quarkus.vertx.queue-size">quarkus.vertx.queue-size</a></code></p>
</div>
<div class="openblock description">
<div class="content">
<div class="paragraph">
<p>The queue size. For most applications this should be unbounded</p>
</div>
</div>
</div></div></td>
<td class="tableblock halign-left valign-middle"><p class="tableblock">int</p></td>
<td class="tableblock halign-left valign-middle"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><a id="quarkus-vertx-core_quarkus.vertx.growth-resistance"></a><code><a href="#quarkus-vertx-core_quarkus.vertx.growth-resistance">quarkus.vertx.growth-resistance</a></code></p>
</div>
<div class="openblock description">
<div class="content">
<div class="paragraph">
<p>The executor growth resistance. A resistance factor applied after the core pool is full; values applied here will cause that fraction of submissions to create new threads when no idle thread is available. A value of <code>0.0f</code> implies that threads beyond the core size should be created as aggressively as threads within it; a value of <code>1.0f</code> implies that threads beyond the core size should never be created.</p>
</div>
</div>
</div></div></td>
<td class="tableblock halign-left valign-middle"><p class="tableblock">float</p></td>
<td class="tableblock halign-left valign-middle"><p class="tableblock"><code>0f</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><a id="quarkus-vertx-core_quarkus.vertx.keep-alive-time"></a><code><a href="#quarkus-vertx-core_quarkus.vertx.keep-alive-time">quarkus.vertx.keep-alive-time</a></code></p>
</div>
<div class="openblock description">
<div class="content">
<div class="paragraph">
<p>The amount of time a thread will stay alive with no work.</p>
</div>
</div>
</div></div></td>
<td class="tableblock halign-left valign-middle"><p class="tableblock"><a href="https://docs.oracle.com/javase/8/docs/api/java/time/Duration.html">Duration</a>
  <a href="#duration-note-anchor" title="More information about the Duration format"><span class="icon"><i class="fa fa-question-circle"></i></span></a></p></td>
<td class="tableblock halign-left valign-middle"><p class="tableblock"><code>30S</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><a id="quarkus-vertx-core_quarkus.vertx.prefill"></a><code><a href="#quarkus-vertx-core_quarkus.vertx.prefill">quarkus.vertx.prefill</a></code></p>
</div>
<div class="openblock description">
<div class="content">
<div class="paragraph">
<p>Prefill thread pool when creating a new Executor. When io.vertx.core.spi.ExecutorServiceFactory.createExecutor is called, initialise with the number of defined threads at startup</p>
</div>
</div>
</div></div></td>
<td class="tableblock halign-left valign-middle"><p class="tableblock">boolean</p></td>
<td class="tableblock halign-left valign-middle"><p class="tableblock"><code>false</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><a id="quarkus-vertx-core_quarkus.vertx.use-async-dns"></a><code><a href="#quarkus-vertx-core_quarkus.vertx.use-async-dns">quarkus.vertx.use-async-dns</a></code></p>
</div>
<div class="openblock description">
<div class="content">
<div class="paragraph">
<p>Enables the async DNS resolver.</p>
</div>
</div>
</div></div></td>
<td class="tableblock halign-left valign-middle"><p class="tableblock">boolean</p></td>
<td class="tableblock halign-left valign-middle"><p class="tableblock"><code>false</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><a id="quarkus-vertx-core_quarkus.vertx.eventbus.key-certificate-pem"></a><code><a href="#quarkus-vertx-core_quarkus.vertx.eventbus.key-certificate-pem">quarkus.vertx.eventbus.key-certificate-pem</a></code></p>
</div>
<div class="openblock description">
<div class="content">
<div class="paragraph">
<p>PEM Key/cert config is disabled by default.</p>
</div>
</div>
</div></div></td>
<td class="tableblock halign-left valign-middle"><p class="tableblock">boolean</p></td>
<td class="tableblock halign-left valign-middle"><p class="tableblock"><code>false</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><a id="quarkus-vertx-core_quarkus.vertx.eventbus.key-certificate-pem.keys"></a><code><a href="#quarkus-vertx-core_quarkus.vertx.eventbus.key-certificate-pem.keys">quarkus.vertx.eventbus.key-certificate-pem.keys</a></code></p>
</div>
<div class="openblock description">
<div class="content">
<div class="paragraph">
<p>Comma-separated list of the path to the key files (Pem format).</p>
</div>
</div>
</div></div></td>
<td class="tableblock halign-left valign-middle"><p class="tableblock">list of string</p></td>
<td class="tableblock halign-left valign-middle"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><a id="quarkus-vertx-core_quarkus.vertx.eventbus.key-certificate-pem.certs"></a><code><a href="#quarkus-vertx-core_quarkus.vertx.eventbus.key-certificate-pem.certs">quarkus.vertx.eventbus.key-certificate-pem.certs</a></code></p>
</div>
<div class="openblock description">
<div class="content">
<div class="paragraph">
<p>Comma-separated list of the path to the certificate files (Pem format).</p>
</div>
</div>
</div></div></td>
<td class="tableblock halign-left valign-middle"><p class="tableblock">list of string</p></td>
<td class="tableblock halign-left valign-middle"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><a id="quarkus-vertx-core_quarkus.vertx.eventbus.key-certificate-jks"></a><code><a href="#quarkus-vertx-core_quarkus.vertx.eventbus.key-certificate-jks">quarkus.vertx.eventbus.key-certificate-jks</a></code></p>
</div>
<div class="openblock description">
<div class="content">
<div class="paragraph">
<p>JKS config is disabled by default.</p>
</div>
</div>
</div></div></td>
<td class="tableblock halign-left valign-middle"><p class="tableblock">boolean</p></td>
<td class="tableblock halign-left valign-middle"><p class="tableblock"><code>false</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><a id="quarkus-vertx-core_quarkus.vertx.eventbus.key-certificate-jks.path"></a><code><a href="#quarkus-vertx-core_quarkus.vertx.eventbus.key-certificate-jks.path">quarkus.vertx.eventbus.key-certificate-jks.path</a></code></p>
</div>
<div class="openblock description">
<div class="content">
<div class="paragraph">
<p>Path of the key file (JKS format).</p>
</div>
</div>
</div></div></td>
<td class="tableblock halign-left valign-middle"><p class="tableblock">string</p></td>
<td class="tableblock halign-left valign-middle"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><a id="quarkus-vertx-core_quarkus.vertx.eventbus.key-certificate-jks.password"></a><code><a href="#quarkus-vertx-core_quarkus.vertx.eventbus.key-certificate-jks.password">quarkus.vertx.eventbus.key-certificate-jks.password</a></code></p>
</div>
<div class="openblock description">
<div class="content">
<div class="paragraph">
<p>Password of the key file.</p>
</div>
</div>
</div></div></td>
<td class="tableblock halign-left valign-middle"><p class="tableblock">string</p></td>
<td class="tableblock halign-left valign-middle"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><a id="quarkus-vertx-core_quarkus.vertx.eventbus.key-certificate-pfx"></a><code><a href="#quarkus-vertx-core_quarkus.vertx.eventbus.key-certificate-pfx">quarkus.vertx.eventbus.key-certificate-pfx</a></code></p>
</div>
<div class="openblock description">
<div class="content">
<div class="paragraph">
<p>PFX config is disabled by default.</p>
</div>
</div>
</div></div></td>
<td class="tableblock halign-left valign-middle"><p class="tableblock">boolean</p></td>
<td class="tableblock halign-left valign-middle"><p class="tableblock"><code>false</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><a id="quarkus-vertx-core_quarkus.vertx.eventbus.key-certificate-pfx.path"></a><code><a href="#quarkus-vertx-core_quarkus.vertx.eventbus.key-certificate-pfx.path">quarkus.vertx.eventbus.key-certificate-pfx.path</a></code></p>
</div>
<div class="openblock description">
<div class="content">
<div class="paragraph">
<p>Path to the key file (PFX format).</p>
</div>
</div>
</div></div></td>
<td class="tableblock halign-left valign-middle"><p class="tableblock">string</p></td>
<td class="tableblock halign-left valign-middle"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><a id="quarkus-vertx-core_quarkus.vertx.eventbus.key-certificate-pfx.password"></a><code><a href="#quarkus-vertx-core_quarkus.vertx.eventbus.key-certificate-pfx.password">quarkus.vertx.eventbus.key-certificate-pfx.password</a></code></p>
</div>
<div class="openblock description">
<div class="content">
<div class="paragraph">
<p>Password of the key.</p>
</div>
</div>
</div></div></td>
<td class="tableblock halign-left valign-middle"><p class="tableblock">string</p></td>
<td class="tableblock halign-left valign-middle"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><a id="quarkus-vertx-core_quarkus.vertx.eventbus.trust-certificate-pem"></a><code><a href="#quarkus-vertx-core_quarkus.vertx.eventbus.trust-certificate-pem">quarkus.vertx.eventbus.trust-certificate-pem</a></code></p>
</div>
<div class="openblock description">
<div class="content">
<div class="paragraph">
<p>PEM Trust config is disabled by default.</p>
</div>
</div>
</div></div></td>
<td class="tableblock halign-left valign-middle"><p class="tableblock">boolean</p></td>
<td class="tableblock halign-left valign-middle"><p class="tableblock"><code>false</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><a id="quarkus-vertx-core_quarkus.vertx.eventbus.trust-certificate-pem.certs"></a><code><a href="#quarkus-vertx-core_quarkus.vertx.eventbus.trust-certificate-pem.certs">quarkus.vertx.eventbus.trust-certificate-pem.certs</a></code></p>
</div>
<div class="openblock description">
<div class="content">
<div class="paragraph">
<p>Comma-separated list of the trust certificate files (Pem format).</p>
</div>
</div>
</div></div></td>
<td class="tableblock halign-left valign-middle"><p class="tableblock">list of string</p></td>
<td class="tableblock halign-left valign-middle"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><a id="quarkus-vertx-core_quarkus.vertx.eventbus.trust-certificate-jks"></a><code><a href="#quarkus-vertx-core_quarkus.vertx.eventbus.trust-certificate-jks">quarkus.vertx.eventbus.trust-certificate-jks</a></code></p>
</div>
<div class="openblock description">
<div class="content">
<div class="paragraph">
<p>JKS config is disabled by default.</p>
</div>
</div>
</div></div></td>
<td class="tableblock halign-left valign-middle"><p class="tableblock">boolean</p></td>
<td class="tableblock halign-left valign-middle"><p class="tableblock"><code>false</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><a id="quarkus-vertx-core_quarkus.vertx.eventbus.trust-certificate-jks.path"></a><code><a href="#quarkus-vertx-core_quarkus.vertx.eventbus.trust-certificate-jks.path">quarkus.vertx.eventbus.trust-certificate-jks.path</a></code></p>
</div>
<div class="openblock description">
<div class="content">
<div class="paragraph">
<p>Path of the key file (JKS format).</p>
</div>
</div>
</div></div></td>
<td class="tableblock halign-left valign-middle"><p class="tableblock">string</p></td>
<td class="tableblock halign-left valign-middle"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><a id="quarkus-vertx-core_quarkus.vertx.eventbus.trust-certificate-jks.password"></a><code><a href="#quarkus-vertx-core_quarkus.vertx.eventbus.trust-certificate-jks.password">quarkus.vertx.eventbus.trust-certificate-jks.password</a></code></p>
</div>
<div class="openblock description">
<div class="content">
<div class="paragraph">
<p>Password of the key file.</p>
</div>
</div>
</div></div></td>
<td class="tableblock halign-left valign-middle"><p class="tableblock">string</p></td>
<td class="tableblock halign-left valign-middle"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><a id="quarkus-vertx-core_quarkus.vertx.eventbus.trust-certificate-pfx"></a><code><a href="#quarkus-vertx-core_quarkus.vertx.eventbus.trust-certificate-pfx">quarkus.vertx.eventbus.trust-certificate-pfx</a></code></p>
</div>
<div class="openblock description">
<div class="content">
<div class="paragraph">
<p>PFX config is disabled by default.</p>
</div>
</div>
</div></div></td>
<td class="tableblock halign-left valign-middle"><p class="tableblock">boolean</p></td>
<td class="tableblock halign-left valign-middle"><p class="tableblock"><code>false</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><a id="quarkus-vertx-core_quarkus.vertx.eventbus.trust-certificate-pfx.path"></a><code><a href="#quarkus-vertx-core_quarkus.vertx.eventbus.trust-certificate-pfx.path">quarkus.vertx.eventbus.trust-certificate-pfx.path</a></code></p>
</div>
<div class="openblock description">
<div class="content">
<div class="paragraph">
<p>Path to the key file (PFX format).</p>
</div>
</div>
</div></div></td>
<td class="tableblock halign-left valign-middle"><p class="tableblock">string</p></td>
<td class="tableblock halign-left valign-middle"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><a id="quarkus-vertx-core_quarkus.vertx.eventbus.trust-certificate-pfx.password"></a><code><a href="#quarkus-vertx-core_quarkus.vertx.eventbus.trust-certificate-pfx.password">quarkus.vertx.eventbus.trust-certificate-pfx.password</a></code></p>
</div>
<div class="openblock description">
<div class="content">
<div class="paragraph">
<p>Password of the key.</p>
</div>
</div>
</div></div></td>
<td class="tableblock halign-left valign-middle"><p class="tableblock">string</p></td>
<td class="tableblock halign-left valign-middle"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><a id="quarkus-vertx-core_quarkus.vertx.eventbus.accept-backlog"></a><code><a href="#quarkus-vertx-core_quarkus.vertx.eventbus.accept-backlog">quarkus.vertx.eventbus.accept-backlog</a></code></p>
</div>
<div class="openblock description">
<div class="content">
<div class="paragraph">
<p>The accept backlog.</p>
</div>
</div>
</div></div></td>
<td class="tableblock halign-left valign-middle"><p class="tableblock">int</p></td>
<td class="tableblock halign-left valign-middle"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><a id="quarkus-vertx-core_quarkus.vertx.eventbus.client-auth"></a><code><a href="#quarkus-vertx-core_quarkus.vertx.eventbus.client-auth">quarkus.vertx.eventbus.client-auth</a></code></p>
</div>
<div class="openblock description">
<div class="content">
<div class="paragraph">
<p>The client authentication.</p>
</div>
</div>
</div></div></td>
<td class="tableblock halign-left valign-middle"><p class="tableblock">string</p></td>
<td class="tableblock halign-left valign-middle"><p class="tableblock"><code>NONE</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><a id="quarkus-vertx-core_quarkus.vertx.eventbus.connect-timeout"></a><code><a href="#quarkus-vertx-core_quarkus.vertx.eventbus.connect-timeout">quarkus.vertx.eventbus.connect-timeout</a></code></p>
</div>
<div class="openblock description">
<div class="content">
<div class="paragraph">
<p>The connect timeout.</p>
</div>
</div>
</div></div></td>
<td class="tableblock halign-left valign-middle"><p class="tableblock"><a href="https://docs.oracle.com/javase/8/docs/api/java/time/Duration.html">Duration</a>
  <a href="#duration-note-anchor" title="More information about the Duration format"><span class="icon"><i class="fa fa-question-circle"></i></span></a></p></td>
<td class="tableblock halign-left valign-middle"><p class="tableblock"><code>60S</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><a id="quarkus-vertx-core_quarkus.vertx.eventbus.idle-timeout"></a><code><a href="#quarkus-vertx-core_quarkus.vertx.eventbus.idle-timeout">quarkus.vertx.eventbus.idle-timeout</a></code></p>
</div>
<div class="openblock description">
<div class="content">
<div class="paragraph">
<p>The idle timeout in milliseconds.</p>
</div>
</div>
</div></div></td>
<td class="tableblock halign-left valign-middle"><p class="tableblock"><a href="https://docs.oracle.com/javase/8/docs/api/java/time/Duration.html">Duration</a>
  <a href="#duration-note-anchor" title="More information about the Duration format"><span class="icon"><i class="fa fa-question-circle"></i></span></a></p></td>
<td class="tableblock halign-left valign-middle"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><a id="quarkus-vertx-core_quarkus.vertx.eventbus.receive-buffer-size"></a><code><a href="#quarkus-vertx-core_quarkus.vertx.eventbus.receive-buffer-size">quarkus.vertx.eventbus.receive-buffer-size</a></code></p>
</div>
<div class="openblock description">
<div class="content">
<div class="paragraph">
<p>The receive buffer size.</p>
</div>
</div>
</div></div></td>
<td class="tableblock halign-left valign-middle"><p class="tableblock">int</p></td>
<td class="tableblock halign-left valign-middle"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><a id="quarkus-vertx-core_quarkus.vertx.eventbus.reconnect-attempts"></a><code><a href="#quarkus-vertx-core_quarkus.vertx.eventbus.reconnect-attempts">quarkus.vertx.eventbus.reconnect-attempts</a></code></p>
</div>
<div class="openblock description">
<div class="content">
<div class="paragraph">
<p>The number of reconnection attempts.</p>
</div>
</div>
</div></div></td>
<td class="tableblock halign-left valign-middle"><p class="tableblock">int</p></td>
<td class="tableblock halign-left valign-middle"><p class="tableblock"><code>0</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><a id="quarkus-vertx-core_quarkus.vertx.eventbus.reconnect-interval"></a><code><a href="#quarkus-vertx-core_quarkus.vertx.eventbus.reconnect-interval">quarkus.vertx.eventbus.reconnect-interval</a></code></p>
</div>
<div class="openblock description">
<div class="content">
<div class="paragraph">
<p>The reconnection interval in milliseconds.</p>
</div>
</div>
</div></div></td>
<td class="tableblock halign-left valign-middle"><p class="tableblock"><a href="https://docs.oracle.com/javase/8/docs/api/java/time/Duration.html">Duration</a>
  <a href="#duration-note-anchor" title="More information about the Duration format"><span class="icon"><i class="fa fa-question-circle"></i></span></a></p></td>
<td class="tableblock halign-left valign-middle"><p class="tableblock"><code>1S</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><a id="quarkus-vertx-core_quarkus.vertx.eventbus.reuse-address"></a><code><a href="#quarkus-vertx-core_quarkus.vertx.eventbus.reuse-address">quarkus.vertx.eventbus.reuse-address</a></code></p>
</div>
<div class="openblock description">
<div class="content">
<div class="paragraph">
<p>Whether or not to reuse the address.</p>
</div>
</div>
</div></div></td>
<td class="tableblock halign-left valign-middle"><p class="tableblock">boolean</p></td>
<td class="tableblock halign-left valign-middle"><p class="tableblock"><code>true</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><a id="quarkus-vertx-core_quarkus.vertx.eventbus.reuse-port"></a><code><a href="#quarkus-vertx-core_quarkus.vertx.eventbus.reuse-port">quarkus.vertx.eventbus.reuse-port</a></code></p>
</div>
<div class="openblock description">
<div class="content">
<div class="paragraph">
<p>Whether or not to reuse the port.</p>
</div>
</div>
</div></div></td>
<td class="tableblock halign-left valign-middle"><p class="tableblock">boolean</p></td>
<td class="tableblock halign-left valign-middle"><p class="tableblock"><code>false</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><a id="quarkus-vertx-core_quarkus.vertx.eventbus.send-buffer-size"></a><code><a href="#quarkus-vertx-core_quarkus.vertx.eventbus.send-buffer-size">quarkus.vertx.eventbus.send-buffer-size</a></code></p>
</div>
<div class="openblock description">
<div class="content">
<div class="paragraph">
<p>The send buffer size.</p>
</div>
</div>
</div></div></td>
<td class="tableblock halign-left valign-middle"><p class="tableblock">int</p></td>
<td class="tableblock halign-left valign-middle"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><a id="quarkus-vertx-core_quarkus.vertx.eventbus.solinger"></a><code><a href="#quarkus-vertx-core_quarkus.vertx.eventbus.solinger">quarkus.vertx.eventbus.soLinger</a></code></p>
</div>
<div class="openblock description">
<div class="content">
<div class="paragraph">
<p>The so linger.</p>
</div>
</div>
</div></div></td>
<td class="tableblock halign-left valign-middle"><p class="tableblock">int</p></td>
<td class="tableblock halign-left valign-middle"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><a id="quarkus-vertx-core_quarkus.vertx.eventbus.ssl"></a><code><a href="#quarkus-vertx-core_quarkus.vertx.eventbus.ssl">quarkus.vertx.eventbus.ssl</a></code></p>
</div>
<div class="openblock description">
<div class="content">
<div class="paragraph">
<p>Enables or Disabled SSL.</p>
</div>
</div>
</div></div></td>
<td class="tableblock halign-left valign-middle"><p class="tableblock">boolean</p></td>
<td class="tableblock halign-left valign-middle"><p class="tableblock"><code>false</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><a id="quarkus-vertx-core_quarkus.vertx.eventbus.tcp-keep-alive"></a><code><a href="#quarkus-vertx-core_quarkus.vertx.eventbus.tcp-keep-alive">quarkus.vertx.eventbus.tcp-keep-alive</a></code></p>
</div>
<div class="openblock description">
<div class="content">
<div class="paragraph">
<p>Whether or not to keep the TCP connection opened (keep-alive).</p>
</div>
</div>
</div></div></td>
<td class="tableblock halign-left valign-middle"><p class="tableblock">boolean</p></td>
<td class="tableblock halign-left valign-middle"><p class="tableblock"><code>false</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><a id="quarkus-vertx-core_quarkus.vertx.eventbus.tcp-no-delay"></a><code><a href="#quarkus-vertx-core_quarkus.vertx.eventbus.tcp-no-delay">quarkus.vertx.eventbus.tcp-no-delay</a></code></p>
</div>
<div class="openblock description">
<div class="content">
<div class="paragraph">
<p>Configure the TCP no delay.</p>
</div>
</div>
</div></div></td>
<td class="tableblock halign-left valign-middle"><p class="tableblock">boolean</p></td>
<td class="tableblock halign-left valign-middle"><p class="tableblock"><code>true</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><a id="quarkus-vertx-core_quarkus.vertx.eventbus.traffic-class"></a><code><a href="#quarkus-vertx-core_quarkus.vertx.eventbus.traffic-class">quarkus.vertx.eventbus.traffic-class</a></code></p>
</div>
<div class="openblock description">
<div class="content">
<div class="paragraph">
<p>Configure the traffic class.</p>
</div>
</div>
</div></div></td>
<td class="tableblock halign-left valign-middle"><p class="tableblock">int</p></td>
<td class="tableblock halign-left valign-middle"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><a id="quarkus-vertx-core_quarkus.vertx.eventbus.trust-all"></a><code><a href="#quarkus-vertx-core_quarkus.vertx.eventbus.trust-all">quarkus.vertx.eventbus.trust-all</a></code></p>
</div>
<div class="openblock description">
<div class="content">
<div class="paragraph">
<p>Enables or disables the trust all parameter.</p>
</div>
</div>
</div></div></td>
<td class="tableblock halign-left valign-middle"><p class="tableblock">boolean</p></td>
<td class="tableblock halign-left valign-middle"><p class="tableblock"><code>false</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><a id="quarkus-vertx-core_quarkus.vertx.cluster.host"></a><code><a href="#quarkus-vertx-core_quarkus.vertx.cluster.host">quarkus.vertx.cluster.host</a></code></p>
</div>
<div class="openblock description">
<div class="content">
<div class="paragraph">
<p>The host name.</p>
</div>
</div>
</div></div></td>
<td class="tableblock halign-left valign-middle"><p class="tableblock">string</p></td>
<td class="tableblock halign-left valign-middle"><p class="tableblock"><code>localhost</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><a id="quarkus-vertx-core_quarkus.vertx.cluster.port"></a><code><a href="#quarkus-vertx-core_quarkus.vertx.cluster.port">quarkus.vertx.cluster.port</a></code></p>
</div>
<div class="openblock description">
<div class="content">
<div class="paragraph">
<p>The port.</p>
</div>
</div>
</div></div></td>
<td class="tableblock halign-left valign-middle"><p class="tableblock">int</p></td>
<td class="tableblock halign-left valign-middle"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><a id="quarkus-vertx-core_quarkus.vertx.cluster.public-host"></a><code><a href="#quarkus-vertx-core_quarkus.vertx.cluster.public-host">quarkus.vertx.cluster.public-host</a></code></p>
</div>
<div class="openblock description">
<div class="content">
<div class="paragraph">
<p>The public host name.</p>
</div>
</div>
</div></div></td>
<td class="tableblock halign-left valign-middle"><p class="tableblock">string</p></td>
<td class="tableblock halign-left valign-middle"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><a id="quarkus-vertx-core_quarkus.vertx.cluster.public-port"></a><code><a href="#quarkus-vertx-core_quarkus.vertx.cluster.public-port">quarkus.vertx.cluster.public-port</a></code></p>
</div>
<div class="openblock description">
<div class="content">
<div class="paragraph">
<p>The public port.</p>
</div>
</div>
</div></div></td>
<td class="tableblock halign-left valign-middle"><p class="tableblock">int</p></td>
<td class="tableblock halign-left valign-middle"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><a id="quarkus-vertx-core_quarkus.vertx.cluster.clustered"></a><code><a href="#quarkus-vertx-core_quarkus.vertx.cluster.clustered">quarkus.vertx.cluster.clustered</a></code></p>
</div>
<div class="openblock description">
<div class="content">
<div class="paragraph">
<p>Enables or disables the clustering.</p>
</div>
</div>
</div></div></td>
<td class="tableblock halign-left valign-middle"><p class="tableblock">boolean</p></td>
<td class="tableblock halign-left valign-middle"><p class="tableblock"><code>false</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><a id="quarkus-vertx-core_quarkus.vertx.cluster.ping-interval"></a><code><a href="#quarkus-vertx-core_quarkus.vertx.cluster.ping-interval">quarkus.vertx.cluster.ping-interval</a></code></p>
</div>
<div class="openblock description">
<div class="content">
<div class="paragraph">
<p>The ping interval.</p>
</div>
</div>
</div></div></td>
<td class="tableblock halign-left valign-middle"><p class="tableblock"><a href="https://docs.oracle.com/javase/8/docs/api/java/time/Duration.html">Duration</a>
  <a href="#duration-note-anchor" title="More information about the Duration format"><span class="icon"><i class="fa fa-question-circle"></i></span></a></p></td>
<td class="tableblock halign-left valign-middle"><p class="tableblock"><code>20S</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><a id="quarkus-vertx-core_quarkus.vertx.cluster.ping-reply-interval"></a><code><a href="#quarkus-vertx-core_quarkus.vertx.cluster.ping-reply-interval">quarkus.vertx.cluster.ping-reply-interval</a></code></p>
</div>
<div class="openblock description">
<div class="content">
<div class="paragraph">
<p>The ping reply interval.</p>
</div>
</div>
</div></div></td>
<td class="tableblock halign-left valign-middle"><p class="tableblock"><a href="https://docs.oracle.com/javase/8/docs/api/java/time/Duration.html">Duration</a>
  <a href="#duration-note-anchor" title="More information about the Duration format"><span class="icon"><i class="fa fa-question-circle"></i></span></a></p></td>
<td class="tableblock halign-left valign-middle"><p class="tableblock"><code>20S</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><a id="quarkus-vertx-core_quarkus.vertx.resolver.cache-max-time-to-live"></a><code><a href="#quarkus-vertx-core_quarkus.vertx.resolver.cache-max-time-to-live">quarkus.vertx.resolver.cache-max-time-to-live</a></code></p>
</div>
<div class="openblock description">
<div class="content">
<div class="paragraph">
<p>The maximum amount of time in seconds that a successfully resolved address will be cached.
 If not set explicitly, resolved addresses may be cached forever.</p>
</div>
</div>
</div></div></td>
<td class="tableblock halign-left valign-middle"><p class="tableblock">int</p></td>
<td class="tableblock halign-left valign-middle"><p class="tableblock"><code>2147483647</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><a id="quarkus-vertx-core_quarkus.vertx.resolver.cache-min-time-to-live"></a><code><a href="#quarkus-vertx-core_quarkus.vertx.resolver.cache-min-time-to-live">quarkus.vertx.resolver.cache-min-time-to-live</a></code></p>
</div>
<div class="openblock description">
<div class="content">
<div class="paragraph">
<p>The minimum amount of time in seconds that a successfully resolved address will be cached.</p>
</div>
</div>
</div></div></td>
<td class="tableblock halign-left valign-middle"><p class="tableblock">int</p></td>
<td class="tableblock halign-left valign-middle"><p class="tableblock"><code>0</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><a id="quarkus-vertx-core_quarkus.vertx.resolver.cache-negative-time-to-live"></a><code><a href="#quarkus-vertx-core_quarkus.vertx.resolver.cache-negative-time-to-live">quarkus.vertx.resolver.cache-negative-time-to-live</a></code></p>
</div>
<div class="openblock description">
<div class="content">
<div class="paragraph">
<p>The amount of time in seconds that an unsuccessful attempt to resolve an address will be cached.</p>
</div>
</div>
</div></div></td>
<td class="tableblock halign-left valign-middle"><p class="tableblock">int</p></td>
<td class="tableblock halign-left valign-middle"><p class="tableblock"><code>0</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><a id="quarkus-vertx-core_quarkus.vertx.resolver.max-queries"></a><code><a href="#quarkus-vertx-core_quarkus.vertx.resolver.max-queries">quarkus.vertx.resolver.max-queries</a></code></p>
</div>
<div class="openblock description">
<div class="content">
<div class="paragraph">
<p>The maximum number of queries to be sent during a resolution.</p>
</div>
</div>
</div></div></td>
<td class="tableblock halign-left valign-middle"><p class="tableblock">int</p></td>
<td class="tableblock halign-left valign-middle"><p class="tableblock"><code>4</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><a id="quarkus-vertx-core_quarkus.vertx.resolver.query-timeout"></a><code><a href="#quarkus-vertx-core_quarkus.vertx.resolver.query-timeout">quarkus.vertx.resolver.query-timeout</a></code></p>
</div>
<div class="openblock description">
<div class="content">
<div class="paragraph">
<p>The duration after which a DNS query is considered to be failed.</p>
</div>
</div>
</div></div></td>
<td class="tableblock halign-left valign-middle"><p class="tableblock"><a href="https://docs.oracle.com/javase/8/docs/api/java/time/Duration.html">Duration</a>
  <a href="#duration-note-anchor" title="More information about the Duration format"><span class="icon"><i class="fa fa-question-circle"></i></span></a></p></td>
<td class="tableblock halign-left valign-middle"><p class="tableblock"><code>5S</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><a id="quarkus-vertx-core_quarkus.vertx.prefer-native-transport"></a><code><a href="#quarkus-vertx-core_quarkus.vertx.prefer-native-transport">quarkus.vertx.prefer-native-transport</a></code></p>
</div>
<div class="openblock description">
<div class="content">
<div class="paragraph">
<p>Enable or disable native transport</p>
</div>
</div>
</div></div></td>
<td class="tableblock halign-left valign-middle"><p class="tableblock">boolean</p></td>
<td class="tableblock halign-left valign-middle"><p class="tableblock"><code>false</code></p></td>
</tr>
</tbody>
</table>
<div id="duration-note-anchor" class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
<div class="title">About the Duration format</div>
<div class="paragraph">
<p>The format for durations uses the standard <code>java.time.Duration</code> format.
You can learn more about it in the <a href="https://docs.oracle.com/javase/8/docs/api/java/time/Duration.html#parse-java.lang.CharSequence-">Duration#parse() javadoc</a>.</p>
</div>
<div class="paragraph">
<p>You can also provide duration values starting with a number.
In this case, if the value consists only of a number, the converter treats the value as seconds.
Otherwise, <code>PT</code> is implicitly prepended to the value to obtain a standard <code>java.time.Duration</code> format.</p>
</div>
</td>
</tr>
</table>
</div>
</div>
</div>
<div class="sect1">
<h2 id="using-vertx-clients"><a class="anchor" href="#using-vertx-clients"></a>Using Vert.x clients</h2>
<div class="sectionbody">
<div class="paragraph">
<p>In addition to Vert.x core, you can use most Vert.x ecosystem libraries.
Some Quarkus extension already wraps Vert.x libraries.</p>
</div>
<div class="sect2">
<h3 id="available-apis"><a class="anchor" href="#available-apis"></a>Available APIs</h3>
<div class="paragraph">
<p>The following table lists the most used libraries from the Vert.x ecosystem.
To access these APIs, add the indicated extension or dependency to your project.
Refer to the associated documentation to learn how to use them.</p>
</div>
<table class="tableblock frame-all grid-all stripes-even stretch">
<colgroup>
<col style="width: 33.3333%;">
<col style="width: 33.3333%;">
<col style="width: 33.3334%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">API</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Extension or Dependency</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Documentation</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">AMQP Client</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>io.quarkus:quarkus-smallrye-reactive-messaging-amqp</code> (extension)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="https://quarkus.io/guides/amqp" class="bare">https://quarkus.io/guides/amqp</a></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Circuit Breaker</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>io.smallrye.reactive:smallrye-mutiny-vertx-circuit-breaker</code> (external dependency)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="https://vertx.io/docs/vertx-circuit-breaker/java/" class="bare">https://vertx.io/docs/vertx-circuit-breaker/java/</a></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Consul Client</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>io.smallrye.reactive:smallrye-mutiny-vertx-consul-client</code> (external dependency)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="https://vertx.io/docs/vertx-consul-client/java/" class="bare">https://vertx.io/docs/vertx-consul-client/java/</a></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">DB2 Client</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>io.quarkus:quarkus-reactive-db2-client</code> (extension)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="https://quarkus.io/guides/reactive-sql-clients" class="bare">https://quarkus.io/guides/reactive-sql-clients</a></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Kafka Client</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>io.quarkus:quarkus-smallrye-reactive-messaging-kafka</code> (extension)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="https://quarkus.io/guides/kafka" class="bare">https://quarkus.io/guides/kafka</a></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Mail Client</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>io.quarkus:quarkus-mailer</code> (extension)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="https://quarkus.io/guides/mailer" class="bare">https://quarkus.io/guides/mailer</a></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">MQTT Client</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>io.quarkus:quarkus-smallrye-reactive-messaging-mqtt</code> (extension)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="https://quarkus.io/guides/mqtt" class="bare">https://quarkus.io/guides/mqtt</a></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">MS SQL Client</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>io.quarkus:quarkus-reactive-mssql-client</code> (extension)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="https://quarkus.io/guides/reactive-sql-clients" class="bare">https://quarkus.io/guides/reactive-sql-clients</a></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">MySQL Client</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>io.quarkus:quarkus-reactive-mysql-client</code> (extension)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="https://quarkus.io/guides/reactive-sql-clients" class="bare">https://quarkus.io/guides/reactive-sql-clients</a></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Oracle Client</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>io.quarkus:quarkus-reactive-oracle-client</code> (extension)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="https://quarkus.io/guides/reactive-sql-clients" class="bare">https://quarkus.io/guides/reactive-sql-clients</a></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">PostgreSQL Client</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>io.quarkus:quarkus-reactive-pg-client</code> (extension)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="https://quarkus.io/guides/reactive-sql-clients" class="bare">https://quarkus.io/guides/reactive-sql-clients</a></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">RabbitMQ Client</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>io.smallrye.reactive:smallrye-mutiny-vertx-rabbitmq-client</code> (external dependency)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="https://vertx.io/docs/vertx-rabbitmq-client/java" class="bare">https://vertx.io/docs/vertx-rabbitmq-client/java</a></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Redis Client</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>io.quarkus:quarkus-redis-client</code> (extension)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="https://quarkus.io/guides/redis" class="bare">https://quarkus.io/guides/redis</a></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Web Client</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>io.smallrye.reactive:smallrye-mutiny-vertx-web-client</code> (external dependency)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="https://vertx.io/docs/vertx-web-client/java/" class="bare">https://vertx.io/docs/vertx-web-client/java/</a></p></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p>To learn more about the usage of the Vert.x Mutiny API, refer to <a href="https://smallrye.io/smallrye-mutiny-vertx-bindings" class="bare">https://smallrye.io/smallrye-mutiny-vertx-bindings</a>.</p>
</div>
</div>
<div class="sect2">
<h3 id="example-of-usage"><a class="anchor" href="#example-of-usage"></a>Example of usage</h3>
<div class="paragraph">
<p>This section gives an example using the Vert.x <code>WebClient</code> in the context of a RESTEasy Reactive application.
As indicated in the table above, add the following dependency to your project:</p>
</div>
<div class="listingblock primary asciidoc-tabs-target-sync-cli asciidoc-tabs-target-sync-maven">
<div class="title">pom.xml</div>
<div class="content">
<pre class="highlightjs highlight"><code class="language-xml hljs" data-lang="xml">&lt;dependency&gt;
    &lt;groupId&gt;io.smallrye.reactive&lt;/groupId&gt;
    &lt;artifactId&gt;smallrye-mutiny-vertx-web-client&lt;/artifactId&gt;
&lt;/dependency&gt;</code></pre>
</div>
</div>
<div class="listingblock secondary asciidoc-tabs-target-sync-gradle">
<div class="title">build.gradle</div>
<div class="content">
<pre class="highlightjs highlight"><code class="language-gradle hljs" data-lang="gradle">implementation("io.smallrye.reactive:smallrye-mutiny-vertx-web-client")</code></pre>
</div>
</div>
<div class="paragraph">
<p>Now, in your code, you can create an instance of <code>WebClient</code>:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-java hljs" data-lang="java">package org.acme.vertx;


import javax.annotation.PostConstruct;
import javax.inject.Inject;
import javax.ws.rs.GET;
import javax.ws.rs.Path;
import javax.ws.rs.Produces;
import javax.ws.rs.core.MediaType;

import io.smallrye.mutiny.Uni;

import io.vertx.mutiny.core.Vertx;
import io.vertx.mutiny.ext.web.client.WebClient;
import io.vertx.core.json.JsonObject;
import io.vertx.ext.web.client.WebClientOptions;

@Path("/fruit-data")
public class ResourceUsingWebClient {

    private final WebClient client;

    @Inject
    VertxResource(Vertx vertx) {
        this.client = WebClient.create(vertx);
    }

    @GET
    @Produces(MediaType.APPLICATION_JSON)
    @Path("/{name}")
    public Uni&lt;JsonObject&gt; getFruitData(String name) {
        return client.getAbs("https://.../api/fruit/" + name)
                .send()
                .onItem().transform(resp -&gt; {
                    if (resp.statusCode() == 200) {
                        return resp.bodyAsJsonObject();
                    } else {
                        return new JsonObject()
                                .put("code", resp.statusCode())
                                .put("message", resp.bodyAsString());
                    }
                });
    }

}</code></pre>
</div>
</div>
<div class="paragraph">
<p>This resource creates a <code>WebClient</code> and, upon request, uses this client to invoke a remote HTTP API.
Depending on the result, the response is forwarded as received, or it creates a JSON object wrapping the error.
The <code>WebClient</code> is asynchronous (and non-blocking), to the endpoint returns a <code>Uni</code>.</p>
</div>
<div class="paragraph">
<p>The application can also run as a native executable.
But, first, we need to instruct Quarkus to enable <em>ssl</em> (if the remote API uses HTTPS).
Open the <code>src/main/resources/application.properties</code> and add:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-properties hljs" data-lang="properties">quarkus.ssl.native=true</code></pre>
</div>
</div>
<div class="paragraph">
<p>Then, create the native executable with:</p>
</div>
<div class="listingblock primary asciidoc-tabs-sync-cli">
<div class="title">CLI</div>
<div class="content">
<pre class="highlightjs highlight"><code class="language-bash hljs" data-lang="bash">quarkus build --native</code></pre>
</div>
</div>
<div class="listingblock secondary asciidoc-tabs-sync-maven">
<div class="title">Maven</div>
<div class="content">
<pre class="highlightjs highlight"><code class="language-bash hljs" data-lang="bash">./mvnw package -Dnative</code></pre>
</div>
</div>
<div class="listingblock secondary asciidoc-tabs-sync-gradle">
<div class="title">Gradle</div>
<div class="content">
<pre class="highlightjs highlight"><code class="language-bash hljs" data-lang="bash">./gradlew build -Dquarkus.package.type=native</code></pre>
</div>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="using-vert-x-json"><a class="anchor" href="#using-vert-x-json"></a>Using Vert.x JSON</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Vert.x APIs often rely on JSON.
Vert.x provides two convenient classes to manipulate JSON document: <code>io.vertx.core.json.JsonObject</code> and <code>io.vertx.core.json.JsonArray</code>.</p>
</div>
<div class="paragraph">
<p><code>JsonObject</code> can be used to map an object into its JSON representation and build an object from a JSON document:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-java hljs" data-lang="java">// Map an object into JSON
Person person = ...;
JsonObject json = JsonObject.mapFrom(person);

// Build an object from JSON
json = new JsonObject();
person = json.mapTo(Person.class);</code></pre>
</div>
</div>
<div class="paragraph">
<p>Note that these features use the mapper managed by the <code>quarkus-jackson</code> extension.
Refer to <a href="rest-json#json">Jackson configuration</a> to customize the mapping.</p>
</div>
<div class="paragraph">
<p>JSON Object and JSON Array are both supported as Quarkus HTTP endpoint requests and response bodies (using classic RESTEasy and RESTEasy Reactive).
Consider these endpoints:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-java hljs" data-lang="java">package org.acme.vertx;

import io.vertx.core.json.JsonObject;
import io.vertx.core.json.JsonArray;

import javax.ws.rs.GET;
import javax.ws.rs.Path;
import javax.ws.rs.Produces;
import javax.ws.rs.core.MediaType;

@Path("/hello")
@Produces(MediaType.APPLICATION_JSON)
public class VertxJsonResource {

    @GET
    @Path("{name}/object")
    public JsonObject jsonObject(String name) {
        return new JsonObject().put("Hello", name);
    }

    @GET
    @Path("{name}/array")
    public JsonArray jsonArray(String name) {
        return new JsonArray().add("Hello").add(name);
    }
}</code></pre>
</div>
</div>
<div class="paragraph">
<p><a href="http://localhost:8080/hello/Quarkus/object" class="bare">http://localhost:8080/hello/Quarkus/object</a> returns:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-text hljs" data-lang="text">{"Hello":"Quarkus"}</code></pre>
</div>
</div>
<div class="paragraph">
<p><a href="http://localhost:8080/hello/Quarkus/array" class="bare">http://localhost:8080/hello/Quarkus/array</a> returns:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-text hljs" data-lang="text">["Hello","Quarkus"]</code></pre>
</div>
</div>
<div class="paragraph">
<p>This works equally well when the JSON content is a request body or is wrapped in a <code>Uni</code>, <code>Multi</code>, <code>CompletionStage</code> or <code>Publisher</code>.</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="using-verticles"><a class="anchor" href="#using-verticles"></a>Using verticles</h2>
<div class="sectionbody">
<div class="paragraph">
<p><a href="https://vertx.io/docs/vertx-core/java/#<em>verticles">Verticles</a> is "a simple, scalable, actor-like deployment and concurrency model" provided by _Vert.x</em>.
This model does not claim to be a strict actor-model implementation, but it shares similarities, especially concerning concurrency, scaling, and deployment.
To use this model, you write and <em>deploy</em> verticles, communicating by sending messages on the event bus.</p>
</div>
<div class="paragraph">
<p>You can deploy <em>verticles</em> in Quarkus.
It supports:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><em>bare</em> verticle - Java classes extending <code>io.vertx.core.AbstractVerticle</code></p>
</li>
<li>
<p><em>Mutiny</em> verticle - Java classes extending <code>io.smallrye.mutiny.vertx.core.AbstractVerticle</code></p>
</li>
</ul>
</div>
<div class="sect2">
<h3 id="deploying-verticles"><a class="anchor" href="#deploying-verticles"></a>Deploying verticles</h3>
<div class="paragraph">
<p>To deploy verticles, use the <code>deployVerticle</code> method:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-java hljs" data-lang="java">@Inject Vertx vertx;

// ...
vertx.deployVerticle(MyVerticle.class.getName(), ar -&gt; { });
vertx.deployVerticle(new MyVerticle(), ar -&gt; { });</code></pre>
</div>
</div>
<div class="paragraph">
<p>If you use the Mutiny-variant of Vert.x, be aware that the <code>deployVerticle</code> method returns a <code>Uni</code>, and you would need to trigger a subscription to make the actual deployment.</p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
An example explaining how to deploy verticles during the initialization of the application will follow.
</td>
</tr>
</table>
</div>
</div>
<div class="sect2">
<h3 id="using-applicationscoped-beans-as-verticle"><a class="anchor" href="#using-applicationscoped-beans-as-verticle"></a>Using @ApplicationScoped Beans as Verticle</h3>
<div class="paragraph">
<p>In general, Vert.x verticles are not CDI beans.
And so cannot use injection.
However, in Quarkus, you can deploy verticles as beans.
Note that in this case, CDI (Arc in Quarkus) is responsible for creating the instance.</p>
</div>
<div class="paragraph">
<p>The following snippet provides an example:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-java hljs" data-lang="java">package io.quarkus.vertx.verticles;

import io.smallrye.mutiny.Uni;
import io.smallrye.mutiny.vertx.core.AbstractVerticle;
import org.eclipse.microprofile.config.inject.ConfigProperty;

import javax.enterprise.context.ApplicationScoped;

@ApplicationScoped
public class MyBeanVerticle extends AbstractVerticle {

    @ConfigProperty(name = "address") String address;

    @Override
    public Uni&lt;Void&gt; asyncStart() {
        return vertx.eventBus().consumer(address)
                .handler(m -&gt; m.replyAndForget("hello"))
                .completionHandler();
    }
}</code></pre>
</div>
</div>
<div class="paragraph">
<p>You don&#8217;t have to inject the <code>vertx</code> instance; instead, leverage the protected field from <code>AbstractVerticle</code>.</p>
</div>
<div class="paragraph">
<p>Then, deploy the verticle instances with:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-java hljs" data-lang="java">package io.quarkus.vertx.verticles;

import io.quarkus.runtime.StartupEvent;
import io.vertx.mutiny.core.Vertx;

import javax.enterprise.context.ApplicationScoped;
import javax.enterprise.event.Observes;

@ApplicationScoped
public class VerticleDeployer {

    public void init(@Observes StartupEvent e, Vertx vertx, MyBeanVerticle verticle) {
         vertx.deployVerticle(verticle).await().indefinitely();
    }
}</code></pre>
</div>
</div>
<div class="paragraph">
<p>If you want to deploy every exposed <code>AbstractVerticle</code>, you can use:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-java hljs" data-lang="java">public void init(@Observes StartupEvent e, Vertx vertx, Instance&lt;AbstractVerticle&gt; verticles) {
    for (AbstractVerticle verticle : verticles) {
        vertx.deployVerticle(verticle).await().indefinitely();
    }
}</code></pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="using-multiple-verticles-instances"><a class="anchor" href="#using-multiple-verticles-instances"></a>Using multiple verticles instances</h3>
<div class="paragraph">
<p>When using <code>@ApplicationScoped</code>, you will get a single instance for your verticle.
Having multiple instances of verticles can be helpful to share the load among them.
Each of them will be associated with a different I/O thread (Vert.x event loop).</p>
</div>
<div class="paragraph">
<p>To deploy multiple instances of your verticle, use the <code>@Dependent</code> scope instead of <code>@ApplicationScoped</code>:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-java hljs" data-lang="java">package org.acme.verticle;

import io.smallrye.mutiny.Uni;
import io.smallrye.mutiny.vertx.core.AbstractVerticle;

import javax.enterprise.context.Dependent;
import javax.inject.Inject;

@Dependent
public class MyVerticle extends AbstractVerticle {

    @Override
    public Uni&lt;Void&gt; asyncStart() {
        return vertx.eventBus().consumer("address")
                .handler(m -&gt; m.reply("Hello from " + this))
                .completionHandler();
    }
}</code></pre>
</div>
</div>
<div class="paragraph">
<p>Then, deploy your verticle as follows:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-java hljs" data-lang="java">package org.acme.verticle;

import io.quarkus.runtime.StartupEvent;
import io.vertx.core.DeploymentOptions;
import io.vertx.mutiny.core.Vertx;

import javax.enterprise.context.ApplicationScoped;
import javax.enterprise.event.Observes;
import javax.enterprise.inject.Instance;
import javax.inject.Inject;

@ApplicationScoped
public class MyApp {

    void init(@Observes StartupEvent ev, Vertx vertx, Instance&lt;MyVerticle&gt; verticles) {
        vertx
                .deployVerticle(verticles::get, new DeploymentOptions().setInstances(2))
                .await().indefinitely();
    }
}</code></pre>
</div>
</div>
<div class="paragraph">
<p>The <code>init</code> method receives an <code>Instance&lt;MyVerticle&gt;</code>.
Then, you pass a supplier to the <code>deployVerticle</code> method.
The supplier is just calling the <code>get()</code> method.
Thanks to the <code>@Dependent</code> scope, it returns a new instance on every call.
Finally, you pass the desired number of instances to the <code>DeploymentOptions</code>, such as two in the previous example.
It will call the supplier twice, which will create two instances of your verticle.</p>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="eventbus"><a class="anchor" href="#eventbus"></a>Using the event bus</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Vert.x comes with a built-in <a href="https://vertx.io/docs/vertx-core/java/#event_bus">event bus</a> that you can use from your Quarkus application.
So, your application components (CDI beans, resources&#8230;&#8203;) can interact using asynchronous events, thus promoting loose-coupling.</p>
</div>
<div class="paragraph">
<p>With the event bus, you send <em>messages</em> to <em>virtual addresses</em>.
The event bus offers three types of delivery mechanisms:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>point-to-point - send the message, one consumer receives it. If several consumers listen to the address, a round-robin is applied;</p>
</li>
<li>
<p>publish/subscribe - publish a message; all the consumers listening to the address are receiving the message;</p>
</li>
<li>
<p>request/reply - send the message and expect a response. The receiver can respond to the message in an asynchronous fashion.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>All these delivery mechanisms are non-blocking and are providing one of the fundamental bricks to build reactive applications.</p>
</div>
<div class="sect2">
<h3 id="consuming-events"><a class="anchor" href="#consuming-events"></a>Consuming events</h3>
<div class="paragraph">
<p>While you can use the Vert.x API to register consumers, Quarkus comes with declarative support.
To consume events, use the <code>io.quarkus.vertx.ConsumeEvent</code> annotation:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-java hljs" data-lang="java">package org.acme.vertx;

import io.quarkus.vertx.ConsumeEvent;

import javax.enterprise.context.ApplicationScoped;

@ApplicationScoped
public class GreetingService {

    @ConsumeEvent                           <i class="conum" data-value="1"></i><b>(1)</b>
    public String consume(String name) {    <i class="conum" data-value="2"></i><b>(2)</b>
        return name.toUpperCase();
    }
}</code></pre>
</div>
</div>
<div class="colist arabic">
<table>
<tr>
<td><i class="conum" data-value="1"></i><b>1</b></td>
<td>If not set, the address is the fully qualified name of the bean; for instance, in this snippet, it&#8217;s <code>org.acme.vertx.GreetingService</code>.</td>
</tr>
<tr>
<td><i class="conum" data-value="2"></i><b>2</b></td>
<td>The method parameter is the message body. If the method returns <em>something</em>, it&#8217;s the message response.</td>
</tr>
</table>
</div>
</div>
<div class="sect2">
<h3 id="configuring-the-address"><a class="anchor" href="#configuring-the-address"></a>Configuring the address</h3>
<div class="paragraph">
<p>The <code>@ConsumeEvent</code> annotation can be configured to set the address:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-java hljs" data-lang="java">@ConsumeEvent("greeting")               <i class="conum" data-value="1"></i><b>(1)</b>
public String consume(String name) {
    return name.toUpperCase();
}</code></pre>
</div>
</div>
<div class="colist arabic">
<table>
<tr>
<td><i class="conum" data-value="1"></i><b>1</b></td>
<td>Receive the messages sent to the <code>greeting</code> address</td>
</tr>
</table>
</div>
</div>
<div class="sect2">
<h3 id="asynchronous-processing"><a class="anchor" href="#asynchronous-processing"></a>Asynchronous processing</h3>
<div class="paragraph">
<p>The previous examples use synchronous processing.
Asynchronous processing is also possible by returning either an <code>io.smallrye.mutiny.Uni</code> or a <code>java.util.concurrent.CompletionStage</code>:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-java hljs" data-lang="java">package org.acme.vertx;

import io.quarkus.vertx.ConsumeEvent;

import javax.enterprise.context.ApplicationScoped;
import java.util.concurrent.CompletableFuture;
import java.util.concurrent.CompletionStage;
import io.smallrye.mutiny.Uni;

@ApplicationScoped
public class GreetingService {

    @ConsumeEvent
    public CompletionStage&lt;String&gt; consume(String name) {
        // return a CompletionStage completed when the processing is finished.
        // You can also fail the CompletionStage explicitly
    }

    @ConsumeEvent
    public Uni&lt;String&gt; process(String name) {
        // return an Uni completed when the processing is finished.
        // You can also fail the Uni explicitly
    }
}</code></pre>
</div>
</div>
<div class="admonitionblock tip">
<table>
<tr>
<td class="icon">
<i class="fa icon-tip" title="Tip"></i>
</td>
<td class="content">
<div class="title">Mutiny</div>
<div class="paragraph">
<p>The previous example uses Mutiny reactive types.
If you are not familiar with Mutiny, check <a href="mutiny-primer">Mutiny - an intuitive reactive programming library</a>.</p>
</div>
</td>
</tr>
</table>
</div>
</div>
<div class="sect2">
<h3 id="blocking-processing"><a class="anchor" href="#blocking-processing"></a>Blocking processing</h3>
<div class="paragraph">
<p>By default, the code consuming the event must be <em>non-blocking</em>, as it&#8217;s called on an I/O thread.
If your processing is blocking, use the <code>@io.smallrye.common.annotation.Blocking</code> annotation:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-java hljs" data-lang="java">@ConsumeEvent(value = "blocking-consumer")
@Blocking
void consumeBlocking(String message) {
    // Something blocking
}</code></pre>
</div>
</div>
<div class="paragraph">
<p>Alternatively, you can use the <code>blocking</code> attribute from the <code>@ConsumeEvent</code> annotation:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-java hljs" data-lang="java">@ConsumeEvent(value = "blocking-consumer", blocking = true)
void consumeBlocking(String message) {
    // Something blocking
}</code></pre>
</div>
</div>
<div class="paragraph">
<p>When using <code>@Blocking</code>, it ignores the value of the <code>blocking</code> attribute of <code>@ConsumeEvent</code>.</p>
</div>
</div>
<div class="sect2">
<h3 id="replying-to-messages"><a class="anchor" href="#replying-to-messages"></a>Replying to messages</h3>
<div class="paragraph">
<p>The <em>return</em> value of a method annotated with <code>@ConsumeEvent</code> is used to respond to the incoming message.
For instance, in the following snippet, the returned <code>String</code> is the response.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-java hljs" data-lang="java">@ConsumeEvent("greeting")
public String consume(String name) {
    return name.toUpperCase();
}</code></pre>
</div>
</div>
<div class="paragraph">
<p>You can also return a <code>Uni&lt;T&gt;</code> or a <code>CompletionStage&lt;T&gt;</code> to handle asynchronous reply:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-java hljs" data-lang="java">@ConsumeEvent("greeting")
public Uni&lt;String&gt; consume2(String name) {
    return Uni.createFrom().item(() -&gt; name.toUpperCase()).emitOn(executor);
}</code></pre>
</div>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
<div class="paragraph">
<p>You can inject an <code>executor</code> if you use the Context Propagation extension:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-code hljs" data-lang="code">@Inject Executor executor;</code></pre>
</div>
</div>
</td>
</tr>
</table>
</div>
</div>
<div class="sect2">
<h3 id="implementing-fire-and-forget-interactions"><a class="anchor" href="#implementing-fire-and-forget-interactions"></a>Implementing fire and forget interactions</h3>
<div class="paragraph">
<p>You don&#8217;t have to reply to received messages.
Typically, for a <em>fire and forget</em> interaction, the messages are consumed, and the sender does not need to know about it.
To implement this pattern, your consumer method returns <code>void</code>.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-java hljs" data-lang="java">@ConsumeEvent("greeting")
public void consume(String event) {
    // Do something with the event
}</code></pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="dealing-with-messages"><a class="anchor" href="#dealing-with-messages"></a>Dealing with messages</h3>
<div class="paragraph">
<p>Unlike the previous example using the <em>payloads</em> directly, you can also use <code>Message</code> directly:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-java hljs" data-lang="java">@ConsumeEvent("greeting")
public void consume(Message&lt;String&gt; msg) {
    System.out.println(msg.address());
    System.out.println(msg.body());
}</code></pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="handling-failures"><a class="anchor" href="#handling-failures"></a>Handling Failures</h3>
<div class="paragraph">
<p>If a method annotated with <code>@ConsumeEvent</code> throws an exception, then:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>if a reply handler is set, then the failure is propagated back to the sender via an <code>io.vertx.core.eventbus.ReplyException</code> with code <code>ConsumeEvent#FAILURE_CODE</code> and the exception message,</p>
</li>
<li>
<p>if no reply handler is set, then the exception is rethrown (and wrapped in a <code>RuntimeException</code> if necessary) and can be handled by the default exception handler, i.e. <code>io.vertx.core.Vertx#exceptionHandler()</code>.</p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="sending-messages"><a class="anchor" href="#sending-messages"></a>Sending messages</h3>
<div class="paragraph">
<p>Sending and publishing messages use the Vert.x event bus:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-java hljs" data-lang="java">package org.acme.vertx;

import io.smallrye.mutiny.Uni;
import io.vertx.mutiny.core.eventbus.EventBus;
import io.vertx.mutiny.core.eventbus.Message;

import javax.inject.Inject;
import javax.ws.rs.GET;
import javax.ws.rs.Path;
import javax.ws.rs.Produces;
import javax.ws.rs.core.MediaType;

@Path("/async")
public class EventResource {

    @Inject
    EventBus bus;                                            <i class="conum" data-value="1"></i><b>(1)</b>

    @GET
    @Produces(MediaType.TEXT_PLAIN)
    @Path("{name}")
    public Uni&lt;String&gt; greeting(String name) {
        return bus.&lt;String&gt;request("greeting", name)        <i class="conum" data-value="2"></i><b>(2)</b>
                .onItem().transform(Message::body);
    }
}</code></pre>
</div>
</div>
<div class="colist arabic">
<table>
<tr>
<td><i class="conum" data-value="1"></i><b>1</b></td>
<td>Inject the Event bus</td>
</tr>
<tr>
<td><i class="conum" data-value="2"></i><b>2</b></td>
<td>Send a message to the address <code>greeting</code>. Message payload is <code>name</code></td>
</tr>
</table>
</div>
<div class="paragraph">
<p>The <code>EventBus</code> object provides methods to:</p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p><code>send</code> a message to a specific address - one single consumer receives the message.</p>
</li>
<li>
<p><code>publish</code> a message to a specific address - all consumers receive the messages.</p>
</li>
<li>
<p><code>request</code> a message and expect a reply</p>
</li>
</ol>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-java hljs" data-lang="java">// Case 1
bus.sendAndForget("greeting", name)
// Case 2
bus.publish("greeting", name)
// Case 3
Uni&lt;String&gt; response = bus.&lt;String&gt;request("address", "hello, how are you?")
        .onItem().transform(Message::body);</code></pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="using-codecs"><a class="anchor" href="#using-codecs"></a>Using codecs</h3>
<div class="paragraph">
<p>The <a href="https://vertx.io/docs/vertx-core/java/#event_bus">Vert.x Event Bus</a> uses codecs to <em>serialize</em> and <em>deserialize</em> objects.
Quarkus provides a default codec for local delivery.
So you can exchange objects as follows:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-java hljs" data-lang="java">@GET
@Produces(MediaType.TEXT_PLAIN)
@Path("{name}")
public Uni&lt;String&gt; greeting(String name) {
    return bus.&lt;String&gt;request("greeting", new MyName(name))
        .onItem().transform(Message::body);
}

@ConsumeEvent(value = "greeting")
Uni&lt;String&gt; greeting(MyName name) {
    return Uni.createFrom().item(() -&gt; "Hello " + name.getName());
}</code></pre>
</div>
</div>
<div class="paragraph">
<p>If you want to use a specific codec, you need to set it on both ends explicitly:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-java hljs" data-lang="java">@GET
@Produces(MediaType.TEXT_PLAIN)
@Path("{name}")
public Uni&lt;String&gt; greeting(String name) {
    return bus.&lt;String&gt;request("greeting", name,
        new DeliveryOptions().setCodecName(MyNameCodec.class.getName())) <i class="conum" data-value="1"></i><b>(1)</b>
        .onItem().transform(Message::body);
}

@ConsumeEvent(value = "greeting", codec = MyNameCodec.class)            <i class="conum" data-value="2"></i><b>(2)</b>
Uni&lt;String&gt; greeting(MyName name) {
    return Uni.createFrom().item(() -&gt; "Hello "+name.getName());
}</code></pre>
</div>
</div>
<div class="colist arabic">
<table>
<tr>
<td><i class="conum" data-value="1"></i><b>1</b></td>
<td>Set the name of the codec to use to send the message</td>
</tr>
<tr>
<td><i class="conum" data-value="2"></i><b>2</b></td>
<td>Set the codec to use to receive the message</td>
</tr>
</table>
</div>
</div>
<div class="sect2">
<h3 id="combining-http-and-the-event-bus"><a class="anchor" href="#combining-http-and-the-event-bus"></a>Combining HTTP and the event bus</h3>
<div class="paragraph">
<p>Let&#8217;s revisit a greeting HTTP endpoint and use asynchronous message passing to delegate the call to a separated bean.
It uses the request/reply dispatching mechanism.
Instead of implementing the business logic inside the JAX-RS endpoint, we are sending a message.
Another bean consumes this message, and the response is sent using the <em>reply</em> mechanism.</p>
</div>
<div class="paragraph">
<p>In your HTTP endpoint class, inject the event bus and uses the <code>request</code> method to send a message to the event bus and expect a response:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-java hljs" data-lang="java">package org.acme.vertx;

import io.smallrye.mutiny.Uni;
import io.vertx.mutiny.core.eventbus.EventBus;
import io.vertx.mutiny.core.eventbus.Message;

import javax.inject.Inject;
import javax.ws.rs.GET;
import javax.ws.rs.Path;
import javax.ws.rs.Produces;
import javax.ws.rs.core.MediaType;

@Path("/bus")
public class EventResource {

    @Inject
    EventBus bus;

    @GET
    @Produces(MediaType.TEXT_PLAIN)
    @Path("{name}")
    public Uni&lt;String&gt; greeting(String name) {
        return bus.&lt;String&gt;request("greeting", name)            <i class="conum" data-value="1"></i><b>(1)</b>
                .onItem().transform(Message::body);            <i class="conum" data-value="2"></i><b>(2)</b>
    }
}</code></pre>
</div>
</div>
<div class="colist arabic">
<table>
<tr>
<td><i class="conum" data-value="1"></i><b>1</b></td>
<td>send the <code>name</code> to the <code>greeting</code> address and request a response</td>
</tr>
<tr>
<td><i class="conum" data-value="2"></i><b>2</b></td>
<td>when we get the response, extract the body and send it to the user</td>
</tr>
</table>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
the HTTP method returns a <code>Uni</code>.
If you are using RESTEasy Reactive, <code>Uni</code> support is built-in.
If you are using <em>classic</em> RESTEasy, you need to add the <code>quarkus resteasy-mutiny</code> extension to your project.
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>We need a consumer listening on the <code>greeting</code> address.
This consumer can be in the same class or another bean such as:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-java hljs" data-lang="java">package org.acme.vertx;

import io.quarkus.vertx.ConsumeEvent;

import javax.enterprise.context.ApplicationScoped;

@ApplicationScoped
public class GreetingService {

    @ConsumeEvent("greeting")
    public String greeting(String name) {
        return "Hello " + name;
    }

}</code></pre>
</div>
</div>
<div class="paragraph">
<p>This bean receives the name and returns the greeting message.</p>
</div>
<div class="paragraph">
<p>With this in place, every HTTP request on <code>/bus/quarkus</code> sends a message to the event bus, waits for a reply, and when this one arrives, writes the HTTP response:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-text hljs" data-lang="text">Hello Quarkus</code></pre>
</div>
</div>
<div class="paragraph">
<p>To better understand, let&#8217;s detail how the HTTP request/response has been handled:</p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>The request is received by the <code>greeting</code> method</p>
</li>
<li>
<p>a message containing the <em>name</em> is sent to the event bus</p>
</li>
<li>
<p>Another bean receives this message and computes the response</p>
</li>
<li>
<p>This response is sent back using the reply mechanism</p>
</li>
<li>
<p>Once the reply is received by the sender, the content is written to the HTTP response</p>
</li>
</ol>
</div>
</div>
<div class="sect2">
<h3 id="bi-directional-communication-with-browsers-using-sockjs"><a class="anchor" href="#bi-directional-communication-with-browsers-using-sockjs"></a>Bi-directional communication with browsers using SockJS</h3>
<div class="paragraph">
<p>The SockJS bridge provided by Vert.x allows browser applications and Quarkus applications to communicate using the event bus.
It connects both sides.
So, both sides can send messages received on the other side.
It supports the three delivery mechanisms.</p>
</div>
<div class="paragraph">
<p>SockJS negotiates the communication channel between the Quarkus application and the browser.
If WebSockets are supported, it uses them; otherwise, it degrades to SSE, long polling, etc.</p>
</div>
<div class="paragraph">
<p>So use SockJS, you need to configure the bridge, especially the addresses that will be used to communicate:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-java hljs" data-lang="java">package org.acme.vertx;

import io.vertx.core.Vertx;
import io.vertx.ext.bridge.PermittedOptions;
import io.vertx.ext.web.Router;
import io.vertx.ext.web.handler.sockjs.SockJSBridgeOptions;
import io.vertx.ext.web.handler.sockjs.SockJSHandler;

import javax.enterprise.context.ApplicationScoped;
import javax.enterprise.event.Observes;
import javax.inject.Inject;
import java.util.concurrent.atomic.AtomicInteger;

@ApplicationScoped
public class SockJsExample {

    @Inject
    Vertx vertx;

    public void init(@Observes Router router) {
        SockJSHandler sockJSHandler = SockJSHandler.create(vertx);
        sockJSHandler.bridge(new SockJSBridgeOptions()
                .addOutboundPermitted(new PermittedOptions().setAddress("ticks")));
        router.route("/eventbus/*").handler(sockJSHandler);
    }

}</code></pre>
</div>
</div>
<div class="paragraph">
<p>This code configures the SockJS bridge to send all the messages targeting the <code>ticks</code> address to the connected browsers.
More detailled explanations about the configuration can be found on <a href="https://vertx.io/docs/vertx-web/java/#_sockjs_event_bus_bridge">the Vert.x SockJS Bridge documentation</a>.</p>
</div>
<div class="paragraph">
<p>The browser must use the <code>vertx-eventbus</code> JavaScript library to consume the message:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-html hljs" data-lang="html">&lt;!doctype html&gt;
&lt;html&gt;
&lt;head&gt;
    &lt;meta charset="utf-8"/&gt;
    &lt;title&gt;SockJS example - Quarkus&lt;/title&gt;
    &lt;script src="https://code.jquery.com/jquery-3.3.1.min.js"
            integrity="sha256-FgpCb/KJQlLNfOu91ta32o/NMZxltwRo8QtmkMRdAu8=" crossorigin="anonymous"&gt;&lt;/script&gt;
    &lt;script type="application/javascript" src="https://cdn.jsdelivr.net/sockjs/0.3.4/sockjs.min.js"&gt;&lt;/script&gt;
    &lt;script src="https://cdn.jsdelivr.net/npm/vertx3-eventbus-client@3.8.5/vertx-eventbus.min.js"&gt;&lt;/script&gt;
&lt;/head&gt;
&lt;body&gt;

&lt;h1&gt;SockJS Examples&lt;/h1&gt;

&lt;p&gt;&lt;strong&gt;Last Tick:&lt;/strong&gt; &lt;span id="tick"&gt;&lt;/span&gt;&lt;/p&gt;

&lt;/body&gt;
&lt;script&gt;
    var eb = new EventBus('/eventbus');

    eb.onopen = function () {

        eb.registerHandler('ticks', function (error, message) {
            $("#tick").html(message.body);
        });
    }

&lt;/script&gt;
&lt;/html&gt;</code></pre>
</div>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="native-transport"><a class="anchor" href="#native-transport"></a>Native Transport</h2>
<div class="sectionbody">
<div class="admonitionblock important">
<table>
<tr>
<td class="icon">
<i class="fa icon-important" title="Important"></i>
</td>
<td class="content">
Native transports are not supported in GraalVM produced binaries.
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>Vert.x is capable of using <a href="https://netty.io/wiki/native-transports.html">Netty&#8217;s native transports</a>, which offers
performance improvements on specific platforms.To enable them, you must include the appropriate dependency for your
platform. It&#8217;s usually a good idea to have both to keep your application platform agnostic. Netty is smart enough
to use the correct one, that includes none at all on unsupported platforms:</p>
</div>
<div class="listingblock primary asciidoc-tabs-target-sync-cli asciidoc-tabs-target-sync-maven">
<div class="title">pom.xml</div>
<div class="content">
<pre class="highlightjs highlight"><code class="language-xml hljs" data-lang="xml">&lt;dependency&gt;
  &lt;groupId&gt;io.netty&lt;/groupId&gt;
  &lt;artifactId&gt;netty-transport-native-epoll&lt;/artifactId&gt;
  &lt;classifier&gt;linux-x86_64&lt;/classifier&gt;
&lt;/dependency&gt;

&lt;dependency&gt;
  &lt;groupId&gt;io.netty&lt;/groupId&gt;
  &lt;artifactId&gt;netty-transport-native-kqueue&lt;/artifactId&gt;
  &lt;classifier&gt;osx-x86_64&lt;/classifier&gt;
&lt;/dependency&gt;</code></pre>
</div>
</div>
<div class="listingblock secondary asciidoc-tabs-target-sync-gradle">
<div class="title">build.gradle</div>
<div class="content">
<pre class="highlightjs highlight"><code class="language-gradle hljs" data-lang="gradle">implementation("io.netty:netty-transport-native-epoll::linux-x86_64")

implementation("io.netty:netty-transport-native-kqueue::osx-x86_64")</code></pre>
</div>
</div>
<div class="paragraph">
<p>You will also have to explicitly configure Vert.x to use the native transport.
In <code>application.properties</code> add:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-properties hljs" data-lang="properties">quarkus.vertx.prefer-native-transport=true</code></pre>
</div>
</div>
<div class="paragraph">
<p>Or in <code>application.yml</code>:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-yml hljs" data-lang="yml">quarkus:
  vertx:
    prefer-native-transport: true</code></pre>
</div>
</div>
<div class="paragraph">
<p>If all is well quarkus will log:</p>
</div>
<div class="listingblock">
<div class="content">
<pre>[io.qua.ver.cor.run.VertxCoreRecorder] (main) Vertx has Native Transport Enabled: true</pre>
</div>
</div>
<div class="sect2">
<h3 id="native-linux-transport"><a class="anchor" href="#native-linux-transport"></a>Native Linux Transport</h3>
<div class="paragraph">
<p>On Linux you can enable the following socket options:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>SO_REUSEPORT</p>
</li>
</ul>
</div>
<div class="listingblock">
<div class="content">
<pre>quarkus.http.so-reuse-port=true</pre>
</div>
</div>
<div class="ulist">
<ul>
<li>
<p>TCP_QUICKACK</p>
</li>
</ul>
</div>
<div class="listingblock">
<div class="content">
<pre>quarkus.http.tcp-quick-ack=true</pre>
</div>
</div>
<div class="ulist">
<ul>
<li>
<p>TCP_CORK</p>
</li>
</ul>
</div>
<div class="listingblock">
<div class="content">
<pre>quarkus.http.tcp-cork=true</pre>
</div>
</div>
<div class="ulist">
<ul>
<li>
<p>TCP_FASTOPEN</p>
</li>
</ul>
</div>
<div class="listingblock">
<div class="content">
<pre>quarkus.http.tcp-fast-open=true</pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="native-macos-transport"><a class="anchor" href="#native-macos-transport"></a>Native MacOS Transport</h3>
<div class="paragraph">
<p>On MacOS Sierra and above you can enable the following socket options:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>SO_REUSEPORT</p>
</li>
</ul>
</div>
<div class="listingblock">
<div class="content">
<pre>quarkus.http.so-reuse-port=true</pre>
</div>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="listening-to-a-unix-domain-socket"><a class="anchor" href="#listening-to-a-unix-domain-socket"></a>Listening to a Unix Domain Socket</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Listening on a Unix domain socket allows us to dispense with the overhead of TCP
if the connection to the quarkus service is established from the same host. This can happen
if access to the service goes through a proxy which is often the case
if you&#8217;re setting up a service mesh with a proxy like Envoy.</p>
</div>
<div class="admonitionblock important">
<table>
<tr>
<td class="icon">
<i class="fa icon-important" title="Important"></i>
</td>
<td class="content">
This will only work on platforms that support <a href="#native-transport">Native Transport</a>.
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>Enable the appropriate <a href="#native-transport">Native Transport</a> and set the following
environment property:</p>
</div>
<div class="listingblock">
<div class="content">
<pre>quarkus.http.domain-socket=/var/run/io.quarkus.app.socket
quarkus.http.domain-socket-enabled=true</pre>
</div>
</div>
<div class="paragraph">
<p>By itself this will not disable the tcp socket which by default will open on
<code>0.0.0.0:8080</code>. It can be explicitly disabled:</p>
</div>
<div class="listingblock">
<div class="content">
<pre>quarkus.http.host-enabled=false</pre>
</div>
</div>
<div class="paragraph">
<p>These properties can be set through Java&#8217;s <code>-D</code> command line parameter or
on <code>application.properties</code>.</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="read-only-deployment-environments"><a class="anchor" href="#read-only-deployment-environments"></a>Read only deployment environments</h2>
<div class="sectionbody">
<div class="paragraph">
<p>In environments with read only file systems you may receive errors of the form:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-none hljs">java.lang.IllegalStateException: Failed to create cache dir</code></pre>
</div>
</div>
<div class="paragraph">
<p>Assuming <code>/tmp/</code> is writable this can be fixed by setting the <code>vertx.cacheDirBase</code> property to point to a directory in <code>/tmp/</code> for instance in OpenShift by creating an environment variable <code>JAVA_OPTS</code> with the value <code>-Dvertx.cacheDirBase=/tmp/vertx</code>.</p>
</div>
</div>
</div>
    </div>
  </div>
</div>

  </div>

  <div class="content project-footer">
  <div class="footer-section">
    <div class="logo-wrapper">
      <a href="/"><img src="/assets/images/quarkus_logo_horizontal_rgb_reverse.svg" class="project-logo" title="Quarkus"></a>
    </div>
  </div>
  <div class="grid-wrapper">
    <p class="grid__item width-3-12">Quarkus is open. All dependencies of this project are available under the <a href='https://www.apache.org/licenses/LICENSE-2.0' target='_blank'>Apache Software License 2.0</a> or compatible license.<br /><br />This website was built with <a href='https://jekyllrb.com/' target='_blank'>Jekyll</a>, is hosted on <a href='https://pages.github.com/' target='_blank'>GitHub Pages</a> and is completely open source. If you want to make it better, <a href='https://github.com/quarkusio/quarkusio.github.io' target='_blank'>fork the website</a> and show us what you’ve got.</p>

    
      <div class="width-1-12 project-links">
        <span>Navigation</span>
        <ul class="footer-links">
          
            <li><a href="/">Home</a></li>
          
            <li><a href="/about">About</a></li>
          
            <li><a href="/blog">Blog</a></li>
          
            <li><a href="/insights">Podcast</a></li>
          
            <li><a href="/events">Events</a></li>
          
            <li><a href="/newsletter">Newsletter</a></li>
          
            <li><a href="/publications">Publications</a></li>
          
            <li><a href="/awards">Awards</a></li>
          
            <li><a href="/security">Security&nbsp;policy</a></li>
          
        </ul>
      </div>
    
      <div class="width-1-12 project-links">
        <span>Follow Us</span>
        <ul class="footer-links">
          
            <li><a href="https://twitter.com/quarkusio">Twitter</a></li>
          
            <li><a href="https://www.facebook.com/quarkusio">Facebook</a></li>
          
            <li><a href="https://www.linkedin.com/company/quarkusio/">Linkedin</a></li>
          
            <li><a href="https://www.youtube.com/channel/UCaW8QG_QoIk_FnjLgr5eOqg">Youtube</a></li>
          
            <li><a href="https://github.com/quarkusio">GitHub</a></li>
          
        </ul>
      </div>
    
      <div class="width-2-12 project-links">
        <span>Get Help</span>
        <ul class="footer-links">
          
            <li><a href="/support">Support</a></li>
          
            <li><a href="/guides">Guides</a></li>
          
            <li><a href="/faq">FAQ</a></li>
          
            <li><a href="/get-started">Get Started</a></li>
          
            <li><a href="https://stackoverflow.com/questions/tagged/quarkus">Stack Overflow</a></li>
          
            <li><a href="https://github.com/quarkusio/quarkus/discussions">Discussions</a></li>
          
            <li><a href="https://groups.google.com/forum/#!forum/quarkus-dev">Development mailing list</a></li>
          
        </ul>
      </div>
    
      <div class="width-1-12 project-links">
        <span>Languages</span>
        <ul class="footer-links">
          
            <li><a href="https://quarkus.io/">English</a></li>
          
            <li><a href="https://ja.quarkus.io/">日本語</a></li>
          
            <li><a href="https://cn.quarkus.io/">简体中文</a></li>
          
        </ul>
      </div>
    

    
      <div class="width-4-12 more-links">
        <span>Quarkus is made of community projects</span>
        <ul class="footer-links">
          
            <li><a href="https://vertx.io/" target="_blank">Eclipse Vert.x</a></li>
          
            <li><a href="https://smallrye.io" target="_blank">SmallRye</a></li>
          
            <li><a href="https://hibernate.org" target="_blank">Hibernate</a></li>
          
            <li><a href="https://netty.io" target="_blank">Netty</a></li>
          
            <li><a href="https://resteasy.github.io" target="_blank">RESTEasy</a></li>
          
            <li><a href="https://camel.apache.org" target="_blank">Apache Camel</a></li>
          
            <li><a href="https://microprofile.io" target="_blank">Eclipse MicroProfile</a></li>
          
            <li><a href="https://code.quarkus.io/" target="_blank">And many more...</a></li>
          
        </ul>
      </div>
    
  </div>
</div>

  <div class="content redhat-footer">
  <div class="grid-wrapper">
    <span class="licence">
      <i class="fab fa-creative-commons"></i><i class="fab fa-creative-commons-by"></i> <a href="https://creativecommons.org/licenses/by/3.0/" target="_blank">CC by 3.0</a> | <a href="https://www.redhat.com/en/about/privacy-policy">Privacy Policy</a>
    </span>
    <span class="redhat">
      Sponsored by
    </span>
    <span class="redhat-logo">
      <a href="https://www.redhat.com/" target="_blank"><img src="/assets/images/redhat_reversed.svg"></a>
    </span>
  </div>
</div>


  <script src="https://ajax.googleapis.com/ajax/libs/jquery/2.1.4/jquery.min.js" integrity="sha384-8gBf6Y4YYq7Jx97PIqmTwLPin4hxIzQw5aDmUg/DDhul9fFpbbLcLh3nTIIDJKhx" crossorigin="anonymous"></script>
  <script type="text/javascript" src="/assets/javascript/mobile-nav.js"></script>
  <script type="text/javascript" src="/assets/javascript/scroll-down.js"></script>
  <script src="/assets/javascript/satellite.js" type="text/javascript"></script>
  <script src="/guides/javascript/config.js" type="text/javascript"></script>
  <script src="/assets/javascript/search-filter.js" type="text/javascript"></script>
  <script src="/assets/javascript/guides-version-dropdown.js" type="text/javascript"></script>
  <script src="/assets/javascript/back-to-top.js" type="text/javascript"></script>
  <script src="/assets/javascript/clipboard.min.js" type="text/javascript"></script>
  <script src="/assets/javascript/copy.js" type="text/javascript"></script>
  <script src="/assets/javascript/asciidoc-tabs.js" type="text/javascript"></script>
</body>

</html>
